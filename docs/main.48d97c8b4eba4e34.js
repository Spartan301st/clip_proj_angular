"use strict";(self.webpackChunkclips=self.webpackChunkclips||[]).push([[179],{2011:(st,Ee,N)=>{N.d(Ee,{Dh:()=>de,GT:()=>pe,cc:()=>ke,hO:()=>He,on:()=>$,pX:()=>X,xv:()=>ue});var c=N(5e3),Y=N(127),O=N(5813);st=N.hmd(st);const ne=["ngOnDestroy"],X=(we,at,rt,Te={})=>new Proxy(we,{get:(_e,ve)=>rt.runOutsideAngular(()=>{var Ge;if(we[ve])return(null===(Ge=null==Te?void 0:Te.spy)||void 0===Ge?void 0:Ge.get)&&Te.spy.get(ve,we[ve]),we[ve];if(ne.indexOf(ve)>-1)return()=>{};const je=at.toPromise().then(te=>{const z=te&&te[ve];return"function"==typeof z?z.bind(te):z&&z.then?z.then(re=>rt.run(()=>re)):rt.run(()=>z)});return new Proxy(()=>{},{get:(te,z)=>je[z],apply:(te,z,re)=>je.then(me=>{var ie;const Oe=me&&me(...re);return(null===(ie=null==Te?void 0:Te.spy)||void 0===ie?void 0:ie.apply)&&Te.spy.apply(ve,re,Oe),Oe})})})}),pe=(we,at)=>{at.forEach(rt=>{Object.getOwnPropertyNames(rt.prototype||rt).forEach(Te=>{Object.defineProperty(we.prototype,Te,Object.getOwnPropertyDescriptor(rt.prototype||rt,Te))})})};class se{constructor(at){return at}}const de=new c.OlP("angularfire2.app.options"),ue=new c.OlP("angularfire2.app.name");function $(we,at,rt){const _e="object"==typeof rt&&rt||{};_e.name=_e.name||"string"==typeof rt&&rt||"[DEFAULT]";const Ge=Y.Z.apps.filter(je=>je&&je.name===_e.name)[0]||at.runOutsideAngular(()=>Y.Z.initializeApp(we,_e));try{JSON.stringify(we)!==JSON.stringify(Ge.options)&&H("error",`${Ge.name} Firebase App already initialized with different options${st.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(je){}return new se(Ge)}const H=(we,...at)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[we](...at)},Z={provide:se,useFactory:$,deps:[de,c.R0b,[new c.FiY,ue]]};let He=(()=>{class we{constructor(rt){Y.Z.registerVersion("angularfire",O.q4.full,"core"),Y.Z.registerVersion("angularfire",O.q4.full,"app-compat"),Y.Z.registerVersion("angular",c.q4F.full,rt.toString())}static initializeApp(rt,Te){return{ngModule:we,providers:[{provide:de,useValue:rt},{provide:ue,useValue:Te}]}}}return we.\u0275fac=function(rt){return new(rt||we)(c.LFG(c.Lbi))},we.\u0275mod=c.oAB({type:we}),we.\u0275inj=c.cJS({providers:[Z]}),we})();function ke(we,at,rt,Te,_e){const[,ve,Ge]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===we)||[];if(ve)return function Se(we,at){try{return we.toString()===at.toString()}catch(rt){return we===at}}(_e,Ge)||(ye("error",`${at} was already initialized on the ${rt} Firebase App with different settings.${Ye?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:_e,was:Ge})),ve;{const je=Te();return globalThis.\u0275AngularfireInstanceCache.push([we,je,_e]),je}}const Ye=!!st.hot,ye=(we,...at)=>{(0,c.X6Q)()&&"undefined"!=typeof console&&console[we](...at)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(st,Ee,N)=>{N.d(Ee,{q4:()=>Bl,iC:()=>ql,fc:()=>Un,HU:()=>Iu,vb:()=>hd,JM:()=>no});var c=N(5e3),Y=N(5867),O=N(5861),ne=N(9681),X=N(2090),pe=N(4859),se=N(1877);const de="@firebase/installations",H="w:0.5.7",Z="FIS_v2",we=new X.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function at(C){return C instanceof X.ZR&&C.code.includes("request-failed")}function rt({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Te(C){return{token:C.token,requestStatus:2,expiresIn:re(C.expiresIn),creationTime:Date.now()}}function _e(C,D){return ve.apply(this,arguments)}function ve(){return(ve=(0,O.Z)(function*(C,D){const F=(yield D.json()).error;return we.create("request-failed",{requestName:C,serverCode:F.code,serverMessage:F.message,serverStatus:F.status})})).apply(this,arguments)}function Ge({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function je(C,{refreshToken:D}){const R=Ge(C);return R.append("Authorization",function me(C){return`${Z} ${C}`}(D)),R}function te(C){return z.apply(this,arguments)}function z(){return(z=(0,O.Z)(function*(C){const D=yield C();return D.status>=500&&D.status<600?C():D})).apply(this,arguments)}function re(C){return Number(C.replace("s","000"))}function ie(C,D){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:D},{fid:R}){const F=rt(C),W=Ge(C),ee=D.getImmediate({optional:!0});if(ee){const Et=yield ee.getHeartbeatsHeader();Et&&W.append("x-firebase-client",Et)}const Me={method:"POST",headers:W,body:JSON.stringify({fid:R,authVersion:Z,appId:C.appId,sdkVersion:H})},Qe=yield te(()=>fetch(F,Me));if(Qe.ok){const Et=yield Qe.json();return{fid:Et.fid||R,registrationStatus:2,refreshToken:Et.refreshToken,authToken:Te(Et.authToken)}}throw yield _e("Create Installation",Qe)})).apply(this,arguments)}function ae(C){return new Promise(D=>{setTimeout(D,C)})}const Wt=/^[cdef][\w-]{21}$/;function lt(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const R=function mt(C){return function Dt(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return Wt.test(R)?R:""}catch(C){return""}}function on(C){return`${C.appName}!${C.appId}`}const an=new Map;function Ei(C,D){const R=on(C);Kt(R,D),function jt(C,D){const R=function ri(){return!rr&&"BroadcastChannel"in self&&(rr=new BroadcastChannel("[Firebase] FID Change"),rr.onmessage=C=>{Kt(C.data.key,C.data.fid)}),rr}();R&&R.postMessage({key:C,fid:D}),function Os(){0===an.size&&rr&&(rr.close(),rr=null)}()}(R,D)}function Kt(C,D){const R=an.get(C);if(R)for(const F of R)F(D)}let rr=null;const kr="firebase-installations-store";let rs=null;function is(){return rs||(rs=(0,X.X3)("firebase-installations-database",1,(C,D)=>{0===D&&C.createObjectStore(kr)})),rs}function ct(C,D){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,O.Z)(function*(C,D){const R=on(C),W=(yield is()).transaction(kr,"readwrite"),ee=W.objectStore(kr),xe=yield ee.get(R);return yield ee.put(D,R),yield W.complete,(!xe||xe.fid!==D.fid)&&Ei(C,D.fid),D})).apply(this,arguments)}function Qn(C){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,O.Z)(function*(C){const D=on(C),F=(yield is()).transaction(kr,"readwrite");yield F.objectStore(kr).delete(D),yield F.complete})).apply(this,arguments)}function ii(C,D){return ho.apply(this,arguments)}function ho(){return(ho=(0,O.Z)(function*(C,D){const R=on(C),W=(yield is()).transaction(kr,"readwrite"),ee=W.objectStore(kr),xe=yield ee.get(R),Me=D(xe);return void 0===Me?yield ee.delete(R):yield ee.put(Me,R),yield W.complete,Me&&(!xe||xe.fid!==Me.fid)&&Ei(C,Me.fid),Me})).apply(this,arguments)}function fn(C){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,O.Z)(function*(C){let D;const R=yield ii(C.appConfig,F=>{const W=Ps(F),ee=wa(C,W);return D=ee.registrationPromise,ee.installationEntry});return""===R.fid?{installationEntry:yield D}:{installationEntry:R,registrationPromise:D}})).apply(this,arguments)}function Ps(C){return Bt(C||{fid:lt(),registrationStatus:0})}function wa(C,D){if(0===D.registrationStatus){if(!navigator.onLine)return{installationEntry:D,registrationPromise:Promise.reject(we.create("app-offline"))};const R={fid:D.fid,registrationStatus:1,registrationTime:Date.now()},F=function $t(C,D){return ot.apply(this,arguments)}(C,R);return{installationEntry:R,registrationPromise:F}}return 1===D.registrationStatus?{installationEntry:D,registrationPromise:wt(C)}:{installationEntry:D}}function ot(){return(ot=(0,O.Z)(function*(C,D){try{const R=yield ie(C,D);return ct(C.appConfig,R)}catch(R){throw at(R)&&409===R.customData.serverCode?yield Qn(C.appConfig):yield ct(C.appConfig,{fid:D.fid,registrationStatus:0}),R}})).apply(this,arguments)}function wt(C){return ir.apply(this,arguments)}function ir(){return(ir=(0,O.Z)(function*(C){let D=yield Bi(C.appConfig);for(;1===D.registrationStatus;)yield ae(100),D=yield Bi(C.appConfig);if(0===D.registrationStatus){const{installationEntry:R,registrationPromise:F}=yield fn(C);return F||R}return D})).apply(this,arguments)}function Bi(C){return ii(C,D=>{if(!D)throw we.create("installation-not-found");return Bt(D)})}function Bt(C){return function fo(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function yr(C,D){return sr.apply(this,arguments)}function sr(){return(sr=(0,O.Z)(function*({appConfig:C,heartbeatServiceProvider:D},R){const F=ft(C,R),W=je(C,R),ee=D.getImmediate({optional:!0});if(ee){const Et=yield ee.getHeartbeatsHeader();Et&&W.append("x-firebase-client",Et)}const Me={method:"POST",headers:W,body:JSON.stringify({installation:{sdkVersion:H,appId:C.appId}})},Qe=yield te(()=>fetch(F,Me));if(Qe.ok)return Te(yield Qe.json());throw yield _e("Generate Auth Token",Qe)})).apply(this,arguments)}function ft(C,{fid:D}){return`${rt(C)}/${D}/authTokens:generate`}function _r(C){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,O.Z)(function*(C,D=!1){let R;const F=yield ii(C.appConfig,ee=>{if(!Ft(ee))throw we.create("not-registered");const xe=ee.authToken;if(!D&&B(xe))return ee;if(1===xe.requestStatus)return R=ze(C,D),ee;{if(!navigator.onLine)throw we.create("app-offline");const Me=G(ee);return R=pt(C,Me),Me}});return R?yield R:F.authToken})).apply(this,arguments)}function ze(C,D){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,O.Z)(function*(C,D){let R=yield Je(C.appConfig);for(;1===R.authToken.requestStatus;)yield ae(100),R=yield Je(C.appConfig);const F=R.authToken;return 0===F.requestStatus?_r(C,D):F})).apply(this,arguments)}function Je(C){return ii(C,D=>{if(!Ft(D))throw we.create("not-registered");return function ce(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(D.authToken)?Object.assign(Object.assign({},D),{authToken:{requestStatus:0}}):D})}function pt(C,D){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,O.Z)(function*(C,D){try{const R=yield yr(C,D),F=Object.assign(Object.assign({},D),{authToken:R});return yield ct(C.appConfig,F),R}catch(R){if(!at(R)||401!==R.customData.serverCode&&404!==R.customData.serverCode){const F=Object.assign(Object.assign({},D),{authToken:{requestStatus:0}});yield ct(C.appConfig,F)}else yield Qn(C.appConfig);throw R}})).apply(this,arguments)}function Ft(C){return void 0!==C&&2===C.registrationStatus}function B(C){return 2===C.requestStatus&&!function L(C){const D=Date.now();return D<C.creationTime||C.creationTime+C.expiresIn<D+36e5}(C)}function G(C){const D={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:D})}function Ue(){return(Ue=(0,O.Z)(function*(C){const D=C,{installationEntry:R,registrationPromise:F}=yield fn(D);return F?F.catch(console.error):_r(D).catch(console.error),R.fid})).apply(this,arguments)}function Zt(){return(Zt=(0,O.Z)(function*(C,D=!1){const R=C;return yield vr(R),(yield _r(R,D)).token})).apply(this,arguments)}function vr(C){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,O.Z)(function*(C){const{registrationPromise:D}=yield fn(C);D&&(yield D)})).apply(this,arguments)}function Gn(C){return we.create("missing-app-config-values",{valueName:C})}const ba="installations",Pe=C=>{const D=C.getProvider("app").getImmediate(),R=function ss(C){if(!C||!C.options)throw Gn("App Configuration");if(!C.name)throw Gn("App Name");const D=["projectId","apiKey","appId"];for(const R of D)if(!C.options[R])throw Gn(R);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(D);return{app:D,appConfig:R,heartbeatServiceProvider:(0,ne._getProvider)(D,"heartbeat"),_delete:()=>Promise.resolve()}},Ot=C=>{const D=C.getProvider("app").getImmediate(),R=(0,ne._getProvider)(D,ba).getImmediate();return{getId:()=>function Q(C){return Ue.apply(this,arguments)}(R),getToken:W=>function yt(C){return Zt.apply(this,arguments)}(R,W)}};(function ln(){(0,ne._registerComponent)(new pe.wA(ba,Pe,"PUBLIC")),(0,ne._registerComponent)(new pe.wA("installations-internal",Ot,"PRIVATE"))})(),(0,ne.registerVersion)(de,"0.5.7"),(0,ne.registerVersion)(de,"0.5.7","esm2017");const or="@firebase/remote-config",Rn=new X.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Th{constructor(D,R,F,W){this.client=D,this.storage=R,this.storageCache=F,this.logger=W}isCachedDataFresh(D,R){if(!R)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const F=Date.now()-R,W=F<=D;return this.logger.debug(`Config fetch cache check. Cache age millis: ${F}. Cache max age millis (minimumFetchIntervalMillis setting): ${D}. Is cache hit: ${W}.`),W}fetch(D){var R=this;return(0,O.Z)(function*(){const[F,W]=yield Promise.all([R.storage.getLastSuccessfulFetchTimestampMillis(),R.storage.getLastSuccessfulFetchResponse()]);if(W&&R.isCachedDataFresh(D.cacheMaxAgeMillis,F))return W;D.eTag=W&&W.eTag;const ee=yield R.client.fetch(D),xe=[R.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ee.status&&xe.push(R.storage.setLastSuccessfulFetchResponse(ee)),yield Promise.all(xe),ee})()}}function qc(C=navigator){return C.languages&&C.languages[0]||C.language}class iu{constructor(D,R,F,W,ee,xe){this.firebaseInstallations=D,this.sdkVersion=R,this.namespace=F,this.projectId=W,this.apiKey=ee,this.appId=xe}fetch(D){var R=this;return(0,O.Z)(function*(){const[F,W]=yield Promise.all([R.firebaseInstallations.getId(),R.firebaseInstallations.getToken()]),xe=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${R.projectId}/namespaces/${R.namespace}:fetch?key=${R.apiKey}`,Me={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":D.eTag||"*"},Qe={sdk_version:R.sdkVersion,app_instance_id:F,app_instance_id_token:W,app_id:R.appId,language_code:qc()},Et={method:"POST",headers:Me,body:JSON.stringify(Qe)},Nt=fetch(xe,Et),St=new Promise((pi,Mi)=>{D.signal.addEventListener(()=>{const So=new Error("The operation was aborted.");So.name="AbortError",Mi(So)})});let Vn;try{yield Promise.race([Nt,St]),Vn=yield Nt}catch(pi){let Mi="fetch-client-network";throw"AbortError"===pi.name&&(Mi="fetch-timeout"),Rn.create(Mi,{originalErrorMessage:pi.message})}let Dn=Vn.status;const ta=Vn.headers.get("ETag")||void 0;let Ao,Pr;if(200===Vn.status){let pi;try{pi=yield Vn.json()}catch(Mi){throw Rn.create("fetch-client-parse",{originalErrorMessage:Mi.message})}Ao=pi.entries,Pr=pi.state}if("INSTANCE_STATE_UNSPECIFIED"===Pr?Dn=500:"NO_CHANGE"===Pr?Dn=304:("NO_TEMPLATE"===Pr||"EMPTY_CONFIG"===Pr)&&(Ao={}),304!==Dn&&200!==Dn)throw Rn.create("fetch-status",{httpStatus:Dn});return{status:Dn,eTag:ta,config:Ao}})()}}class Op{constructor(D,R){this.client=D,this.storage=R}fetch(D){var R=this;return(0,O.Z)(function*(){const F=(yield R.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return R.attemptFetch(D,F)})()}attemptFetch(D,{throttleEndTimeMillis:R,backoffCount:F}){var W=this;return(0,O.Z)(function*(){yield function Fn(C,D){return new Promise((R,F)=>{const W=Math.max(D-Date.now(),0),ee=setTimeout(R,W);C.addEventListener(()=>{clearTimeout(ee),F(Rn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}(D.signal,R);try{const ee=yield W.client.fetch(D);return yield W.storage.deleteThrottleMetadata(),ee}catch(ee){if(!function Zc(C){if(!(C instanceof X.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}(ee))throw ee;const xe={throttleEndTimeMillis:Date.now()+(0,X.$s)(F),backoffCount:F+1};return yield W.storage.setThrottleMetadata(xe),W.attemptFetch(D,xe)}})()}}class su{constructor(D,R,F,W,ee){this.app=D,this._client=R,this._storageCache=F,this._storage=W,this._logger=ee,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ml(C,D){const R=C.target.error||void 0;return Rn.create(D,{originalErrorMessage:R&&R.message})}const Bs="app_namespace_store";class Up{constructor(D,R,F,W=function Lp(){return new Promise((C,D)=>{try{const R=indexedDB.open("firebase_remote_config",1);R.onerror=F=>{D(ml(F,"storage-open"))},R.onsuccess=F=>{C(F.target.result)},R.onupgradeneeded=F=>{0===F.oldVersion&&F.target.result.createObjectStore(Bs,{keyPath:"compositeKey"})}}catch(R){D(Rn.create("storage-open",{originalErrorMessage:R}))}})}()){this.appId=D,this.appName=R,this.namespace=F,this.openDbPromise=W}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(D){return this.set("last_fetch_status",D)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(D){return this.set("last_successful_fetch_timestamp_millis",D)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(D){return this.set("last_successful_fetch_response",D)}getActiveConfig(){return this.get("active_config")}setActiveConfig(D){return this.set("active_config",D)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(D){return this.set("active_config_etag",D)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(D){return this.set("throttle_metadata",D)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(D){var R=this;return(0,O.Z)(function*(){const F=yield R.openDbPromise;return new Promise((W,ee)=>{const Me=F.transaction([Bs],"readonly").objectStore(Bs),Qe=R.createCompositeKey(D);try{const Et=Me.get(Qe);Et.onerror=Nt=>{ee(ml(Nt,"storage-get"))},Et.onsuccess=Nt=>{const St=Nt.target.result;W(St?St.value:void 0)}}catch(Et){ee(Rn.create("storage-get",{originalErrorMessage:Et&&Et.message}))}})})()}set(D,R){var F=this;return(0,O.Z)(function*(){const W=yield F.openDbPromise;return new Promise((ee,xe)=>{const Qe=W.transaction([Bs],"readwrite").objectStore(Bs),Et=F.createCompositeKey(D);try{const Nt=Qe.put({compositeKey:Et,value:R});Nt.onerror=St=>{xe(ml(St,"storage-set"))},Nt.onsuccess=()=>{ee()}}catch(Nt){xe(Rn.create("storage-set",{originalErrorMessage:Nt&&Nt.message}))}})})()}delete(D){var R=this;return(0,O.Z)(function*(){const F=yield R.openDbPromise;return new Promise((W,ee)=>{const Me=F.transaction([Bs],"readwrite").objectStore(Bs),Qe=R.createCompositeKey(D);try{const Et=Me.delete(Qe);Et.onerror=Nt=>{ee(ml(Nt,"storage-delete"))},Et.onsuccess=()=>{W()}}catch(Et){ee(Rn.create("storage-delete",{originalErrorMessage:Et&&Et.message}))}})})()}createCompositeKey(D){return[this.appId,this.appName,this.namespace,D].join()}}class Wc{constructor(D){this.storage=D}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var D=this;return(0,O.Z)(function*(){const R=D.storage.getLastFetchStatus(),F=D.storage.getLastSuccessfulFetchTimestampMillis(),W=D.storage.getActiveConfig(),ee=yield R;ee&&(D.lastFetchStatus=ee);const xe=yield F;xe&&(D.lastSuccessfulFetchTimestampMillis=xe);const Me=yield W;Me&&(D.activeConfig=Me)})()}setLastFetchStatus(D){return this.lastFetchStatus=D,this.storage.setLastFetchStatus(D)}setLastSuccessfulFetchTimestampMillis(D){return this.lastSuccessfulFetchTimestampMillis=D,this.storage.setLastSuccessfulFetchTimestampMillis(D)}setActiveConfig(D){return this.activeConfig=D,this.storage.setActiveConfig(D)}}function go(){return Ah.apply(this,arguments)}function Ah(){return(Ah=(0,O.Z)(function*(){if(!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}!function Ho(){(0,ne._registerComponent)(new pe.wA("remote-config",function C(D,{instanceIdentifier:R}){const F=D.getProvider("app").getImmediate(),W=D.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Rn.create("registration-window");if(!(0,X.hl)())throw Rn.create("indexed-db-unavailable");const{projectId:ee,apiKey:xe,appId:Me}=F.options;if(!ee)throw Rn.create("registration-project-id");if(!xe)throw Rn.create("registration-api-key");if(!Me)throw Rn.create("registration-app-id");const Qe=new Up(Me,F.name,R=R||"firebase"),Et=new Wc(Qe),Nt=new se.Yd(or);Nt.logLevel=se.in.ERROR;const St=new iu(W,ne.SDK_VERSION,R,ee,xe,Me),Vn=new Op(St,Qe),Dn=new Th(Vn,Qe,Et,Nt),ta=new su(F,Dn,Et,Qe,Nt);return function qn(C){const D=(0,X.m9)(C);D._initializePromise||(D._initializePromise=D._storageCache.loadFromStorage().then(()=>{D._isInitializationComplete=!0}))}(ta),ta},"PUBLIC").setMultipleInstances(!0)),(0,ne.registerVersion)(or,"0.3.6"),(0,ne.registerVersion)(or,"0.3.6","esm2017")}();const yl="/firebase-messaging-sw.js",js="/firebase-cloud-messaging-push-scope",Nr="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",mo="google.c.a.c_id",Ia="google.c.a.c_l",Kc="google.c.a.ts",Vp="google.c.a.e";var $s=(()=>{return(C=$s||($s={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",$s;var C})();function ui(C){const D=new Uint8Array(C);return btoa(String.fromCharCode(...D)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function au(C){const R=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),F=atob(R),W=new Uint8Array(F.length);for(let ee=0;ee<F.length;++ee)W[ee]=F.charCodeAt(ee);return W}const uu="fcm_token_details_db",ar="fcm_token_object_Store";function Sh(C){return lu.apply(this,arguments)}function lu(){return lu=(0,O.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ee=>ee.name).includes(uu))return null;let D=null;return(yield(0,X.X3)(uu,5,function(){var F=(0,O.Z)(function*(W,ee,xe,Me){var Qe;if(ee<2||!W.objectStoreNames.contains(ar))return;const Et=Me.objectStore(ar),Nt=yield Et.index("fcmSenderId").get(C);if(yield Et.clear(),Nt)if(2===ee){const St=Nt;if(!St.auth||!St.p256dh||!St.endpoint)return;D={token:St.fcmToken,createTime:null!==(Qe=St.createTime)&&void 0!==Qe?Qe:Date.now(),subscriptionOptions:{auth:St.auth,p256dh:St.p256dh,endpoint:St.endpoint,swScope:St.swScope,vapidKey:"string"==typeof St.vapidKey?St.vapidKey:ui(St.vapidKey)}}}else if(3===ee){const St=Nt;D={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:ui(St.auth),p256dh:ui(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:ui(St.vapidKey)}}}else if(4===ee){const St=Nt;D={token:St.fcmToken,createTime:St.createTime,subscriptionOptions:{auth:ui(St.auth),p256dh:ui(St.p256dh),endpoint:St.endpoint,swScope:St.swScope,vapidKey:ui(St.vapidKey)}}}});return function(W,ee,xe,Me){return F.apply(this,arguments)}}())).close(),yield(0,X.Lj)(uu),yield(0,X.Lj)("fcm_vapid_details_db"),yield(0,X.Lj)("undefined"),Yc(D)?D:null}),lu.apply(this,arguments)}function Yc(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:D}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof D.auth&&D.auth.length>0&&"string"==typeof D.p256dh&&D.p256dh.length>0&&"string"==typeof D.endpoint&&D.endpoint.length>0&&"string"==typeof D.swScope&&D.swScope.length>0&&"string"==typeof D.vapidKey&&D.vapidKey.length>0}const cs="firebase-messaging-store";let Da=null;function _l(){return Da||(Da=(0,X.X3)("firebase-messaging-database",1,(C,D)=>{0===D&&C.createObjectStore(cs)})),Da}function dn(C){return qo.apply(this,arguments)}function qo(){return(qo=(0,O.Z)(function*(C){const D=_o(C),F=yield(yield _l()).transaction(cs).objectStore(cs).get(D);if(F)return F;{const W=yield Sh(C.appConfig.senderId);if(W)return yield Hs(C,W),W}})).apply(this,arguments)}function Hs(C,D){return rn.apply(this,arguments)}function rn(){return(rn=(0,O.Z)(function*(C,D){const R=_o(C),W=(yield _l()).transaction(cs,"readwrite");return yield W.objectStore(cs).put(D,R),yield W.complete,D})).apply(this,arguments)}function Qc(C){return yo.apply(this,arguments)}function yo(){return(yo=(0,O.Z)(function*(C){const D=_o(C),F=(yield _l()).transaction(cs,"readwrite");yield F.objectStore(cs).delete(D),yield F.complete})).apply(this,arguments)}function _o({appConfig:C}){return C.appId}const kn=new X.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ta(C,D){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,O.Z)(function*(C,D){const R=yield qs(C),F=gt(D),W={method:"POST",headers:R,body:JSON.stringify(F)};let ee;try{ee=yield(yield fetch(zr(C.appConfig),W)).json()}catch(xe){throw kn.create("token-subscribe-failed",{errorInfo:xe})}if(ee.error)throw kn.create("token-subscribe-failed",{errorInfo:ee.error.message});if(!ee.token)throw kn.create("token-subscribe-no-token");return ee.token})).apply(this,arguments)}function Er(C,D){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,O.Z)(function*(C,D){const R=yield qs(C),F=gt(D.subscriptionOptions),W={method:"PATCH",headers:R,body:JSON.stringify(F)};let ee;try{ee=yield(yield fetch(`${zr(C.appConfig)}/${D.token}`,W)).json()}catch(xe){throw kn.create("token-update-failed",{errorInfo:xe})}if(ee.error)throw kn.create("token-update-failed",{errorInfo:ee.error.message});if(!ee.token)throw kn.create("token-update-no-token");return ee.token})).apply(this,arguments)}function ds(C,D){return hu.apply(this,arguments)}function hu(){return(hu=(0,O.Z)(function*(C,D){const F={method:"DELETE",headers:yield qs(C)};try{const ee=yield(yield fetch(`${zr(C.appConfig)}/${D}`,F)).json();if(ee.error)throw kn.create("token-unsubscribe-failed",{errorInfo:ee.error.message})}catch(W){throw kn.create("token-unsubscribe-failed",{errorInfo:W})}})).apply(this,arguments)}function zr({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function qs(C){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,O.Z)(function*({appConfig:C,installations:D}){const R=yield D.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${R}`})})).apply(this,arguments)}function gt({p256dh:C,auth:D,endpoint:R,vapidKey:F}){const W={web:{endpoint:R,auth:D,p256dh:C}};return F!==Nr&&(W.web.applicationPubKey=F),W}const fu=6048e5;function Aa(C){return pu.apply(this,arguments)}function pu(){return(pu=(0,O.Z)(function*(C){const D=yield El(C.swRegistration,C.vapidKey),R={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:D.endpoint,auth:ui(D.getKey("auth")),p256dh:ui(D.getKey("p256dh"))},F=yield dn(C.firebaseDependencies);if(F){if(Zo(F.subscriptionOptions,R))return Date.now()>=F.createTime+fu?vl(C,{token:F.token,createTime:Date.now(),subscriptionOptions:R}):F.token;try{yield ds(C.firebaseDependencies,F.token)}catch(W){console.warn(W)}return be(C.firebaseDependencies,R)}return be(C.firebaseDependencies,R)})).apply(this,arguments)}function gu(C){return mu.apply(this,arguments)}function mu(){return(mu=(0,O.Z)(function*(C){const D=yield dn(C.firebaseDependencies);D&&(yield ds(C.firebaseDependencies,D.token),yield Qc(C.firebaseDependencies));const R=yield C.swRegistration.pushManager.getSubscription();return!R||R.unsubscribe()})).apply(this,arguments)}function vl(C,D){return wl.apply(this,arguments)}function wl(){return(wl=(0,O.Z)(function*(C,D){try{const R=yield Er(C.firebaseDependencies,D),F=Object.assign(Object.assign({},D),{token:R,createTime:Date.now()});return yield Hs(C.firebaseDependencies,F),R}catch(R){throw yield gu(C),R}})).apply(this,arguments)}function be(C,D){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,O.Z)(function*(C,D){const F={token:yield Ta(C,D),createTime:Date.now(),subscriptionOptions:D};return yield Hs(C,F),F.token})).apply(this,arguments)}function El(C,D){return gn.apply(this,arguments)}function gn(){return(gn=(0,O.Z)(function*(C,D){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:au(D)})})).apply(this,arguments)}function Zo(C,D){return D.vapidKey===C.vapidKey&&D.endpoint===C.endpoint&&D.auth===C.auth&&D.p256dh===C.p256dh}function zo(C){const D={from:C.from,collapseKey:C.collapse_key,messageId:C.fcmMessageId};return function Wr(C,D){if(!D.notification)return;C.notification={};const R=D.notification.title;R&&(C.notification.title=R);const F=D.notification.body;F&&(C.notification.body=F);const W=D.notification.image;W&&(C.notification.image=W)}(D,C),function bl(C,D){!D.data||(C.data=D.data)}(D,C),function Cl(C,D){if(!D.fcmOptions)return;C.fcmOptions={};const R=D.fcmOptions.link;R&&(C.fcmOptions.link=R);const F=D.fcmOptions.analytics_label;F&&(C.fcmOptions.analyticsLabel=F)}(D,C),D}function Jc(C){return"object"==typeof C&&!!C&&mo in C}function Il(C,D){const R=[];for(let F=0;F<C.length;F++)R.push(C.charAt(F)),F<D.length&&R.push(D.charAt(F));return R.join("")}function zs(C){return kn.create("missing-app-config-values",{valueName:C})}Il("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Il("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ur{constructor(D,R,F){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const W=function yu(C){if(!C||!C.options)throw zs("App Configuration Object");if(!C.name)throw zs("App Name");const D=["projectId","apiKey","appId","messagingSenderId"],{options:R}=C;for(const F of D)if(!R[F])throw zs(F);return{appName:C.name,projectId:R.projectId,apiKey:R.apiKey,appId:R.appId,senderId:R.messagingSenderId}}(D);this.firebaseDependencies={app:D,appConfig:W,installations:R,analyticsProvider:F}}_delete(){return Promise.resolve()}}function li(C){return _u.apply(this,arguments)}function _u(){return(_u=(0,O.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(yl,{scope:js}),C.swRegistration.update().catch(()=>{})}catch(D){throw kn.create("failed-service-worker-registration",{browserErrorMessage:D.message})}})).apply(this,arguments)}function Ws(C,D){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,O.Z)(function*(C,D){if(!D&&!C.swRegistration&&(yield li(C)),D||!C.swRegistration){if(!(D instanceof ServiceWorkerRegistration))throw kn.create("invalid-sw-registration");C.swRegistration=D}})).apply(this,arguments)}function Dl(C,D){return vu.apply(this,arguments)}function vu(){return(vu=(0,O.Z)(function*(C,D){D?C.vapidKey=D:C.vapidKey||(C.vapidKey=Nr)})).apply(this,arguments)}function Tl(){return(Tl=(0,O.Z)(function*(C,D){if(!navigator)throw kn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw kn.create("permission-blocked");return yield Dl(C,null==D?void 0:D.vapidKey),yield Ws(C,null==D?void 0:D.serviceWorkerRegistration),Aa(C)})).apply(this,arguments)}function Sa(C,D,R){return xa.apply(this,arguments)}function xa(){return(xa=(0,O.Z)(function*(C,D,R){const F=Al(D);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(F,{message_id:R[mo],message_name:R[Ia],message_time:R[Kc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Al(C){switch(C){case $s.NOTIFICATION_CLICKED:return"notification_open";case $s.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Xc(){return(Xc=(0,O.Z)(function*(C,D){const R=D.data;if(!R.isFirebaseMessaging)return;C.onMessageHandler&&R.messageType===$s.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(zo(R)):C.onMessageHandler.next(zo(R)));const F=R.data;Jc(F)&&"1"===F[Vp]&&(yield Sa(C,R.messageType,F))})).apply(this,arguments)}const xl="@firebase/messaging",ed=C=>{const D=new ur(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",R=>function Sl(C,D){return Xc.apply(this,arguments)}(D,R)),D},wo=C=>{const D=C.getProvider("messaging").getImmediate();return{getToken:F=>function wu(C,D){return Tl.apply(this,arguments)}(D,F)}};function nd(){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,O.Z)(function*(){try{yield(0,X.eu)()}catch(C){return!1}return"undefined"!=typeof window&&(0,X.hl)()&&(0,X.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function td(){(0,ne._registerComponent)(new pe.wA("messaging",ed,"PUBLIC")),(0,ne._registerComponent)(new pe.wA("messaging-internal",wo,"PRIVATE")),(0,ne.registerVersion)(xl,"0.9.11"),(0,ne.registerVersion)(xl,"0.9.11","esm2017")}();const Rl="analytics",vy="firebase_id",Ma="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Eu="https://www.googletagmanager.com/gtag/js",Ln=new se.Yd("@firebase/analytics");function id(C){return Promise.all(C.map(D=>D.catch(R=>R)))}function Bp(C,D){const R=document.createElement("script");R.src=`${Eu}?l=${C}&id=${D}`,R.async=!0,document.head.appendChild(R)}function Wo(C,D,R,F,W,ee){return sd.apply(this,arguments)}function sd(){return(sd=(0,O.Z)(function*(C,D,R,F,W,ee){const xe=F[W];try{if(xe)yield D[xe];else{const Qe=(yield id(R)).find(Et=>Et.measurementId===W);Qe&&(yield D[Qe.appId])}}catch(Me){Ln.error(Me)}C("config",W,ee)})).apply(this,arguments)}function Nl(C,D,R,F,W){return bo.apply(this,arguments)}function bo(){return(bo=(0,O.Z)(function*(C,D,R,F,W){try{let ee=[];if(W&&W.send_to){let xe=W.send_to;Array.isArray(xe)||(xe=[xe]);const Me=yield id(R);for(const Qe of xe){const Et=Me.find(St=>St.measurementId===Qe),Nt=Et&&D[Et.appId];if(!Nt){ee=[];break}ee.push(Nt)}}0===ee.length&&(ee=Object.values(D)),yield Promise.all(ee),C("event",F,W||{})}catch(ee){Ln.error(ee)}})).apply(this,arguments)}function jp(){const C=window.document.getElementsByTagName("script");for(const D of Object.values(C))if(D.src&&D.src.includes(Eu))return D;return null}const Nn=new X.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Cr=new class Or{constructor(D={},R=1e3){this.throttleMetadata=D,this.intervalMillis=R}getThrottleMetadata(D){return this.throttleMetadata[D]}setThrottleMetadata(D,R){this.throttleMetadata[D]=R}deleteThrottleMetadata(D){delete this.throttleMetadata[D]}};function Ko(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function ad(C){return cn.apply(this,arguments)}function cn(){return(cn=(0,O.Z)(function*(C){var D;const{appId:R,apiKey:F}=C,W={method:"GET",headers:Ko(F)},ee=Ma.replace("{app-id}",R),xe=yield fetch(ee,W);if(200!==xe.status&&304!==xe.status){let Me="";try{const Qe=yield xe.json();(null===(D=Qe.error)||void 0===D?void 0:D.message)&&(Me=Qe.error.message)}catch(Qe){}throw Nn.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:Me})}return xe.json()})).apply(this,arguments)}function Mh(C){return Di.apply(this,arguments)}function Di(){return(Di=(0,O.Z)(function*(C,D=Cr,R){const{appId:F,apiKey:W,measurementId:ee}=C.options;if(!F)throw Nn.create("no-app-id");if(!W){if(ee)return{measurementId:ee,appId:F};throw Nn.create("no-api-key")}const xe=D.getThrottleMetadata(F)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Me=new Ol;return setTimeout((0,O.Z)(function*(){Me.abort()}),void 0!==R?R:6e4),bu({appId:F,apiKey:W,measurementId:ee},xe,Me,D)})).apply(this,arguments)}function bu(C,D,R){return ci.apply(this,arguments)}function ci(){return(ci=(0,O.Z)(function*(C,{throttleEndTimeMillis:D,backoffCount:R},F,W=Cr){const{appId:ee,measurementId:xe}=C;try{yield Tt(F,D)}catch(Me){if(xe)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Me.message}]`),{appId:ee,measurementId:xe};throw Me}try{const Me=yield ad(C);return W.deleteThrottleMetadata(ee),Me}catch(Me){if(!ud(Me)){if(W.deleteThrottleMetadata(ee),xe)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${xe} provided in the "measurementId" field in the local Firebase config. [${Me.message}]`),{appId:ee,measurementId:xe};throw Me}const Qe=503===Number(Me.customData.httpStatus)?(0,X.$s)(R,W.intervalMillis,30):(0,X.$s)(R,W.intervalMillis),Et={throttleEndTimeMillis:Date.now()+Qe,backoffCount:R+1};return W.setThrottleMetadata(ee,Et),Ln.debug(`Calling attemptFetch again in ${Qe} millis`),bu(C,Et,F,W)}})).apply(this,arguments)}function Tt(C,D){return new Promise((R,F)=>{const W=Math.max(D-Date.now(),0),ee=setTimeout(R,W);C.addEventListener(()=>{clearTimeout(ee),F(Nn.create("fetch-throttle",{throttleEndTimeMillis:D}))})})}function ud(C){if(!(C instanceof X.ZR&&C.customData))return!1;const D=Number(C.customData.httpStatus);return 429===D||500===D||503===D||504===D}class Ol{constructor(){this.listeners=[]}addEventListener(D){this.listeners.push(D)}abort(){this.listeners.forEach(D=>D())}}function ld(){return Co.apply(this,arguments)}function Co(){return(Co=(0,O.Z)(function*(){if(!(0,X.hl)())return Ln.warn(Nn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,X.eu)()}catch(C){return Ln.warn(Nn.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function ps(){return(ps=(0,O.Z)(function*(C,D,R,F,W,ee,xe){var Me;const Qe=Mh(C);Qe.then(Dn=>{R[Dn.measurementId]=Dn.appId,C.options.measurementId&&Dn.measurementId!==C.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Dn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Dn=>Ln.error(Dn)),D.push(Qe);const Et=ld().then(Dn=>{if(Dn)return F.getId()}),[Nt,St]=yield Promise.all([Qe,Et]);jp()||Bp(ee,Nt.measurementId),W("js",new Date);const Vn=null!==(Me=null==xe?void 0:xe.config)&&void 0!==Me?Me:{};return Vn.origin="firebase",Vn.update=!0,null!=St&&(Vn[vy]=St),W("config",Nt.measurementId,Vn),Nt.measurementId})).apply(this,arguments)}class Io{constructor(D){this.app=D}_delete(){return delete di[this.app.options.appId],Promise.resolve()}}let di={},Qs=[];const Ra={};let Js,Hi,$i="dataLayer",Fl=!1;function Ti(C,D,R){!function Yo(){const C=[];if((0,X.ru)()&&C.push("This is a browser extension environment."),(0,X.zI)()||C.push("Cookies are not available."),C.length>0){const D=C.map((F,W)=>`(${W+1}) ${F}`).join(" "),R=Nn.create("invalid-analytics-context",{errorInfo:D});Ln.warn(R.message)}}();const F=C.options.appId;if(!F)throw Nn.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw Nn.create("no-api-key");Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=di[F])throw Nn.create("already-exists",{id:F});if(!Fl){!function fs(C){let D=[];Array.isArray(window[C])?D=window[C]:window[C]=D}($i);const{wrappedGtag:ee,gtagCore:xe}=function xh(C,D,R,F,W){let ee=function(...xe){window[F].push(arguments)};return window[W]&&"function"==typeof window[W]&&(ee=window[W]),window[W]=function od(C,D,R,F){function ee(){return(ee=(0,O.Z)(function*(xe,Me,Qe){try{"event"===xe?yield Nl(C,D,R,Me,Qe):"config"===xe?yield Wo(C,D,R,F,Me,Qe):C("set",Me)}catch(Et){Ln.error(Et)}})).apply(this,arguments)}return function W(xe,Me,Qe){return ee.apply(this,arguments)}}(ee,C,D,R),{gtagCore:ee,wrappedGtag:window[W]}}(di,Qs,Ra,$i,"gtag");Hi=ee,Js=xe,Fl=!0}return di[F]=function Cn(C,D,R,F,W,ee,xe){return ps.apply(this,arguments)}(C,Qs,Ra,D,Js,$i,R),new Io(C)}function ka(){return(ka=(0,O.Z)(function*(C,D,R,F,W){if(W&&W.global)C("event",R,F);else{const ee=yield D;C("event",R,Object.assign(Object.assign({},F),{send_to:ee}))}})).apply(this,arguments)}function yn(){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,O.Z)(function*(){if((0,X.ru)()||!(0,X.zI)()||!(0,X.hl)())return!1;try{return yield(0,X.eu)()}catch(C){return!1}})).apply(this,arguments)}const eo="@firebase/analytics";!function Gp(){(0,ne._registerComponent)(new pe.wA(Rl,(D,{options:R})=>Ti(D.getProvider("app").getImmediate(),D.getProvider("installations-internal").getImmediate(),R),"PUBLIC")),(0,ne._registerComponent)(new pe.wA("analytics-internal",function C(D){try{const R=D.getProvider(Rl).getImmediate();return{logEvent:(F,W,ee)=>function Rh(C,D,R,F){C=(0,X.m9)(C),function Qo(C,D,R,F,W){return ka.apply(this,arguments)}(Hi,di[C.app.options.appId],D,R,F).catch(W=>Ln.error(W))}(R,F,W,ee)}}catch(R){throw Nn.create("interop-component-reg-failed",{reason:R})}},"PRIVATE")),(0,ne.registerVersion)(eo,"0.7.7"),(0,ne.registerVersion)(eo,"0.7.7","esm2017")}();var to=N(4408),Na=N(7565);const Ul=new class _n extends Na.v{}(class ms extends to.o{constructor(D,R){super(D,R),this.scheduler=D,this.work=R}schedule(D,R=0){return R>0?super.schedule(D,R):(this.delay=R,this.state=D,this.scheduler.flush(this),this)}execute(D,R){return R>0||this.closed?super.execute(D,R):this._execute(D,R)}requestAsyncId(D,R,F=0){return null!=F&&F>0||null==F&&this.delay>0?super.requestAsyncId(D,R,F):D.flush(this)}});var qp=N(4986),Vl=N(8505),dr=N(5363),hi=N(9468);const Bl=new c.GfV("7.3.0"),ys="__angularfire_symbol__analyticsIsSupportedValue",xi="__angularfire_symbol__analyticsIsSupported",Zi="__angularfire_symbol__remoteConfigIsSupportedValue",Oa="__angularfire_symbol__remoteConfigIsSupported",jl="__angularfire_symbol__messagingIsSupportedValue",$l="__angularfire_symbol__messagingIsSupported";function no(C,D,R){if(D){if(1===D.length)return D[0];const ee=D.filter(xe=>xe.app===R);if(1===ee.length)return ee[0]}return R.container.getProvider(C).getImmediate({optional:!0})}globalThis[xi]||(globalThis[xi]=yn().then(C=>globalThis[ys]=C).catch(()=>globalThis[ys]=!1)),globalThis[$l]||(globalThis[$l]=nd().then(C=>globalThis[jl]=C).catch(()=>globalThis[jl]=!1)),globalThis[Oa]||(globalThis[Oa]=go().then(C=>globalThis[Zi]=C).catch(()=>globalThis[Zi]=!1));const hd=(C,D)=>{const R=D?[D]:(0,Y.C6)(),F=[];return R.forEach(W=>{W.container.getProvider(C).instances.forEach(xe=>{F.includes(xe)||F.push(xe)})}),F};function Do(){}class Cu{constructor(D,R=Ul){this.zone=D,this.delegate=R}now(){return this.delegate.now()}schedule(D,R,F){const W=this.zone;return this.delegate.schedule(function(xe){W.runGuarded(()=>{D.apply(this,[xe])})},R,F)}}class zi{constructor(D){this.zone=D,this.task=null}call(D,R){const F=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Do,{},Do,Do)),R.pipe((0,Vl.b)({next:F,complete:F,error:F})).subscribe(D).add(F)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Iu=(()=>{class C{constructor(R){this.ngZone=R,this.outsideAngular=R.runOutsideAngular(()=>new Cu(Zone.current)),this.insideAngular=R.run(()=>new Cu(Zone.current,qp.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(R){return new(R||C)(c.LFG(c.R0b))},C.\u0275prov=c.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function Wi(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Un(C){return C.pipe((0,dr.Q)(Wi().outsideAngular))}function ql(C){return Wi(),function To(C){return function(R){return(R=R.lift(new zi(C.ngZone))).pipe((0,hi.R)(C.outsideAngular),(0,dr.Q)(C.insideAngular))}}(Wi())(C)}},2090:(st,Ee,N)=>{N.d(Ee,{$s:()=>fo,BH:()=>ke,G6:()=>te,L:()=>ue,LL:()=>Dt,Lj:()=>Vt,Mn:()=>Ge,Sg:()=>Se,UG:()=>we,US:()=>se,X3:()=>pt,ZB:()=>Z,ZR:()=>ae,b$:()=>Te,d:()=>_e,eu:()=>re,hl:()=>z,jU:()=>at,m9:()=>ft,ne:()=>ct,pd:()=>rs,r3:()=>Kt,ru:()=>rt,tV:()=>$,uI:()=>ye,vZ:()=>Os,w1:()=>ve,xO:()=>Vi,xb:()=>rr,z$:()=>Ye,zI:()=>me,zd:()=>kr});var c=N(5861);const X=function(B){const L=[];let G=0;for(let ce=0;ce<B.length;ce++){let Q=B.charCodeAt(ce);Q<128?L[G++]=Q:Q<2048?(L[G++]=Q>>6|192,L[G++]=63&Q|128):55296==(64512&Q)&&ce+1<B.length&&56320==(64512&B.charCodeAt(ce+1))?(Q=65536+((1023&Q)<<10)+(1023&B.charCodeAt(++ce)),L[G++]=Q>>18|240,L[G++]=Q>>12&63|128,L[G++]=Q>>6&63|128,L[G++]=63&Q|128):(L[G++]=Q>>12|224,L[G++]=Q>>6&63|128,L[G++]=63&Q|128)}return L},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(B,L){if(!Array.isArray(B))throw Error("encodeByteArray takes an array as a parameter");this.init_();const G=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,ce=[];for(let Q=0;Q<B.length;Q+=3){const Ue=B[Q],yt=Q+1<B.length,Zt=yt?B[Q+1]:0,vr=Q+2<B.length,Ht=vr?B[Q+2]:0;let un=(15&Zt)<<2|Ht>>6,Xn=63&Ht;vr||(Xn=64,yt||(un=64)),ce.push(G[Ue>>2],G[(3&Ue)<<4|Zt>>4],G[un],G[Xn])}return ce.join("")},encodeString(B,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(B):this.encodeByteArray(X(B),L)},decodeString(B,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(B):function(B){const L=[];let G=0,ce=0;for(;G<B.length;){const Q=B[G++];if(Q<128)L[ce++]=String.fromCharCode(Q);else if(Q>191&&Q<224){const Ue=B[G++];L[ce++]=String.fromCharCode((31&Q)<<6|63&Ue)}else if(Q>239&&Q<365){const vr=((7&Q)<<18|(63&B[G++])<<12|(63&B[G++])<<6|63&B[G++])-65536;L[ce++]=String.fromCharCode(55296+(vr>>10)),L[ce++]=String.fromCharCode(56320+(1023&vr))}else{const Ue=B[G++],yt=B[G++];L[ce++]=String.fromCharCode((15&Q)<<12|(63&Ue)<<6|63&yt)}}return L.join("")}(this.decodeStringToByteArray(B,L))},decodeStringToByteArray(B,L){this.init_();const G=L?this.charToByteMapWebSafe_:this.charToByteMap_,ce=[];for(let Q=0;Q<B.length;){const Ue=G[B.charAt(Q++)],Zt=Q<B.length?G[B.charAt(Q)]:0;++Q;const Ht=Q<B.length?G[B.charAt(Q)]:64;++Q;const kt=Q<B.length?G[B.charAt(Q)]:64;if(++Q,null==Ue||null==Zt||null==Ht||null==kt)throw Error();ce.push(Ue<<2|Zt>>4),64!==Ht&&(ce.push(Zt<<4&240|Ht>>2),64!==kt&&ce.push(Ht<<6&192|kt))}return ce},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let B=0;B<this.ENCODED_VALS.length;B++)this.byteToCharMap_[B]=this.ENCODED_VALS.charAt(B),this.charToByteMap_[this.byteToCharMap_[B]]=B,this.byteToCharMapWebSafe_[B]=this.ENCODED_VALS_WEBSAFE.charAt(B),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[B]]=B,B>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(B)]=B,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(B)]=B)}}},ue=function(B){return function(B){const L=X(B);return se.encodeByteArray(L,!0)}(B).replace(/\./g,"")},$=function(B){try{return se.decodeString(B,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function Z(B,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===B&&(B={});break;case Array:B=[];break;default:return L}for(const G in L)!L.hasOwnProperty(G)||!He(G)||(B[G]=Z(B[G],L[G]));return B}function He(B){return"__proto__"!==B}class ke{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,G)=>{this.resolve=L,this.reject=G})}wrapCallback(L){return(G,ce)=>{G?this.reject(G):this.resolve(ce),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(G):L(G,ce))}}}function Se(B,L){if(B.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ce=L||"demo-project",Q=B.iat||0,Ue=B.sub||B.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const yt=Object.assign({iss:`https://securetoken.google.com/${ce}`,aud:ce,iat:Q,exp:Q+3600,auth_time:Q,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},B);return[ue(JSON.stringify({alg:"none",type:"JWT"})),ue(JSON.stringify(yt)),""].join(".")}function Ye(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ye(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function we(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(B){return!1}}function at(){return"object"==typeof self&&self.self===self}function rt(){const B="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof B&&void 0!==B.id}function Te(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _e(){return Ye().indexOf("Electron/")>=0}function ve(){const B=Ye();return B.indexOf("MSIE ")>=0||B.indexOf("Trident/")>=0}function Ge(){return Ye().indexOf("MSAppHost/")>=0}function te(){return!we()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function z(){return"object"==typeof indexedDB}function re(){return new Promise((B,L)=>{try{let G=!0;const ce="validate-browser-context-for-indexeddb-analytics-module",Q=self.indexedDB.open(ce);Q.onsuccess=()=>{Q.result.close(),G||self.indexedDB.deleteDatabase(ce),B(!0)},Q.onupgradeneeded=()=>{G=!1},Q.onerror=()=>{var Ue;L((null===(Ue=Q.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(G){L(G)}})}function me(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class ae extends Error{constructor(L,G,ce){super(G),this.code=L,this.customData=ce,this.name="FirebaseError",Object.setPrototypeOf(this,ae.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dt.prototype.create)}}class Dt{constructor(L,G,ce){this.service=L,this.serviceName=G,this.errors=ce}create(L,...G){const ce=G[0]||{},Q=`${this.service}/${L}`,Ue=this.errors[L],yt=Ue?function Wt(B,L){return B.replace(Mn,(G,ce)=>{const Q=L[ce];return null!=Q?String(Q):`<${ce}?>`})}(Ue,ce):"Error";return new ae(Q,`${this.serviceName}: ${yt} (${Q}).`,ce)}}const Mn=/\{\$([^}]+)}/g;function Kt(B,L){return Object.prototype.hasOwnProperty.call(B,L)}function rr(B){for(const L in B)if(Object.prototype.hasOwnProperty.call(B,L))return!1;return!0}function Os(B,L){if(B===L)return!0;const G=Object.keys(B),ce=Object.keys(L);for(const Q of G){if(!ce.includes(Q))return!1;const Ue=B[Q],yt=L[Q];if(Rr(Ue)&&Rr(yt)){if(!Os(Ue,yt))return!1}else if(Ue!==yt)return!1}for(const Q of ce)if(!G.includes(Q))return!1;return!0}function Rr(B){return null!==B&&"object"==typeof B}function Vi(B){const L=[];for(const[G,ce]of Object.entries(B))Array.isArray(ce)?ce.forEach(Q=>{L.push(encodeURIComponent(G)+"="+encodeURIComponent(Q))}):L.push(encodeURIComponent(G)+"="+encodeURIComponent(ce));return L.length?"&"+L.join("&"):""}function kr(B){const L={};return B.replace(/^\?/,"").split("&").forEach(ce=>{if(ce){const[Q,Ue]=ce.split("=");L[decodeURIComponent(Q)]=decodeURIComponent(Ue)}}),L}function rs(B){const L=B.indexOf("?");if(!L)return"";const G=B.indexOf("#",L);return B.substring(L,G>0?G:void 0)}function ct(B,L){const G=new Gr(B,L);return G.subscribe.bind(G)}class Gr{constructor(L,G){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=G,this.task.then(()=>{L(this)}).catch(ce=>{this.error(ce)})}next(L){this.forEachObserver(G=>{G.next(L)})}error(L){this.forEachObserver(G=>{G.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,G,ce){let Q;if(void 0===L&&void 0===G&&void 0===ce)throw new Error("Missing Observer.");Q=function Hn(B,L){if("object"!=typeof B||null===B)return!1;for(const G of L)if(G in B&&"function"==typeof B[G])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:G,complete:ce},void 0===Q.next&&(Q.next=ii),void 0===Q.error&&(Q.error=ii),void 0===Q.complete&&(Q.complete=ii);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Q.error(this.finalError):Q.complete()}catch(yt){}}),this.observers.push(Q),Ue}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let G=0;G<this.observers.length;G++)this.sendOne(G,L)}sendOne(L,G){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{G(this.observers[L])}catch(ce){"undefined"!=typeof console&&console.error&&console.error(ce)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ii(){}function fo(B,L=1e3,G=2){const ce=L*Math.pow(G,B),Q=Math.round(.5*ce*(Math.random()-.5)*2);return Math.min(144e5,ce+Q)}function ft(B){return B&&B._delegate?B._delegate:B}function _r(B,L){return new Promise((G,ce)=>{B.onsuccess=Q=>{G(Q.target.result)},B.onerror=Q=>{var Ue;ce(`${L}: ${null===(Ue=Q.target.error)||void 0===Ue?void 0:Ue.message}`)}})}class Ut{constructor(L){this._db=L,this.objectStoreNames=this._db.objectStoreNames}transaction(L,G){return new ze(this._db.transaction.call(this._db,L,G))}createObjectStore(L,G){return new Ie(this._db.createObjectStore(L,G))}close(){this._db.close()}}class ze{constructor(L){this._transaction=L,this.complete=new Promise((G,ce)=>{this._transaction.oncomplete=function(){G()},this._transaction.onerror=()=>{ce(this._transaction.error)},this._transaction.onabort=()=>{ce(this._transaction.error)}})}objectStore(L){return new Ie(this._transaction.objectStore(L))}}class Ie{constructor(L){this._store=L}index(L){return new Je(this._store.index(L))}createIndex(L,G,ce){return new Je(this._store.createIndex(L,G,ce))}get(L){return _r(this._store.get(L),"Error reading from IndexedDB")}put(L,G){return _r(this._store.put(L,G),"Error writing to IndexedDB")}delete(L){return _r(this._store.delete(L),"Error deleting from IndexedDB")}clear(){return _r(this._store.clear(),"Error clearing IndexedDB object store")}}class Je{constructor(L){this._index=L}get(L){return _r(this._index.get(L),"Error reading from IndexedDB")}}function pt(B,L,G){return new Promise((ce,Q)=>{try{const Ue=indexedDB.open(B,L);Ue.onsuccess=yt=>{ce(new Ut(yt.target.result))},Ue.onerror=yt=>{var Zt;Q(`Error opening indexedDB: ${null===(Zt=yt.target.error)||void 0===Zt?void 0:Zt.message}`)},Ue.onupgradeneeded=yt=>{G(new Ut(Ue.result),yt.oldVersion,yt.newVersion,new ze(Ue.transaction))}}catch(Ue){Q(`Error opening indexedDB: ${Ue.message}`)}})}function Vt(B){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,c.Z)(function*(B){return new Promise((L,G)=>{try{const ce=indexedDB.deleteDatabase(B);ce.onsuccess=()=>{L()},ce.onerror=Q=>{var Ue;G(`Error deleting indexedDB database "${B}": ${null===(Ue=Q.target.error)||void 0===Ue?void 0:Ue.message}`)}}catch(ce){G(`Error deleting indexedDB database "${B}": ${ce.message}`)}})})).apply(this,arguments)}},1024:(st,Ee,N)=>{var c=N(5e3);let Y=null;function O(){return Y}const se=new c.OlP("DocumentToken");let de=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ue(){return(0,c.LFG)(H)}()},providedIn:"platform"}),n})();const $=new c.OlP("Location Initialized");let H=(()=>{class n extends de{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,s){Z()?this._history.pushState(t,r,s):this.location.hash=s}replaceState(t,r,s){Z()?this._history.replaceState(t,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function He(){return new H((0,c.LFG)(se))}()},providedIn:"platform"}),n})();function Z(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Se(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Ye(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:function(){return function we(n){const e=(0,c.LFG)(se).location;return new rt((0,c.LFG)(de),e&&e.origin||"")}()},providedIn:"root"}),n})();const at=new c.OlP("appBaseHref");let rt=(()=>{class n extends ye{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Ye(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const d=this.prepareExternalUrl(s+Ye(u));this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,u){const d=this.prepareExternalUrl(s+Ye(u));this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(at,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),Te=(()=>{class n extends ye{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let d=this.prepareExternalUrl(s+Ye(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.pushState(t,r,d)}replaceState(t,r,s,u){let d=this.prepareExternalUrl(s+Ye(u));0==d.length&&(d=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,d)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformLocation).historyGo)||void 0===s||s.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(de),c.LFG(at,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),_e=(()=>{class n{constructor(t,r){this._subject=new c.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const s=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Se(je(s)),this._platformStrategy.onPopState(u=>{this._subject.emit({url:this.path(!0),pop:!0,state:u.state,type:u.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Ye(r))}normalize(t){return n.stripTrailingSlash(function Ge(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,je(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._platformStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ye(r)),s)}replaceState(t,r="",s=null){this._platformStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Ye(r)),s)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,s;null===(s=(r=this._platformStrategy).historyGo)||void 0===s||s.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=Ye,n.joinWithSlash=ke,n.stripTrailingSlash=Se,n.\u0275fac=function(t){return new(t||n)(c.LFG(ye),c.LFG(de))},n.\u0275prov=c.Yz7({token:n,factory:function(){return function ve(){return new _e((0,c.LFG)(ye),(0,c.LFG)(de))}()},providedIn:"root"}),n})();function je(n){return n.replace(/\/index.html$/,"")}var z=(()=>((z=z||{})[z.Decimal=0]="Decimal",z[z.Percent=1]="Percent",z[z.Currency=2]="Currency",z[z.Scientific=3]="Scientific",z))(),ae=(()=>((ae=ae||{})[ae.Decimal=0]="Decimal",ae[ae.Group=1]="Group",ae[ae.List=2]="List",ae[ae.PercentSign=3]="PercentSign",ae[ae.PlusSign=4]="PlusSign",ae[ae.MinusSign=5]="MinusSign",ae[ae.Exponential=6]="Exponential",ae[ae.SuperscriptingExponent=7]="SuperscriptingExponent",ae[ae.PerMille=8]="PerMille",ae[ae.Infinity=9]="Infinity",ae[ae.NaN=10]="NaN",ae[ae.TimeSeparator=11]="TimeSeparator",ae[ae.CurrencyDecimal=12]="CurrencyDecimal",ae[ae.CurrencyGroup=13]="CurrencyGroup",ae))();function jt(n,e){const t=(0,c.cg1)(n),r=t[c.wAp.NumberSymbols][e];if(void 0===r){if(e===ae.CurrencyDecimal)return t[c.wAp.NumberSymbols][ae.Decimal];if(e===ae.CurrencyGroup)return t[c.wAp.NumberSymbols][ae.Group]}return r}const En=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function ji(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}let oi=(()=>{class n{constructor(t,r,s,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=s,this._renderer=u,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,c.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachChangedItem(r=>this._toggleClass(r.key,r.currentValue)),t.forEachRemovedItem(r=>{r.previousValue&&this._toggleClass(r.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(r=>{if("string"!=typeof r.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,c.AaK)(r.item)}`);this._toggleClass(r.item,!0)}),t.forEachRemovedItem(r=>this._toggleClass(r.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!0)):Object.keys(t).forEach(r=>this._toggleClass(r,!!t[r])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(r=>this._toggleClass(r,!1)):Object.keys(t).forEach(r=>this._toggleClass(r,!1)))}_toggleClass(t,r){(t=t.trim())&&t.split(/\s+/g).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.ZZ4),c.Y36(c.aQg),c.Y36(c.SBq),c.Y36(c.Qsj))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Us{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let er=(()=>{class n{constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,d)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new Us(s.item,this._ngForOf,-1,-1),null===d?void 0:d);else if(null==d)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,d),os(m,s)}});for(let s=0,u=r.length;s<u;s++){const m=r.get(s).context;m.index=s,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{os(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc),c.Y36(c.ZZ4))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function os(n,e){n.context.$implicit=e.item}let qn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new nn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tu("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tu("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.s_b),c.Y36(c.Rgc))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class nn{constructor(){this.$implicit=null,this.ngIf=null}}function tu(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,c.AaK)(e)}'.`)}function Fn(n,e){return new c.vHH(2100,"")}class Zc{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class Op{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}onDestroy(e){}}const us=new Op,Pp=new Zc;let su=(()=>{class n{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,c.QGY)(t))return us;if((0,c.F4k)(t))return Pp;throw Fn()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.sBO,16))},n.\u0275pipe=c.Yjl({name:"async",type:n,pure:!1}),n})(),Nr=(()=>{class n{constructor(t){this._locale=t}transform(t,r,s){if(!function mo(n){return!(null==n||""===n||n!=n)}(t))return null;s=s||this._locale;try{return function Pe(n,e,t){return function ba(n,e,t,r,s,u,d=!1){let m="",w=!1;if(isFinite(n)){let I=function Fs(n){let r,s,u,d,m,e=Math.abs(n)+"",t=0;for((s=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(s<0&&(s=u),s+=+e.slice(u+1),e=e.substring(0,u)):s<0&&(s=e.length),u=0;"0"===e.charAt(u);u++);if(u===(m=e.length))r=[0],s=1;else{for(m--;"0"===e.charAt(m);)m--;for(s-=u,r=[],d=0;u<=m;u++,d++)r[d]=Number(e.charAt(u))}return s>22&&(r=r.splice(0,21),t=s-1,s=1),{digits:r,exponent:t,integerLen:s}}(n);d&&(I=function or(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(I));let T=e.minInt,M=e.minFrac,U=e.maxFrac;if(u){const We=u.match(En);if(null===We)throw new Error(`${u} is not a valid digit info`);const At=We[1],Ke=We[3],It=We[5];null!=At&&(T=ji(At)),null!=Ke&&(M=ji(Ke)),null!=It?U=ji(It):null!=Ke&&M>U&&(U=M)}!function Pn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,s=r.length-n.integerLen;const u=Math.min(Math.max(e,s),t);let d=u+n.integerLen,m=r[d];if(d>0){r.splice(Math.max(n.integerLen,d));for(let M=d;M<r.length;M++)r[M]=0}else{s=Math.max(0,s),n.integerLen=1,r.length=Math.max(1,d=u+1),r[0]=0;for(let M=1;M<d;M++)r[M]=0}if(m>=5)if(d-1<0){for(let M=0;M>d;M--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[d-1]++;for(;s<Math.max(0,u);s++)r.push(0);let w=0!==u;const I=e+n.integerLen,T=r.reduceRight(function(M,U,j,J){return J[j]=(U+=M)<10?U:U-10,w&&(0===J[j]&&j>=I?J.pop():w=!1),U>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(I,M,U);let j=I.digits,J=I.integerLen;const Ae=I.exponent;let Re=[];for(w=j.every(We=>!We);J<T;J++)j.unshift(0);for(;J<0;J++)j.unshift(0);J>0?Re=j.splice(J,j.length):(Re=j,j=[0]);const vt=[];for(j.length>=e.lgSize&&vt.unshift(j.splice(-e.lgSize,j.length).join(""));j.length>e.gSize;)vt.unshift(j.splice(-e.gSize,j.length).join(""));j.length&&vt.unshift(j.join("")),m=vt.join(jt(t,r)),Re.length&&(m+=jt(t,s)+Re.join("")),Ae&&(m+=jt(t,ae.Exponential)+"+"+Ae)}else m=jt(t,ae.Infinity);return m=n<0&&!w?e.negPre+m+e.negSuf:e.posPre+m+e.posSuf,m}(n,function ln(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),s=r[0],u=r[1],d=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],m=d[0],w=d[1]||"";t.posPre=m.substr(0,m.indexOf("#"));for(let T=0;T<w.length;T++){const M=w.charAt(T);"0"===M?t.minFrac=t.maxFrac=T+1:"#"===M?t.maxFrac=T+1:t.posSuf+=M}const I=m.split(",");if(t.gSize=I[1]?I[1].length:0,t.lgSize=I[2]||I[1]?(I[2]||I[1]).length:0,u){const T=s.length-t.posPre.length-t.posSuf.length,M=u.indexOf("#");t.negPre=u.substr(0,M).replace(/'/g,""),t.negSuf=u.substr(M+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function rr(n,e){return(0,c.cg1)(n)[c.wAp.NumberFormats][e]}(e,z.Percent),jt(e,ae.MinusSign)),e,ae.Group,ae.Decimal,t,!0).replace(new RegExp("%","g"),jt(e,ae.PercentSign))}(function Ia(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),s,r)}catch(u){throw Fn()}}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.soG,16))},n.\u0275pipe=c.Yjl({name:"percent",type:n,pure:!0}),n})();let ls=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function ar(n){return"server"===n}let cu=(()=>{class n{}return n.\u0275prov=(0,c.Yz7)({token:n,providedIn:"root",factory:()=>new du((0,c.LFG)(se),window)}),n})();class du{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Da(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const d=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(d)return d}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=cs(this.window.history)||cs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function cs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Hs extends class qo extends class pe{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function X(n){Y||(Y=n)}(new Hs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Qc(){return rn=rn||document.querySelector("base"),rn?rn.getAttribute("href"):null}();return null==t?null:function _o(n){yo=yo||document.createElement("a"),yo.setAttribute("href",n);const e=yo.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){rn=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function $o(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let yo,rn=null;const wr=new c.OlP("TRANSITION_ID"),Ta=[{provide:c.ip1,useFactory:function kn(n,e,t){return()=>{t.get(c.CZH).donePromise.then(()=>{const r=O(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[wr,se,c.zs3],multi:!0}];class Ci{static init(){(0,c.VLi)(new Ci)}addToWindow(e){c.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},c.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),c.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),c.dqk.frameworkStabilizers||(c.dqk.frameworkStabilizers=[]),c.dqk.frameworkStabilizers.push(r=>{const s=c.dqk.getAllAngularTestabilities();let u=s.length,d=!1;const m=function(w){d=d||w,u--,0==u&&r(d)};s.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Er=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Gs=new c.OlP("EventManagerPlugins");let ds=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const d=s[u];if(d.supports(t))return this._eventNameToPlugin.set(t,d),d}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Gs),c.LFG(c.R0b))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class hu{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=O().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let zr=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),qs=(()=>{class n extends zr{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(u=>{const d=this._doc.createElement("style");d.textContent=u,s.push(r.appendChild(d))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Zs),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Zs))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Zs(n){O().remove(n)}const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fu=/%COMP%/g;function be(n,e,t){for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?be(n,s,t):(s=s.replace(fu,n),t.push(s))}return t}function Lt(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let gn=(()=>{class n{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Zo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case c.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new bl(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case 1:case c.ifc.ShadowDom:return new Cl(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=be(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ds),c.LFG(qs),c.LFG(c.AFp))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();class Zo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(gt[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=gt[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=gt[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(c.JOm.DashCase|c.JOm.Important)?e.style.setProperty(t,r,s&c.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&c.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Lt(r)):this.eventManager.addEventListener(e,t,Lt(r))}}class bl extends Zo{constructor(e,t,r,s){super(e),this.component=r;const u=be(s+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function vl(n){return"_ngcontent-%COMP%".replace(fu,n)}(s+"-"+r.id),this.hostAttr=function wl(n){return"_nghost-%COMP%".replace(fu,n)}(s+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Cl extends Zo{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=be(s.id,s.styles,[]);for(let d=0;d<u.length;d++){const m=document.createElement("style");m.textContent=u[d],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Jc=(()=>{class n extends hu{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Il=["alt","control","meta","shift"],zs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ur={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},li={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let _u=(()=>{class n extends hu{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),d=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,d))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let d="";if(Il.forEach(w=>{const I=r.indexOf(w);I>-1&&(r.splice(I,1),d+=w+".")}),d+=u,0!=r.length||0===u.length)return null;const m={};return m.domEventName=s,m.fullKey=d,m}static getEventFullKey(t){let r="",s=function Ws(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&ur.hasOwnProperty(e)&&(e=ur[e]))}return zs[e]||e}(t);return s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),Il.forEach(u=>{u!=s&&li[u](t)&&(r+=u+".")}),r+=s,r}static eventCallback(t,r,s){return u=>{n.getEventFullKey(u)===t&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const Tl=(0,c.eFA)(c._c5,"browser",[{provide:c.Lbi,useValue:"browser"},{provide:c.g9A,useValue:function Ii(){Hs.makeCurrent(),Ci.init()},multi:!0},{provide:se,useFactory:function vu(){return(0,c.RDi)(document),document},deps:[]}]),Sa=[{provide:c.zSh,useValue:"root"},{provide:c.qLn,useFactory:function Dl(){return new c.qLn},deps:[]},{provide:Gs,useClass:Jc,multi:!0,deps:[se,c.R0b,c.Lbi]},{provide:Gs,useClass:_u,multi:!0,deps:[se]},{provide:gn,useClass:gn,deps:[ds,qs,c.AFp]},{provide:c.FYo,useExisting:gn},{provide:zr,useExisting:qs},{provide:qs,useClass:qs,deps:[se]},{provide:c.dDg,useClass:c.dDg,deps:[c.R0b]},{provide:ds,useClass:ds,deps:[Gs,c.R0b]},{provide:class dn{},useClass:Er,deps:[]}];let xa=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:c.AFp,useValue:t.appId},{provide:wr,useExisting:c.AFp},Ta]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(n,12))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:Sa,imports:[ls,c.hGG]}),n})();"undefined"!=typeof window&&window;var pn=N(8996),Nn=N(3269);function dt(...n){const e=(0,Nn.yG)(n);return(0,pn.D)(n,e)}var lr=N(7579);class Or extends lr.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Cr=N(9751);const{isArray:Ko}=Array,{getPrototypeOf:ad,prototype:cn,keys:Mh}=Object;function Di(n){if(1===n.length){const e=n[0];if(Ko(e))return{args:e,keys:null};if(function bu(n){return n&&"object"==typeof n&&ad(n)===cn}(e)){const t=Mh(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ci=N(4671),Tt=N(4004);const{isArray:ud}=Array;function ld(n){return(0,Tt.U)(e=>function Ol(n,e){return ud(e)?n(...e):n(e)}(n,e))}function Co(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var Cn=N(5403),ps=N(9672);function Io(...n){const e=(0,Nn.yG)(n),t=(0,Nn.jO)(n),{args:r,keys:s}=Di(n);if(0===r.length)return(0,pn.D)([],e);const u=new Cr.y(function di(n,e,t=ci.y){return r=>{Qs(e,()=>{const{length:s}=n,u=new Array(s);let d=s,m=s;for(let w=0;w<s;w++)Qs(e,()=>{const I=(0,pn.D)(n[w],e);let T=!1;I.subscribe((0,Cn.x)(r,M=>{u[w]=M,T||(T=!0,m--),m||r.next(t(u.slice()))},()=>{--d||r.complete()}))},r)},r)}}(r,e,s?d=>Co(s,d):ci.y));return t?u.pipe(ld(t)):u}function Qs(n,e,t){n?(0,ps.f)(t,n,e):e()}var Ra=N(576);function $i(n,e){const t=(0,Ra.m)(n)?n:()=>n,r=s=>s.error(t());return new Cr.y(e?s=>e.schedule(r,0,s):r)}const Js=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Hi=N(8189);function Ll(...n){return function Fl(){return(0,Hi.J)(1)}()((0,pn.D)(n,(0,Nn.yG)(n)))}var Yo=N(8421);function Ti(n){return new Cr.y(e=>{(0,Yo.Xf)(n()).subscribe(e)})}var Qo=N(515),ka=N(727),cr=N(4482);function Ai(){return(0,cr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Cn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class cd extends Cr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,cr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ka.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Cn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ka.w0.EMPTY)}return e}refCount(){return Ai()(this)}}function hn(n,e){return(0,cr.e)((t,r)=>{let s=null,u=0,d=!1;const m=()=>d&&!s&&r.complete();t.subscribe((0,Cn.x)(r,w=>{null==s||s.unsubscribe();let I=0;const T=u++;(0,Yo.Xf)(n(w,T)).subscribe(s=(0,Cn.x)(r,M=>r.next(e?e(w,M,T,I++):M),()=>{s=null,m()}))},()=>{d=!0,m()}))})}var gs=N(5698);function Si(...n){const e=(0,Nn.yG)(n);return(0,cr.e)((t,r)=>{(e?Ll(n,t,e):Ll(n,t)).subscribe(r)})}function Jo(n,e,t,r,s){return(u,d)=>{let m=t,w=e,I=0;u.subscribe((0,Cn.x)(d,T=>{const M=I++;w=m?n(w,T,M):(m=!0,T),r&&d.next(w)},s&&(()=>{m&&d.next(w),d.complete()})))}}function Ir(n,e){return(0,cr.e)(Jo(n,e,arguments.length>=2,!0))}function Gi(n,e){return(0,cr.e)((t,r)=>{let s=0;t.subscribe((0,Cn.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}function qi(n){return(0,cr.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,Cn.x)(t,void 0,void 0,d=>{u=(0,Yo.Xf)(n(d,qi(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}var yn=N(5577);function Xs(n,e){return(0,Ra.m)(e)?(0,yn.z)(n,e,1):(0,yn.z)(n,1)}function dd(n){return n<=0?()=>Qo.E:(0,cr.e)((e,t)=>{let r=[];e.subscribe((0,Cn.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function In(n=$p){return(0,cr.e)((e,t)=>{let r=!1;e.subscribe((0,Cn.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function $p(){return new Js}function Hp(n){return(0,cr.e)((e,t)=>{let r=!1;e.subscribe((0,Cn.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function Rh(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gi((s,u)=>n(s,u,r)):ci.y,dd(1),t?Hp(e):In(()=>new Js))}function eo(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Gi((s,u)=>n(s,u,r)):ci.y,(0,gs.q)(1),t?Hp(e):In(()=>new Js))}var Kr=N(8505);class to{constructor(e,t){this.id=e,this.url=t}}class ms extends to{constructor(e,t,r="imperative",s=null){super(e,t),this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Na extends to{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _n extends to{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ul extends to{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xo extends to{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qp extends to{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vl extends to{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class dr extends to{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hi extends to{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bl{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ys{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class xi{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Zi{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Oa{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jl{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $l{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Pt="primary";class Hl{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Zn(n){return new Hl(n)}const Gl="ngNavigationCancelingError";function no(n){const e=Error("NavigationCancelingError: "+n);return e[Gl]=!0,e}function Do(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const d=r[u],m=n[u];if(d.startsWith(":"))s[d.substring(1)]=m;else if(d!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function zi(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!Iu(n[s],e[s]))return!1;return!0}function Iu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function Wi(n){return Array.prototype.concat.apply([],n)}function fd(n){return n.length>0?n[n.length-1]:null}function Un(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function fi(n){return(0,c.CqO)(n)?n:(0,c.QGY)(n)?(0,pn.D)(Promise.resolve(n)):dt(n)}const To={exact:function D(n,e,t){if(!Nt(n.segments,e.segments)||!ee(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!D(n.children[r],e.children[r],t))return!1;return!0},subset:F},ea={exact:function C(n,e){return zi(n,e)},subset:function R(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Iu(n[t],e[t]))},ignored:()=>!0};function Du(n,e,t){return To[t.paths](n.root,e.root,t.matrixParams)&&ea[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function F(n,e,t){return W(n,e,e.segments,t)}function W(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!Nt(s,t)||e.hasChildren()||!ee(s,t,r))}if(n.segments.length===t.length){if(!Nt(n.segments,t)||!ee(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!F(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(Nt(n.segments,s)&&ee(n.segments,s,r)&&n.children[Pt])&&W(n.children[Pt],e,u,r)}}function ee(n,e,t){return e.every((r,s)=>ea[t](n[s].parameters,r.parameters))}class xe{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zn(this.queryParams)),this._queryParamMap}toString(){return ta.serialize(this)}}class Me{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Un(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ao(this)}}class Qe{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Zn(this.parameters)),this._parameterMap}toString(){return Pa(this)}}function Nt(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Vn{}class Dn{parse(e){const t=new gd(e);return new xe(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Pr(e.root,!0)}`,r=function wy(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${Mi(t)}=${Mi(s)}`).join("&"):`${Mi(t)}=${Mi(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function So(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ta=new Dn;function Ao(n){return n.segments.map(e=>Pa(e)).join("/")}function Pr(n,e){if(!n.hasChildren())return Ao(n);if(e){const t=n.children[Pt]?Pr(n.children[Pt],!1):"",r=[];return Un(n.children,(s,u)=>{u!==Pt&&r.push(`${u}:${Pr(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function St(n,e){let t=[];return Un(n.children,(r,s)=>{s===Pt&&(t=t.concat(e(r,s)))}),Un(n.children,(r,s)=>{s!==Pt&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===Pt?[Pr(n.children[Pt],!1)]:[`${s}:${Pr(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Pt]?`${Ao(n)}/${t[0]}`:`${Ao(n)}/(${t.join("//")})`}}function pi(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Mi(n){return pi(n).replace(/%3B/gi,";")}function pd(n){return pi(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Zl(n){return decodeURIComponent(n)}function zl(n){return Zl(n.replace(/\+/g,"%20"))}function Pa(n){return`${pd(n.path)}${function Zp(n){return Object.keys(n).map(e=>`;${pd(e)}=${pd(n[e])}`).join("")}(n.parameters)}`}const Ey=/^[^\/()?;=#]+/;function _s(n){const e=n.match(Ey);return e?e[0]:""}const Wl=/^[^=?&#]+/,Cy=/^[^&#]+/;class gd{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Me([],{}):new Me([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Pt]=new Me(e,t)),r}parseSegment(){const e=_s(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Qe(Zl(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=_s(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=_s(this.remaining);s&&(r=s,this.capture(r))}e[Zl(t)]=Zl(r)}parseQueryParam(e){const t=function by(n){const e=n.match(Wl);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const d=function zp(n){const e=n.match(Cy);return e?e[0]:""}(this.remaining);d&&(r=d,this.capture(r))}const s=zl(t),u=zl(r);if(e.hasOwnProperty(s)){let d=e[s];Array.isArray(d)||(d=[d],e[s]=d),d.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=_s(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let u;r.indexOf(":")>-1?(u=r.substr(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Pt);const d=this.parseChildren();t[u]=1===Object.keys(d).length?d[Pt]:new Me([],d),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class Iy{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=kh(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=kh(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Nh(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Nh(e,this._root).map(t=>t.value)}}function kh(n,e){if(n===e.value)return e;for(const t of e.children){const r=kh(n,t);if(r)return r}return null}function Nh(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Nh(n,t);if(r.length)return r.unshift(e),r}return[]}class xo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Mo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class md extends Iy{constructor(e,t){super(e),this.snapshot=t,_d(this,e)}toString(){return this.snapshot.toString()}}function Fa(n,e){const t=function Dy(n,e){const d=new Tu([],{},{},"",{},Pt,e,null,n.root,-1,{});return new Oh("",new xo(d,[]))}(n,e),r=new Or([new Qe("",{})]),s=new Or({}),u=new Or({}),d=new Or({}),m=new Or(""),w=new vs(r,s,d,m,u,Pt,e,t.root);return w.snapshot=t.root,new md(new xo(w,[]),t)}class vs{constructor(e,t,r,s,u,d,m,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=d,this.component=m,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Tt.U)(e=>Zn(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Tt.U)(e=>Zn(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Ty(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function yd(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Tu{constructor(e,t,r,s,u,d,m,w,I,T,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=d,this.component=m,this.routeConfig=w,this._urlSegment=I,this._lastPathIndex=T,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zn(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zn(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Oh extends Iy{constructor(e,t){super(t),this.url=e,_d(this,t)}toString(){return vd(this._root)}}function _d(n,e){e.value._routerState=n,e.children.forEach(t=>_d(n,t))}function vd(n){const e=n.children.length>0?` { ${n.children.map(vd).join(", ")} } `:"";return`${n.value}${e}`}function wd(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zi(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),zi(e.params,t.params)||n.params.next(t.params),function Cu(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zi(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),zi(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ph(n,e){const t=zi(n.params,e.params)&&function Et(n,e){return Nt(n,e)&&n.every((t,r)=>zi(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ph(n.parent,e.parent))}function Kl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function Fh(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return Kl(n,r,s);return Kl(n,r)})}(n,e,t);return new xo(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const d=u.route;return d.value._futureSnapshot=e.value,d.children=e.children.map(m=>Kl(n,m)),d}}const r=function Sy(n){return new vs(new Or(n.url),new Or(n.params),new Or(n.queryParams),new Or(n.fragment),new Or(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>Kl(n,u));return new xo(r,s)}}function na(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Au(n){return"object"==typeof n&&null!=n&&n.outlets}function Wp(n,e,t,r,s){let u={};if(r&&Un(r,(m,w)=>{u[w]=Array.isArray(m)?m.map(I=>`${I}`):`${m}`}),n===e)return new xe(t,u,s);const d=Lh(n,e,t);return new xe(d,u,s)}function Lh(n,e,t){const r={};return Un(n.children,(s,u)=>{r[u]=s===e?t:Lh(s,e,t)}),new Me(n.segments,r)}class xy{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&na(r[0]))throw new Error("Root segment cannot have matrix parameters");const s=r.find(Au);if(s&&s!==fd(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Uh{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Ny(n,e,t){if(n||(n=new Me([],{})),0===n.segments.length&&n.hasChildren())return io(n,e,t);const r=function $0(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const d=n.segments[s],m=t[r];if(Au(m))break;const w=`${m}`,I=r<t.length-1?t[r+1]:null;if(s>0&&void 0===w)break;if(w&&I&&"object"==typeof I&&void 0===I.outlets){if(!Ri(w,I,d))return u;r+=2}else{if(!Ri(w,{},d))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new Me(n.segments.slice(0,r.pathIndex),{});return u.children[Pt]=new Me(n.segments.slice(r.pathIndex),n.children),io(u,0,s)}return r.match&&0===s.length?new Me(n.segments,{}):r.match&&!n.hasChildren()?Vh(n,e,t):r.match?io(n,0,s):Vh(n,e,t)}function io(n,e,t){if(0===t.length)return new Me(n.segments,{});{const r=function ky(n){return Au(n[0])?n[0].outlets:{[Pt]:n}}(t),s={};return Un(r,(u,d)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[d]=Ny(n.children[d],e,u))}),Un(n.children,(u,d)=>{void 0===r[d]&&(s[d]=u)}),new Me(n.segments,s)}}function Vh(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(Au(u)){const w=Su(u.outlets);return new Me(r,w)}if(0===s&&na(t[0])){r.push(new Qe(n.segments[e].path,Bh(t[0]))),s++;continue}const d=Au(u)?u.outlets[Pt]:`${u}`,m=s<t.length-1?t[s+1]:null;d&&m&&na(m)?(r.push(new Qe(d,Bh(m))),s+=2):(r.push(new Qe(d,{})),s++)}return new Me(r,{})}function Su(n){const e={};return Un(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Vh(new Me([],{}),0,t))}),e}function Bh(n){const e={};return Un(n,(t,r)=>e[r]=`${t}`),e}function Ri(n,e,t){return n==t.path&&zi(e,t.parameters)}class Yp{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wd(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=Mo(t);e.children.forEach(u=>{const d=u.value.outlet;this.deactivateRoutes(u,s[d],r),delete s[d]}),Un(s,(u,d)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const d=r.getContext(s.outlet);d&&this.deactivateChildRoutes(e,t,d.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Mo(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);if(r&&r.outlet){const d=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:d,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Mo(e);for(const d of Object.keys(u))this.deactivateRouteAndItsChildren(u[d],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=Mo(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new jl(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Zi(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(wd(s),s===u)if(s.component){const d=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,d.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const d=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),d.children.onOutletReAttached(m.contexts),d.attachRef=m.componentRef,d.route=m.route.value,d.outlet&&d.outlet.attach(m.componentRef,m.route.value),wd(m.route.value),this.activateChildRoutes(e,null,d.children)}else{const m=function Ed(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(s.snapshot),w=m?m.module.componentFactoryResolver:null;d.attachRef=null,d.route=s,d.resolver=w,d.outlet&&d.outlet.activateWith(s,w),this.activateChildRoutes(e,null,d.children)}}else this.activateChildRoutes(e,null,r)}}class bd{constructor(e,t){this.routes=e,this.module=t}}function La(n){return"function"==typeof n}function xu(n){return n instanceof xe}const Ql=Symbol("INITIAL_VALUE");function ra(){return hn(n=>Io(n.map(e=>e.pipe((0,gs.q)(1),Si(Ql)))).pipe(Ir((e,t)=>{let r=!1;return t.reduce((s,u,d)=>s!==Ql?s:(u===Ql&&(r=!0),r||!1!==u&&d!==t.length-1&&!xu(u)?s:u),e)},Ql),Gi(e=>e!==Ql),(0,Tt.U)(e=>xu(e)?e:!0===e),(0,gs.q)(1)))}class Oy{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Jl,this.attachRef=null}}class Jl{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Oy,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let Xl=(()=>{class n{constructor(t,r,s,u,d){this.parentContexts=t,this.location=r,this.resolver=s,this.changeDetector=d,this.activated=null,this._activatedRoute=null,this.activateEvents=new c.vpe,this.deactivateEvents=new c.vpe,this.attachEvents=new c.vpe,this.detachEvents=new c.vpe,this.name=u||Pt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const d=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),m=this.parentContexts.getOrCreateContext(this.name).children,w=new Gh(t,m,this.location.injector);this.activated=this.location.createComponent(d,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Jl),c.Y36(c.s_b),c.Y36(c._Vd),c.$8M("name"),c.Y36(c.sBO))},n.\u0275dir=c.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Gh{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===vs?this.route:e===Jl?this.childContexts:this.parent.get(e,t)}}let qh=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&c._UZ(0,"router-outlet")},directives:[Xl],encapsulation:2}),n})();function ec(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Cd(r,Zh(e,r))}}function Cd(n,e){n.children&&ec(n.children,e)}function Zh(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function zh(n){const e=n.children&&n.children.map(zh),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Pt&&(t.component=qh),t}function Jt(n){return n.outlet||Pt}function Wh(n,e){const t=n.filter(r=>Jt(r)===e);return t.push(...n.filter(r=>Jt(r)!==e)),t}const Jp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Mu(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Jp):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const u=(e.matcher||Do)(t,n,e);if(!u)return Object.assign({},Jp);const d={};Un(u.posParams,(w,I)=>{d[I]=w.path});const m=u.consumed.length>0?Object.assign(Object.assign({},d),u.consumed[u.consumed.length-1].parameters):d;return{matched:!0,consumedSegments:u.consumed,remainingSegments:t.slice(u.consumed.length),parameters:m,positionalParamSegments:null!==(r=u.posParams)&&void 0!==r?r:{}}}function tc(n,e,t,r,s="corrected"){if(t.length>0&&function Fy(n,e,t){return t.some(r=>Dd(n,e,r)&&Jt(r)!==Pt)}(n,t,r)){const d=new Me(e,function Id(n,e,t,r){const s={};s[Pt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&Jt(u)!==Pt){const d=new Me([],{});d._sourceSegment=n,d._segmentIndexShift=e.length,s[Jt(u)]=d}return s}(n,e,r,new Me(t,n.children)));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:[]}}if(0===t.length&&function Xp(n,e,t){return t.some(r=>Dd(n,e,r))}(n,t,r)){const d=new Me(n.segments,function Py(n,e,t,r,s,u){const d={};for(const m of r)if(Dd(n,t,m)&&!s[Jt(m)]){const w=new Me([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===u?n.segments.length:e.length,d[Jt(m)]=w}return Object.assign(Object.assign({},s),d)}(n,e,t,r,n.children,s));return d._sourceSegment=n,d._segmentIndexShift=e.length,{segmentGroup:d,slicedSegments:t}}const u=new Me(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function Dd(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Ly(n,e,t,r){return!!(Jt(n)===r||r!==Pt&&Dd(e,t,n))&&("**"===n.path||Mu(e,n,t).matched)}function Uy(n,e,t){return 0===e.length&&!n.children[t]}class ia{constructor(e){this.segmentGroup=e||null}}class Dr{constructor(e){this.urlTree=e}}function Ro(n){return $i(new ia(n))}function nc(n){return $i(new Dr(n))}class Yh{constructor(e,t,r,s,u){this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0,this.ngModule=e.get(c.h0i)}apply(){const e=tc(this.urlTree.root,[],[],this.config).segmentGroup,t=new Me(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Pt).pipe((0,Tt.U)(u=>this.createUrlTree(Va(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(qi(u=>{if(u instanceof Dr)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof ia?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,Pt).pipe((0,Tt.U)(s=>this.createUrlTree(Va(s),e.queryParams,e.fragment))).pipe(qi(s=>{throw s instanceof ia?this.noMatchError(s):s}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const s=e.segments.length>0?new Me([],{[Pt]:e}):e;return new xe(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Tt.U)(u=>new Me([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,pn.D)(s).pipe(Xs(u=>{const d=r.children[u],m=Wh(t,u);return this.expandSegmentGroup(e,m,d,u).pipe((0,Tt.U)(w=>({segment:w,outlet:u})))}),Ir((u,d)=>(u[d.outlet]=d.segment,u),{}),Rh())}expandSegment(e,t,r,s,u,d){return(0,pn.D)(r).pipe(Xs(m=>this.expandSegmentAgainstRoute(e,t,r,m,s,u,d).pipe(qi(I=>{if(I instanceof ia)return dt(null);throw I}))),eo(m=>!!m),qi((m,w)=>{if(m instanceof Js||"EmptyError"===m.name)return Uy(t,s,u)?dt(new Me([],{})):Ro(t);throw m}))}expandSegmentAgainstRoute(e,t,r,s,u,d,m){return Ly(s,t,u,d)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,d):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d):Ro(t):Ro(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,d):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?nc(u):this.lineralizeSegments(r,u).pipe((0,yn.z)(d=>{const m=new Me(d,{});return this.expandSegment(e,m,t,d,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,d){const{matched:m,consumedSegments:w,remainingSegments:I,positionalParamSegments:T}=Mu(t,s,u);if(!m)return Ro(t);const M=this.applyRedirectCommands(w,s.redirectTo,T);return s.redirectTo.startsWith("/")?nc(M):this.lineralizeSegments(s,M).pipe((0,yn.z)(U=>this.expandSegment(e,t,r,U.concat(I),d,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){if("**"===r.path)return r.loadChildren?(r._loadedConfig?dt(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Tt.U)(M=>(r._loadedConfig=M,new Me(s,{})))):dt(new Me(s,{}));const{matched:d,consumedSegments:m,remainingSegments:w}=Mu(t,r,s);return d?this.getChildConfig(e,r,s).pipe((0,yn.z)(T=>{const M=T.module,U=T.routes,{segmentGroup:j,slicedSegments:J}=tc(t,m,w,U),Ae=new Me(j.segments,j.children);if(0===J.length&&Ae.hasChildren())return this.expandChildren(M,U,Ae).pipe((0,Tt.U)(At=>new Me(m,At)));if(0===U.length&&0===J.length)return dt(new Me(m,{}));const Re=Jt(r)===u;return this.expandSegment(M,Ae,U,J,Re?Pt:u,!0).pipe((0,Tt.U)(We=>new Me(m.concat(We.segments),We.children)))})):Ro(t)}getChildConfig(e,t,r){return t.children?dt(new bd(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?dt(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,yn.z)(s=>s?this.configLoader.load(e.injector,t).pipe((0,Tt.U)(u=>(t._loadedConfig=u,u))):function Fr(n){return $i(no(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):dt(new bd([],e))}runCanLoadGuards(e,t,r){const s=t.canLoad;return s&&0!==s.length?dt(s.map(d=>{const m=e.get(d);let w;if(function jh(n){return n&&La(n.canLoad)}(m))w=m.canLoad(t,r);else{if(!La(m))throw new Error("Invalid CanLoad guard");w=m(t,r)}return fi(w)})).pipe(ra(),(0,Kr.b)(d=>{if(!xu(d))return;const m=no(`Redirecting to "${this.urlSerializer.serialize(d)}"`);throw m.url=d,m}),(0,Tt.U)(d=>!0===d)):dt(!0)}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return dt(r);if(s.numberOfChildren>1||!s.children[Pt])return $i(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));s=s.children[Pt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new xe(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Un(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);r[u]=t[m]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let d={};return Un(t.children,(m,w)=>{d[w]=this.createSegmentGroup(e,m,r,s)}),new Me(u,d)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}function Va(n){const e={};for(const r of Object.keys(n.children)){const u=Va(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function ki(n){if(1===n.numberOfChildren&&n.children[Pt]){const e=n.children[Pt];return new Me(n.segments.concat(e.segments),e.children)}return n}(new Me(n.segments,e))}class eg{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ba{constructor(e,t){this.component=e,this.route=t}}function Jh(n,e,t){const r=n._root;return gi(r,e?e._root:null,t,[r.value])}function rc(n,e,t){const r=function Vy(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function gi(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=Mo(e);return n.children.forEach(d=>{(function ng(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,d=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(d&&u.routeConfig===d.routeConfig){const w=function By(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Nt(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Nt(n.url,e.url)||!zi(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ph(n,e)||!zi(n.queryParams,e.queryParams);default:return!Ph(n,e)}}(d,u,u.routeConfig.runGuardsAndResolvers);w?s.canActivateChecks.push(new eg(r)):(u.data=d.data,u._resolvedData=d._resolvedData),gi(n,e,u.component?m?m.children:null:t,r,s),w&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new Ba(m.outlet.component,d))}else d&&ja(e,m,s),s.canActivateChecks.push(new eg(r)),gi(n,null,u.component?m?m.children:null:t,r,s)})(d,u[d.value.outlet],t,r.concat([d.value]),s),delete u[d.value.outlet]}),Un(u,(d,m)=>ja(d,t.getContext(m),s)),s}function ja(n,e,t){const r=Mo(n),s=n.value;Un(r,(u,d)=>{ja(u,s.component?e?e.children.getContext(d):null:e,t)}),t.canDeactivateChecks.push(new Ba(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}class tf{}function nf(n){return new Cr.y(e=>e.error(n))}class rf{constructor(e,t,r,s,u,d){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=s,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=d}recognize(){const e=tc(this.urlTree.root,[],[],this.config.filter(d=>void 0===d.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,Pt);if(null===t)return null;const r=new Tu([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Pt,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new xo(r,t),u=new Oh(this.url,s);return this.inheritParamsAndData(u._root),u}inheritParamsAndData(e){const t=e.value,r=Ty(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const u of Object.keys(t.children)){const d=t.children[u],m=Wh(e,u),w=this.processSegmentGroup(m,d,u);if(null===w)return null;r.push(...w)}const s=ig(r);return function Gy(n){n.sort((e,t)=>e.value.outlet===Pt?-1:t.value.outlet===Pt?1:e.value.outlet.localeCompare(t.value.outlet))}(s),s}processSegment(e,t,r,s){for(const u of e){const d=this.processSegmentAgainstRoute(u,t,r,s);if(null!==d)return d}return Uy(t,r,s)?[]:null}processSegmentAgainstRoute(e,t,r,s){if(e.redirectTo||!Ly(e,t,r,s))return null;let u,d=[],m=[];if("**"===e.path){const j=r.length>0?fd(r).parameters:{};u=new Tu(r,j,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,v(e),Jt(e),e.component,e,f(t),g(t)+r.length,S(e))}else{const j=Mu(t,e,r);if(!j.matched)return null;d=j.consumedSegments,m=j.remainingSegments,u=new Tu(d,j.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,v(e),Jt(e),e.component,e,f(t),g(t)+d.length,S(e))}const w=function qy(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:I,slicedSegments:T}=tc(t,d,m,w.filter(j=>void 0===j.redirectTo),this.relativeLinkResolution);if(0===T.length&&I.hasChildren()){const j=this.processChildren(w,I);return null===j?null:[new xo(u,j)]}if(0===w.length&&0===T.length)return[new xo(u,[])];const M=Jt(e)===s,U=this.processSegment(w,I,T,M?Pt:s);return null===U?null:[new xo(u,U)]}}function Zy(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function ig(n){const e=[],t=new Set;for(const r of n){if(!Zy(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=ig(r.children);e.push(new xo(r.value,s))}return e.filter(r=>!t.has(r))}function f(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function g(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function v(n){return n.data||{}}function S(n){return n.resolve||{}}function Xe(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ut(n){return hn(e=>{const t=n(e);return t?(0,pn.D)(t).pipe((0,Tt.U)(()=>e)):dt(e)})}class sc extends class Yi{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Ru=new c.OlP("ROUTES");class ku{constructor(e,t,r,s){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=s}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const s=this.loadModuleFactory(t.loadChildren).pipe((0,Tt.U)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t);const d=u.create(e);return new bd(Wi(d.injector.get(Ru,void 0,c.XFs.Self|c.XFs.Optional)).map(zh),d)}),qi(u=>{throw t._loader$=void 0,u}));return t._loader$=new cd(s,()=>new lr.x).pipe(Ai()),t._loader$}loadModuleFactory(e){return fi(e()).pipe((0,yn.z)(t=>t instanceof c.YKP?dt(t):(0,pn.D)(this.compiler.compileModuleAsync(t))))}}class zy{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function sa(n){throw n}function Td(n,e,t){return e.parse("/")}function Ad(n,e){return dt(null)}const af={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Sd={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ar=(()=>{class n{constructor(t,r,s,u,d,m,w){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=s,this.location=u,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new lr.x,this.errorHandler=sa,this.malformedUriErrorHandler=Td,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ad,afterPreactivation:Ad},this.urlHandlingStrategy=new zy,this.routeReuseStrategy=new sc,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=d.get(c.h0i),this.console=d.get(c.c2e);const M=d.get(c.R0b);this.isNgZoneEnabled=M instanceof c.R0b&&c.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function ql(){return new xe(new Me([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new ku(d,m,U=>this.triggerEvent(new Bl(U)),U=>this.triggerEvent(new ys(U))),this.routerState=Fa(this.currentUrlTree,this.rootComponentType),this.transitions=new Or({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Gi(s=>0!==s.id),(0,Tt.U)(s=>Object.assign(Object.assign({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),hn(s=>{let u=!1,d=!1;return dt(s).pipe((0,Kr.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.currentRawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),hn(m=>{const w=this.browserUrlTree.toString(),I=!this.navigated||m.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||I)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return sg(m.source)&&(this.browserUrlTree=m.extractedUrl),dt(m).pipe(hn(M=>{const U=this.transitions.getValue();return r.next(new ms(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),U!==this.transitions.getValue()?Qo.E:Promise.resolve(M)}),function Qh(n,e,t,r){return hn(s=>function Ua(n,e,t,r,s){return new Yh(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,Tt.U)(u=>Object.assign(Object.assign({},s),{urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Kr.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function k(n,e,t,r,s){return(0,yn.z)(u=>function Hy(n,e,t,r,s="emptyOnly",u="legacy"){try{const d=new rf(n,e,t,r,s,u).recognize();return null===d?nf(new tf):dt(d)}catch(d){return nf(d)}}(n,e,u.urlAfterRedirects,t(u.urlAfterRedirects),r,s).pipe((0,Tt.U)(d=>Object.assign(Object.assign({},u),{targetSnapshot:d}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Kr.b)(M=>{if("eager"===this.urlUpdateStrategy){if(!M.extras.skipLocationChange){const j=this.urlHandlingStrategy.merge(M.urlAfterRedirects,M.rawUrl);this.setBrowserUrl(j,M)}this.browserUrlTree=M.urlAfterRedirects}const U=new Xo(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next(U)}));if(I&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:U,extractedUrl:j,source:J,restoredState:Ae,extras:Re}=m,vt=new ms(U,this.serializeUrl(j),J,Ae);r.next(vt);const We=Fa(j,this.rootComponentType).snapshot;return dt(Object.assign(Object.assign({},m),{targetSnapshot:We,urlAfterRedirects:j,extras:Object.assign(Object.assign({},Re),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=m.rawUrl,m.resolve(null),Qo.E}),ut(m=>{const{targetSnapshot:w,id:I,extractedUrl:T,rawUrl:M,extras:{skipLocationChange:U,replaceUrl:j}}=m;return this.hooks.beforePreactivation(w,{navigationId:I,appliedUrlTree:T,rawUrlTree:M,skipLocationChange:!!U,replaceUrl:!!j})}),(0,Kr.b)(m=>{const w=new qp(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(w)}),(0,Tt.U)(m=>Object.assign(Object.assign({},m),{guards:Jh(m.targetSnapshot,m.currentSnapshot,this.rootContexts)})),function jy(n,e){return(0,yn.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:d}}=t;return 0===d.length&&0===u.length?dt(Object.assign(Object.assign({},t),{guardsResult:!0})):function rg(n,e,t,r){return(0,pn.D)(n).pipe((0,yn.z)(s=>function ic(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?dt(u.map(m=>{const w=rc(m,e,s);let I;if(function H0(n){return n&&La(n.canDeactivate)}(w))I=fi(w.canDeactivate(n,e,t,r));else{if(!La(w))throw new Error("Invalid CanDeactivate guard");I=fi(w(n,e,t,r))}return I.pipe(eo())})).pipe(ra()):dt(!0)}(s.component,s.route,t,e,r)),eo(s=>!0!==s,!0))}(d,r,s,n).pipe((0,yn.z)(m=>m&&function Qp(n){return"boolean"==typeof n}(m)?function Tr(n,e,t,r){return(0,pn.D)(e).pipe(Xs(s=>Ll(function ef(n,e){return null!==n&&e&&e(new xi(n)),dt(!0)}(s.route.parent,r),function Xh(n,e){return null!==n&&e&&e(new Oa(n)),dt(!0)}(s.route,r),function ko(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(d=>function tg(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(d)).filter(d=>null!==d).map(d=>Ti(()=>dt(d.guards.map(w=>{const I=rc(w,d.node,t);let T;if(function Hh(n){return n&&La(n.canActivateChild)}(I))T=fi(I.canActivateChild(r,n));else{if(!La(I))throw new Error("Invalid CanActivateChild guard");T=fi(I(r,n))}return T.pipe(eo())})).pipe(ra())));return dt(u).pipe(ra())}(n,s.path,t),function $y(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return dt(!0);const s=r.map(u=>Ti(()=>{const d=rc(u,e,t);let m;if(function $h(n){return n&&La(n.canActivate)}(d))m=fi(d.canActivate(e,n));else{if(!La(d))throw new Error("Invalid CanActivate guard");m=fi(d(e,n))}return m.pipe(eo())}));return dt(s).pipe(ra())}(n,s.route,t))),eo(s=>!0!==s,!0))}(r,u,n,e):dt(m)),(0,Tt.U)(m=>Object.assign(Object.assign({},t),{guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,Kr.b)(m=>{if(xu(m.guardsResult)){const I=no(`Redirecting to "${this.serializeUrl(m.guardsResult)}"`);throw I.url=m.guardsResult,I}const w=new Vl(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(w)}),Gi(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,""),!1)),ut(m=>{if(m.guards.canActivateChecks.length)return dt(m).pipe((0,Kr.b)(w=>{const I=new dr(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(I)}),hn(w=>{let I=!1;return dt(w).pipe(function q(n,e){return(0,yn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return dt(t);let u=0;return(0,pn.D)(s).pipe(Xs(d=>function oe(n,e,t,r){return function Ve(n,e,t,r){const s=Xe(n);if(0===s.length)return dt({});const u={};return(0,pn.D)(s).pipe((0,yn.z)(d=>function _t(n,e,t,r){const s=rc(n,e,r);return fi(s.resolve?s.resolve(e,t):s(e,t))}(n[d],e,t,r).pipe((0,Kr.b)(m=>{u[d]=m}))),dd(1),(0,yn.z)(()=>Xe(u).length===s.length?dt(u):Qo.E))}(n._resolve,n,e,r).pipe((0,Tt.U)(u=>(n._resolvedData=u,n.data=Object.assign(Object.assign({},n.data),Ty(n,t).resolve),null)))}(d.route,r,n,e)),(0,Kr.b)(()=>u++),dd(1),(0,yn.z)(d=>u===s.length?dt(t):Qo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Kr.b)({next:()=>I=!0,complete:()=>{I||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,Kr.b)(w=>{const I=new hi(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(I)}))}),ut(m=>{const{targetSnapshot:w,id:I,extractedUrl:T,rawUrl:M,extras:{skipLocationChange:U,replaceUrl:j}}=m;return this.hooks.afterPreactivation(w,{navigationId:I,appliedUrlTree:T,rawUrlTree:M,skipLocationChange:!!U,replaceUrl:!!j})}),(0,Tt.U)(m=>{const w=function Ay(n,e,t){const r=Kl(n,e._root,t?t._root:void 0);return new md(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return Object.assign(Object.assign({},m),{targetRouterState:w})}),(0,Kr.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Tt.U)(r=>(new Yp(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,Kr.b)({next(){u=!0},complete(){u=!0}}),function Gp(n){return(0,cr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var m;u||d||this.cancelNavigationTransition(s,`Navigation ID ${s.id} is not equal to the current navigation id ${this.navigationId}`),(null===(m=this.currentNavigation)||void 0===m?void 0:m.id)===s.id&&(this.currentNavigation=null)}),qi(m=>{if(d=!0,function hd(n){return n&&n[Gl]}(m)){const w=xu(m.url);w||(this.navigated=!0,this.restoreHistory(s,!0));const I=new _n(s.id,this.serializeUrl(s.extractedUrl),m.message);r.next(I),w?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),M={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||sg(s.source)};this.scheduleNavigation(T,"imperative",null,M,{resolve:s.resolve,reject:s.reject,promise:s.promise})},0):s.resolve(!1)}else{this.restoreHistory(s,!0);const w=new Ul(s.id,this.serializeUrl(s.extractedUrl),m);r.next(w);try{s.resolve(this.errorHandler(m))}catch(I){s.reject(I)}}return Qo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var s;const u={replaceUrl:!0},d=(null===(s=t.state)||void 0===s?void 0:s.navigationId)?t.state:null;if(d){const w=Object.assign({},d);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(u.state=w)}const m=this.parseUrl(t.url);this.scheduleNavigation(m,r,d,u)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){ec(t),this.config=t.map(zh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:d,queryParamsHandling:m,preserveFragment:w}=r,I=s||this.routerState.root,T=w?this.currentUrlTree.fragment:d;let M=null;switch(m){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),u);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=u||null}return null!==M&&(M=this.removeEmptyProps(M)),function ro(n,e,t,r,s){if(0===t.length)return Wp(e.root,e.root,e.root,r,s);const u=function My(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new xy(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,d)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return Un(u.outlets,(w,I)=>{m[I]="string"==typeof w?w.split("/"):w}),[...s,{outlets:m}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===d?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&s.push(m))}),s):[...s,u]},[]);return new xy(t,e,r)}(t);if(u.toRoot())return Wp(e.root,e.root,new Me([],{}),r,s);const d=function Kp(n,e,t){if(n.isAbsolute)return new Uh(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const u=t.snapshot._urlSegment;return new Uh(u,u===e.root,0)}const r=na(n.commands[0])?0:1;return function Ry(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new Error("Invalid number of '../'");s=r.segments.length}return new Uh(r,!1,s-u)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(u,e,n),m=d.processChildren?io(d.segmentGroup,d.index,u.commands):Ny(d.segmentGroup,d.index,u.commands);return Wp(e.root,d.segmentGroup,m,r,s)}(I,this.currentUrlTree,t,M,null!=T?T:null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=xu(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function uf(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?Object.assign({},af):!1===r?Object.assign({},Sd):r,xu(t))return Du(this.currentUrlTree,t,s);const u=this.parseUrl(t);return Du(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Na(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,s,u,d){var m,w;if(this.disposed)return Promise.resolve(!1);let I,T,M;d?(I=d.resolve,T=d.reject,M=d.promise):M=new Promise((J,Ae)=>{I=J,T=Ae});const U=++this.navigationId;let j;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),j=s&&s.\u0275routerPageId?s.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?null!==(m=this.browserPageId)&&void 0!==m?m:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):j=0,this.setTransition({id:U,targetPageId:j,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:I,reject:T,promise:M,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),M.catch(J=>Promise.reject(J))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t),u=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",u):this.location.go(s,"",u)}restoreHistory(t,r=!1){var s,u;if("computed"===this.canceledNavigationResolution){const d=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)||0===d?this.currentUrlTree===(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)&&0===d&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(d)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const s=new _n(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(s),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function sg(n){return"imperative"!==n}let Wy=(()=>{class n{constructor(t,r,s,u,d){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=d,this.commands=null,this.onChanges=new lr.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,s=this.el.nativeElement;null!==t?r.setAttribute(s,"tabindex",t):r.removeAttribute(s,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:Md(this.skipLocationChange),replaceUrl:Md(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Md(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ar),c.Y36(vs),c.$8M("tabindex"),c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&c.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})(),xd=(()=>{class n{constructor(t,r,s){this.router=t,this.route=r,this.locationStrategy=s,this.commands=null,this.href=null,this.onChanges=new lr.x,this.subscription=t.events.subscribe(u=>{u instanceof Na&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,s,u,d){if(0!==t||r||s||u||d||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const m={skipLocationChange:Md(this.skipLocationChange),replaceUrl:Md(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,m),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Md(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ar),c.Y36(vs),c.Y36(ye))},n.\u0275dir=c.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&c.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&c.uIk("target",r.target)("href",r.href,c.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[c.TTD]}),n})();function Md(n){return""===n||!!n}let Ky=(()=>{class n{constructor(t,r,s,u,d,m){this.router=t,this.element=r,this.renderer=s,this.cdr=u,this.link=d,this.linkWithHref=m,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new c.vpe,this.routerEventsSubscription=t.events.subscribe(w=>{w instanceof Na&&this.update()})}ngAfterContentInit(){dt(this.links.changes,this.linksWithHrefs.changes,dt(null)).pipe((0,Hi.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const r=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(s=>!!s).map(s=>s.onChanges);this.linkInputChangesSubscription=(0,pn.D)(r).pipe((0,Hi.J)()).subscribe(s=>{this.isActive!==this.isLinkActive(this.router)(s)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(s=>!!s)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function Yy(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return s=>!!s.urlTree&&t.isActive(s.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ar),c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(c.sBO),c.Y36(Wy,8),c.Y36(xd,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,s){if(1&t&&(c.Suo(s,Wy,5),c.Suo(s,xd,5)),2&t){let u;c.iGM(u=c.CRH())&&(r.links=u),c.iGM(u=c.CRH())&&(r.linksWithHrefs=u)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[c.TTD]}),n})();class Qy{}class G0{preload(e,t){return dt(null)}}let q0=(()=>{class n{constructor(t,r,s,u){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=new ku(s,r,w=>t.triggerEvent(new Bl(w)),w=>t.triggerEvent(new ys(w)))}setUpPreloading(){this.subscription=this.router.events.pipe(Gi(t=>t instanceof Na),Xs(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(c.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r)if(u.loadChildren&&!u.canLoad&&u._loadedConfig){const d=u._loadedConfig;s.push(this.processRoutes(d.module,d.routes))}else u.loadChildren&&!u.canLoad?s.push(this.preloadConfig(t,u)):u.children&&s.push(this.processRoutes(t,u.children));return(0,pn.D)(s).pipe((0,Hi.J)(),(0,Tt.U)(u=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?dt(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,yn.z)(u=>(r._loadedConfig=u,this.processRoutes(u.module,u.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ar),c.LFG(c.Sil),c.LFG(c.zs3),c.LFG(Qy))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),og=(()=>{class n{constructor(t,r,s={}){this.router=t,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof ms?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Na&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof $l&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new $l(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){c.$Z()},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();const ws=new c.OlP("ROUTER_CONFIGURATION"),Xy=new c.OlP("ROUTER_FORROOT_GUARD"),Z0=[_e,{provide:Vn,useClass:Dn},{provide:Ar,useFactory:function t_(n,e,t,r,s,u,d={},m,w){const I=new Ar(null,n,e,t,r,s,Wi(u));return m&&(I.urlHandlingStrategy=m),w&&(I.routeReuseStrategy=w),function K0(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(d,I),d.enableTracing&&I.events.subscribe(T=>{var M,U;null===(M=console.group)||void 0===M||M.call(console,`Router Event: ${T.constructor.name}`),console.log(T.toString()),console.log(T),null===(U=console.groupEnd)||void 0===U||U.call(console)}),I},deps:[Vn,Jl,_e,c.zs3,c.Sil,Ru,ws,[class sf{},new c.FiY],[class Tn{},new c.FiY]]},Jl,{provide:vs,useFactory:function ag(n){return n.routerState.root},deps:[Ar]},q0,G0,class Jy{preload(e,t){return t().pipe(qi(()=>dt(null)))}},{provide:ws,useValue:{enableTracing:!1}}];function ZC(){return new c.PXZ("Router",Ar)}let oc=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[Z0,e_(t),{provide:Xy,useFactory:W0,deps:[[Ar,new c.FiY,new c.tp0]]},{provide:ws,useValue:r||{}},{provide:ye,useFactory:z0,deps:[de,[new c.tBr(at),new c.FiY],ws]},{provide:og,useFactory:zC,deps:[Ar,cu,ws]},{provide:Qy,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:G0},{provide:c.PXZ,multi:!0,useFactory:ZC},[Rd,{provide:c.ip1,multi:!0,useFactory:Y0,deps:[Rd]},{provide:r_,useFactory:n_,deps:[Rd]},{provide:c.tb,multi:!0,useExisting:r_}]]}}static forChild(t){return{ngModule:n,providers:[e_(t)]}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Xy,8),c.LFG(Ar,8))},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();function zC(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new og(n,e,t)}function z0(n,e,t={}){return t.useHash?new Te(n,e):new rt(n,e)}function W0(n){return"guarded"}function e_(n){return[{provide:c.deG,multi:!0,useValue:n},{provide:Ru,multi:!0,useValue:n}]}let Rd=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new lr.x}appInitializer(){return this.injector.get($,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const s=new Promise(m=>r=m),u=this.injector.get(Ar),d=this.injector.get(ws);return"disabled"===d.initialNavigation?(u.setUpLocationChangeListener(),r(!0)):"enabled"===d.initialNavigation||"enabledBlocking"===d.initialNavigation?(u.hooks.afterPreactivation=()=>this.initNavigation?dt(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),u.initialNavigation()):r(!0),s})}bootstrapListener(t){const r=this.injector.get(ws),s=this.injector.get(q0),u=this.injector.get(og),d=this.injector.get(Ar),m=this.injector.get(c.z2F);t===m.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&d.initialNavigation(),s.setUpPreloading(),u.init(),d.resetRootComponentType(m.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(c.zs3))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})();function Y0(n){return n.appInitializer.bind(n)}function n_(n){return n.bootstrapListener.bind(n)}const r_=new c.OlP("Router Initializer"),Q0=[{path:"",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-home"]],decls:104,vars:0,consts:[[1,"relative","overflow-hidden","mb-2"],["autoplay","","muted","","loop","",1,"w-full","h-full","object-cover","absolute","z-0"],["src","assets/video/hero.webm","type","video/webm"],[1,"bg-gradient","absolute","w-full","h-full","z-40","opacity-60"],[1,"w-full","h-full","absolute","z-40"],[1,"cube"],[1,"container","mx-auto","relative","z-50"],[1,"text-center","px-20","py-60","w-full","md:w-8/12","mx-auto"],[1,"text-7xl","font-bold","uppercase","mb-2"],[1,"container","mx-auto","p-8"],[1,"uppercase","text-center","text-4xl","grid","mt-20","mb-12","items-center","gap-8","tracking-widest","latest"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],["href","#",1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","transform","hover:-translate-y-2","hover:shadow-2xl","transition","duration-300"],["src","assets/img/1.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],[1,"relative"],[1,"absolute","pointer-events-none","bottom-full","w-full","bg-secondary","text-white"],[1,"absolute","bottom-full","w-full","pb-5","overflow-hidden"],["viewBox","0 0 100 50","preserveAspectRatio","none",1,"absolute","bottom-0","w-full","h-full","tranform",2,"transform-origin","top center","transform","scale(2)"],["d","M0 25h25L75 0h25v50H0z","fill","#283046"],[1,"p-8"],[1,"text-3xl","mb-2"],[1,"mb-0"],[1,"text-gray-400"],["src","assets/img/2.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],["src","assets/img/3.jpg",1,"card-img-top","rounded-tl-2xl","w-full"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"video",1),c._UZ(2,"source",2),c.qZA(),c._UZ(3,"div",3),c.TgZ(4,"div",4),c._UZ(5,"div",5)(6,"div",5)(7,"div",5)(8,"div",5)(9,"div",5),c.qZA(),c.TgZ(10,"div",6)(11,"div",7)(12,"h1",8),c._uU(13,"Clip it and ship it!"),c.qZA(),c.TgZ(14,"p"),c._uU(15," The #1 app to watch, clip, and share your awesome gaming moments with your friends and the world! With our world-class tools, we make it incredibly easy to share your videos. Get started today! "),c.qZA()()()(),c.TgZ(16,"section",9)(17,"h1",10),c._uU(18," Latest "),c.qZA(),c.TgZ(19,"div",11)(20,"a",12),c._UZ(21,"img",13),c.TgZ(22,"div",14)(23,"div",15)(24,"div",16),c.O4$(),c.TgZ(25,"svg",17),c._UZ(26,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(27,"div",19)(28,"h2",20),c._uU(29,"Game Highlighting Clip"),c.qZA(),c.TgZ(30,"p",21),c._uU(31," Luis Ramirez \xb7 "),c.TgZ(32,"span",22),c._uU(33,"March 31, 2020"),c.qZA()()()(),c.TgZ(34,"a",12),c._UZ(35,"img",23),c.TgZ(36,"div",14)(37,"div",15)(38,"div",16),c.O4$(),c.TgZ(39,"svg",17),c._UZ(40,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(41,"div",19)(42,"h2",20),c._uU(43,"Game Highlighting Clip"),c.qZA(),c.TgZ(44,"p",21),c._uU(45," Luis Ramirez \xb7 "),c.TgZ(46,"span",22),c._uU(47,"March 31, 2020"),c.qZA()()()(),c.TgZ(48,"a",12),c._UZ(49,"img",24),c.TgZ(50,"div",14)(51,"div",15)(52,"div",16),c.O4$(),c.TgZ(53,"svg",17),c._UZ(54,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(55,"div",19)(56,"h2",20),c._uU(57,"Game Highlighting Clip"),c.qZA(),c.TgZ(58,"p",21),c._uU(59," Luis Ramirez \xb7 "),c.TgZ(60,"span",22),c._uU(61,"March 31, 2020"),c.qZA()()()(),c.TgZ(62,"a",12),c._UZ(63,"img",23),c.TgZ(64,"div",14)(65,"div",15)(66,"div",16),c.O4$(),c.TgZ(67,"svg",17),c._UZ(68,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(69,"div",19)(70,"h2",20),c._uU(71,"Game Highlighting Clip"),c.qZA(),c.TgZ(72,"p",21),c._uU(73," Luis Ramirez \xb7 "),c.TgZ(74,"span",22),c._uU(75,"March 31, 2020"),c.qZA()()()(),c.TgZ(76,"a",12),c._UZ(77,"img",24),c.TgZ(78,"div",14)(79,"div",15)(80,"div",16),c.O4$(),c.TgZ(81,"svg",17),c._UZ(82,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(83,"div",19)(84,"h2",20),c._uU(85,"Game Highlighting Clip"),c.qZA(),c.TgZ(86,"p",21),c._uU(87," Luis Ramirez \xb7 "),c.TgZ(88,"span",22),c._uU(89,"March 31, 2020"),c.qZA()()()(),c.TgZ(90,"a",12),c._UZ(91,"img",13),c.TgZ(92,"div",14)(93,"div",15)(94,"div",16),c.O4$(),c.TgZ(95,"svg",17),c._UZ(96,"path",18),c.qZA()()()(),c.kcU(),c.TgZ(97,"div",19)(98,"h2",20),c._uU(99,"Game Highlighting Clip"),c.qZA(),c.TgZ(100,"p",21),c._uU(101," Luis Ramirez \xb7 "),c.TgZ(102,"span",22),c._uU(103,"March 31, 2020"),c.qZA()()()()()())},styles:[""]}),n})()},{path:"about",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-about"]],decls:2,vars:0,consts:[[1,"container","mx-auto","mt-4","px-12"]],template:function(t,r){1&t&&(c.TgZ(0,"p",0),c._uU(1," This is a basic about page to demonstrate basic routing capabilities.\n"),c.qZA())},styles:[""]}),n})()},{path:"clip/:id",component:(()=>{class n{constructor(t){this.route=t,this.id=""}ngOnInit(){this.route.params.subscribe(t=>{this.id=t.id})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(vs))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-clip"]],decls:57,vars:1,consts:[[1,"container","mx-auto","my-8","bg-secondary","p-6"],[1,"rounded","relative","flex","flex-col"],[1,"font-bold","mb-2","text-3xl"],[1,"text-gray-400","mb-6"],[1,"relative"],["controls","","data-setup","{}",1,"video-js","vjs-theme-forest","mx-auto"],["src","assets/video/hero.webm","type","video/webm"],[1,"container","mx-auto","my-8"],[1,"mt-6","text-2xl"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],["routerLink","/clip/b",1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","transform","hover:-translate-y-2","hover:shadow-2xl","transition","duration-300"],["src","assets/img/1.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],[1,"absolute","pointer-events-none","bottom-full","w-full","bg-secondary","text-white"],[1,"absolute","bottom-full","w-full","pb-5","overflow-hidden"],["viewBox","0 0 100 50","preserveAspectRatio","none",1,"absolute","bottom-0","w-full","h-full","tranform",2,"transform-origin","top center","transform","scale(2)"],["d","M0 25h25L75 0h25v50H0z","fill","#283046"],[1,"p-8"],[1,"text-3xl","mb-2"],[1,"mb-0"],[1,"text-gray-400"],["href","#",1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","transform","hover:-translate-y-2","hover:shadow-2xl","transition","duration-300"],["src","assets/img/2.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],["src","assets/img/3.jpg",1,"card-img-top","rounded-tl-2xl","w-full"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),c._uU(3),c.qZA(),c.TgZ(4,"div",3),c._uU(5," Uploaded By Luis on "),c.TgZ(6,"span"),c._uU(7,"March 25, 2022"),c.qZA()(),c.TgZ(8,"div",4)(9,"video",5),c._UZ(10,"source",6),c.qZA()()()(),c.TgZ(11,"div",7)(12,"h2",8),c._uU(13,"More Clips"),c.qZA(),c.TgZ(14,"div",9)(15,"a",10),c._UZ(16,"img",11),c.TgZ(17,"div",4)(18,"div",12)(19,"div",13),c.O4$(),c.TgZ(20,"svg",14),c._UZ(21,"path",15),c.qZA()()()(),c.kcU(),c.TgZ(22,"div",16)(23,"h2",17),c._uU(24,"Game Highlighting Clip"),c.qZA(),c.TgZ(25,"p",18),c._uU(26," Luis Ramirez \xb7 "),c.TgZ(27,"span",19),c._uU(28,"March 31, 2020"),c.qZA()()()(),c.TgZ(29,"a",20),c._UZ(30,"img",21),c.TgZ(31,"div",4)(32,"div",12)(33,"div",13),c.O4$(),c.TgZ(34,"svg",14),c._UZ(35,"path",15),c.qZA()()()(),c.kcU(),c.TgZ(36,"div",16)(37,"h2",17),c._uU(38,"Game Highlighting Clip"),c.qZA(),c.TgZ(39,"p",18),c._uU(40," Luis Ramirez \xb7 "),c.TgZ(41,"span",19),c._uU(42,"March 31, 2020"),c.qZA()()()(),c.TgZ(43,"a",20),c._UZ(44,"img",22),c.TgZ(45,"div",4)(46,"div",12)(47,"div",13),c.O4$(),c.TgZ(48,"svg",14),c._UZ(49,"path",15),c.qZA()()()(),c.kcU(),c.TgZ(50,"div",16)(51,"h2",17),c._uU(52,"Game Highlighting Clip"),c.qZA(),c.TgZ(53,"p",18),c._uU(54," Luis Ramirez \xb7 "),c.TgZ(55,"span",19),c._uU(56,"March 31, 2020"),c.qZA()()()()()()),2&t&&(c.xp6(3),c.Oqu(r.id))},directives:[xd],styles:[""]}),n})()},{path:"**",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-not-found"]],decls:20,vars:0,consts:[[1,"relative","m-auto","left-0","right-0","z-10","w-36","h-52","border-indigo-400","border-4","top-32","ghost"],[1,"absolute","left-0","right-0","bottom-10","m-auto","text-center","text-4xl","font-bold"],[1,"rounded-full","absolute","left-0","right-0","w-3","h-3","bg-indigo-400","mx-auto","mt-10","transform","translate-x-6"],[1,"rounded-full","absolute","left-0","right-0","w-3","h-3","bg-indigo-400","mx-auto","mt-10","transform","-translate-x-6"],[1,"w-10","h-2","rounded-lg","absolute","left-0","right-0","mx-auto","mt-20","bg-indigo-400"],[1,"corner","border-indigo-400","border-4"],[1,"corner","two","border-indigo-400","border-4"],[1,"corner","three","border-indigo-400","border-4"],[1,"corner","four","border-indigo-400","border-4"],[1,"over"],[1,"over","two"],[1,"over","three"],[1,"over","four"],[1,"ghost-shadow","w-32","h-10","mx-auto","mt-56","rounded","bg-indigo-400","left-0","right-0","absolute"],[1,"container","mx-auto","text-center","mt-60"],[1,"text-4xl","font-bold","mb-4"]],template:function(t,r){1&t&&(c.TgZ(0,"div",0)(1,"span",1),c._uU(2,"404"),c.qZA(),c._UZ(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10)(12,"div",11)(13,"div",12)(14,"div",13),c.qZA(),c.TgZ(15,"div",14)(16,"h2",15),c._uU(17,"Page not found"),c.qZA(),c.TgZ(18,"p"),c._uU(19,"Looks like the page you're looking for is gone or doesn't exist."),c.qZA()())},styles:[""]}),n})()}];let s_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[oc.forRoot(Q0)],oc]}),n})();var he=N(5861),o_=N(4986),J0=N(5032);function ew(n,e){return e?t=>Ll(e.pipe((0,gs.q)(1),function KC(){return(0,cr.e)((n,e)=>{n.subscribe((0,Cn.x)(e,J0.Z))})}()),t.pipe(ew(n))):(0,yn.z)((t,r)=>n(t,r).pipe((0,gs.q)(1),function X0(n){return(0,Tt.U)(()=>n)}(t)))}var YC=N(3532);var JC=N(6451),lg=N(5363),XC=N(6063);class eI extends lr.x{constructor(e=1/0,t=1/0,r=XC.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:d}=this;t||(r.push(e),!s&&r.push(u.now()+d)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let d=0;d<u.length&&!e.closed;d+=r?1:2)e.next(u[d]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const d=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=d;w+=2)m=w;m&&r.splice(0,m+1)}}}var nw=N(3099);function rw(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,nw.B)({connector:()=>new eI(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function iw(n,e){return(0,Ra.m)(e)?hn(()=>n,e):hn(()=>n)}var a_=N(9468),tt=N(5813),mi=N(2011);N(5867);var Es=N(9681),cf=N(4859),xt=N(2090),Ou=N(1877);const dw=new Map,nI={activated:!1,tokenObservers:[]},hw={initialized:!1,enabled:!1};function Yr(n){return dw.get(n)||nI}function Oo(n,e){dw.set(n,e)}function f_(){return hw}class rS{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,he.Z)(function*(){t.stop();try{t.pending=new xt.BH,yield function iS(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new xt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Qi=new xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function sI(n){if(!Yr(n).activated)throw Qi.create("use-before-activation",{appName:n.name})}function df(n,e){return m_.apply(this,arguments)}function m_(){return(m_=(0,he.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const M=yield s.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const u={method:"POST",body:JSON.stringify(e),headers:r};let d,m;try{d=yield fetch(n,u)}catch(M){throw Qi.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==d.status)throw Qi.create("fetch-status-error",{httpStatus:d.status});try{m=yield d.json()}catch(M){throw Qi.create("fetch-parse-error",{originalErrorMessage:M.message})}const w=m.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Qi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${m.ttl}`});const I=1e3*Number(w[1]),T=Date.now();return{token:m.attestationToken,expireTimeMillis:T+I,issuedAtTimeMillis:T}})).apply(this,arguments)}function mw(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${s}`,body:{debug_token:e}}}const so="firebase-app-check-store";let hg=null;function fg(){return hg||(hg=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(Qi.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(so,{keyPath:"compositeKey"})}}catch(t){e(Qi.create("storage-open",{originalErrorMessage:t.message}))}}),hg)}function Pu(){return(Pu=(0,he.Z)(function*(n,e){const r=(yield fg()).transaction(so,"readwrite"),u=r.objectStore(so).put({compositeKey:n,value:e});return new Promise((d,m)=>{u.onsuccess=w=>{d()},r.onerror=w=>{var I;m(Qi.create("storage-set",{originalErrorMessage:null===(I=w.target.error)||void 0===I?void 0:I.message}))}})})).apply(this,arguments)}const aa=new Ou.Yd("@firebase/app-check");function w_(n,e){return(0,xt.hl)()?function yw(n,e){return function kd(n,e){return Pu.apply(this,arguments)}(function Nd(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{aa.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function b_(){return f_().enabled}function ff(){return C_.apply(this,arguments)}function C_(){return(C_=(0,he.Z)(function*(){const n=f_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const aS={error:"UNKNOWN_ERROR"};function vw(n){return xt.US.encodeString(JSON.stringify(n),!1)}function pf(n){return I_.apply(this,arguments)}function I_(){return(I_=(0,he.Z)(function*(n,e=!1){const t=n.app;sI(t);const r=Yr(t);let u,s=r.token;if(!s){const w=yield r.cachedTokenPromise;w&&yg(w)&&(s=w)}if(!e&&s&&yg(s))return{token:s.token};let m,d=!1;if(b_()){r.exchangeTokenPromise||(r.exchangeTokenPromise=df(mw(t,yield ff()),n.heartbeatServiceProvider).then(I=>(r.exchangeTokenPromise=void 0,I)),d=!0);const w=yield r.exchangeTokenPromise;return yield w_(t,w),Oo(t,Object.assign(Object.assign({},r),{token:w})),{token:w.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(w=>(r.exchangeTokenPromise=void 0,w)),d=!0),s=yield r.exchangeTokenPromise}catch(w){"appCheck/throttled"===w.code?aa.warn(w.message):aa.error(w),u=w}return s?(m={token:s.token},Oo(t,Object.assign(Object.assign({},r),{token:s})),yield w_(t,s)):m=uS(u),d&&Ew(t,m),m})).apply(this,arguments)}function D_(n,e){const t=Yr(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),Oo(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function ww(n){const{app:e}=n,t=Yr(e);let r=t.tokenRefresher;r||(r=function bs(n){const{app:e}=n;return new rS((0,he.Z)(function*(){let r;if(r=Yr(e).token?yield pf(n,!0):yield pf(n),r.error)throw r.error}),()=>!0,()=>{const t=Yr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),Oo(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Ew(n,e){const t=Yr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(s){}}function yg(n){return n.expireTimeMillis-Date.now()>0}function uS(n){return{token:vw(aS),error:n}}class lS{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Yr(this.app);for(const t of e)D_(this.app,t.next);return Promise.resolve()}}const kw="app-check-internal";!function vg(){(0,Es._registerComponent)(new cf.wA("app-check",n=>function bw(n,e){return new lS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(kw).initialize()})),(0,Es._registerComponent)(new cf.wA(kw,n=>function cS(n){return{getToken:e=>pf(n,e),addTokenListener:e=>function mg(n,e,t,r){const{app:s}=n,u=Yr(s),d={next:t,error:r,type:e};if(Oo(s,Object.assign(Object.assign({},u),{tokenObservers:[...u.tokenObservers,d]})),u.token&&yg(u.token)){const m=u.token;Promise.resolve().then(()=>{t({token:m.token}),ww(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>ww(n))}(n,"INTERNAL",e),removeTokenListener:e=>D_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Es.registerVersion)("@firebase/app-check","0.5.5")}();class Od{constructor(){return(0,tt.vb)("app-check")}}"undefined"!=typeof window&&window;var Pd=N(127);const bg=new c.OlP("angularfire2.auth.use-emulator"),k_=new c.OlP("angularfire2.auth.settings"),Cg=new c.OlP("angularfire2.auth.tenant-id"),Fd=new c.OlP("angularfire2.auth.langugage-code"),Fw=new c.OlP("angularfire2.auth.use-device-language"),Ig=new c.OlP("angularfire.auth.persistence"),N_=(n,e,t,r,s,u,d,m)=>(0,mi.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=s,u&&w.useDeviceLanguage(),d)for(const[I,T]of Object.entries(d))w.settings[I]=T;return m&&w.setPersistence(m),w},[t,r,s,u,d,m]);let ua=(()=>{class n{constructor(t,r,s,u,d,m,w,I,T,M,U,j){const J=new lr.x,Ae=dt(void 0).pipe((0,lg.Q)(d.outsideAngular),hn(()=>u.runOutsideAngular(()=>Promise.resolve().then(N.bind(N,4087)))),(0,Tt.U)(()=>(0,mi.on)(t,u,r)),(0,Tt.U)(Re=>N_(Re,u,m,I,T,M,w,U)),rw({bufferSize:1,refCount:!1}));if(ar(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=dt(null);else{Ae.pipe(eo()).subscribe();const vt=Ae.pipe(hn(Ke=>Ke.getRedirectResult().then(It=>It,()=>null)),tt.iC,rw({bufferSize:1,refCount:!1})),We=Ae.pipe(hn(Ke=>new Cr.y(It=>({unsubscribe:u.runOutsideAngular(()=>Ke.onAuthStateChanged(Ze=>It.next(Ze),Ze=>It.error(Ze),()=>It.complete()))})))),At=Ae.pipe(hn(Ke=>new Cr.y(It=>({unsubscribe:u.runOutsideAngular(()=>Ke.onIdTokenChanged(Ze=>It.next(Ze),Ze=>It.error(Ze),()=>It.complete()))}))));this.authState=vt.pipe(iw(We),(0,a_.R)(d.outsideAngular),(0,lg.Q)(d.insideAngular)),this.user=vt.pipe(iw(At),(0,a_.R)(d.outsideAngular),(0,lg.Q)(d.insideAngular)),this.idToken=this.user.pipe(hn(Ke=>Ke?(0,pn.D)(Ke.getIdToken()):dt(null))),this.idTokenResult=this.user.pipe(hn(Ke=>Ke?(0,pn.D)(Ke.getIdTokenResult()):dt(null))),this.credential=(0,JC.T)(vt,J,this.authState.pipe(Gi(Ke=>!Ke))).pipe((0,Tt.U)(Ke=>(null==Ke?void 0:Ke.user)?Ke:null),(0,a_.R)(d.outsideAngular),(0,lg.Q)(d.insideAngular))}return(0,mi.pX)(this,Ae,u,{spy:{apply:(Re,vt,We)=>{(Re.startsWith("signIn")||Re.startsWith("createUser"))&&We.then(At=>J.next(At))}}})}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mi.Dh),c.LFG(mi.xv,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(tt.HU),c.LFG(bg,8),c.LFG(k_,8),c.LFG(Cg,8),c.LFG(Fd,8),c.LFG(Fw,8),c.LFG(Ig,8),c.LFG(Od,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Lw=(()=>{class n{constructor(){Pd.Z.registerVersion("angularfire",tt.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[ua]}),n})();function O_(){return(0,cr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Cn.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}function CI(n,e){return n===e}N(4087);var nt,F_=N(3942),Ld="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},la={},L_=L_||{},bt=Ld||self;function Dg(){}function U_(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function mf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Cs="closure_uid_"+(1e9*Math.random()>>>0),V_=0;function Uw(n,e,t){return n.call.apply(n.bind,arguments)}function Vw(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function Lr(n,e,t){return(Lr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Uw:Vw).apply(null,arguments)}function yf(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Qr(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,s,u){for(var d=Array(arguments.length-2),m=2;m<arguments.length;m++)d[m-2]=arguments[m];return e.prototype[s].apply(r,d)}}function Uu(){this.s=this.s,this.o=this.o}var TI={};Uu.prototype.s=!1,Uu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function II(n){return Object.prototype.hasOwnProperty.call(n,Cs)&&n[Cs]||(n[Cs]=++V_)}(this);delete TI[n]}},Uu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const B_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},AI=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,s="string"==typeof n?n.split(""):n;for(let u=0;u<r;u++)u in s&&e.call(t,s[u],u,n)};function jw(n){return Array.prototype.concat.apply([],arguments)}function j_(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function $_(n){return/^[\s\xa0]*$/.test(n)}var yi,SI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Jr(n,e){return-1!=n.indexOf(e)}function H_(n,e){return n<e?-1:n>e?1:0}e:{var G_=bt.navigator;if(G_){var xI=G_.userAgent;if(xI){yi=xI;break e}}yi=""}function Is(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function MI(n){const e={};for(const t in n)e[t]=n[t];return e}var RI="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q_(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<RI.length;u++)t=RI[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Tg(n){return Tg[" "](n),n}Tg[" "]=Dg;var Ag,n,kI=Jr(yi,"Opera"),_f=Jr(yi,"Trident")||Jr(yi,"MSIE"),Z_=Jr(yi,"Edge"),vf=Z_||_f,Hw=Jr(yi,"Gecko")&&!(Jr(yi.toLowerCase(),"webkit")&&!Jr(yi,"Edge"))&&!(Jr(yi,"Trident")||Jr(yi,"MSIE"))&&!Jr(yi,"Edge"),z_=Jr(yi.toLowerCase(),"webkit")&&!Jr(yi,"Edge");function Gw(){var n=bt.document;return n?n.documentMode:void 0}e:{var W_="",K_=(n=yi,Hw?/rv:([^\);]+)(\)|;)/.exec(n):Z_?/Edge\/([\d\.]+)/.exec(n):_f?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):z_?/WebKit\/(\S+)/.exec(n):kI?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(K_&&(W_=K_?K_[1]:""),_f){var Y_=Gw();if(null!=Y_&&Y_>parseFloat(W_)){Ag=String(Y_);break e}}Ag=W_}var NI={};var wf=bt.document&&_f&&(Gw()||parseInt(Ag,10))||void 0,OI=function(){if(!bt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{bt.addEventListener("test",Dg,e),bt.removeEventListener("test",Dg,e)}catch(t){}return n}();function _i(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function ac(n,e){if(_i.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Hw){e:{try{Tg(e.nodeName);var s=!0;break e}catch(u){}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ca[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ac.Z.h.call(this)}}_i.prototype.h=function(){this.defaultPrevented=!0},Qr(ac,_i);var ca={2:"touch",3:"pen",4:"mouse"};ac.prototype.h=function(){ac.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var $a="closure_listenable_"+(1e6*Math.random()|0),vi=0;function uc(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=s,this.key=++vi,this.ca=this.fa=!1}function lc(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Ni(n){this.src=n,this.g={},this.h=0}function Ef(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=B_(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(lc(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Bu(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.ca&&u.listener==e&&u.capture==!!t&&u.ia==r)return s}return-1}Ni.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var d=Bu(n,e,r,s);return-1<d?(e=n[d],t||(e.fa=!1)):((e=new uc(e,this.src,u,!!r,s)).fa=t,n.push(e)),e};var ju="closure_lm_"+(1e6*Math.random()|0),$u={};function cc(n,e,t,r,s){if(r&&r.once)return hc(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)cc(n,e[u],t,r,s);return null}return t=Rg(t),n&&n[$a]?n.N(e,t,mf(r)?!!r.capture:!!r,s):dc(n,e,t,!1,r,s)}function dc(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var d=mf(s)?!!s.capture:!!s,m=xg(n);if(m||(n[ju]=m=new Ni(n)),(t=m.add(e,t,r,d,u)).proxy)return t;if(r=function Ud(){var e=Zw;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)OI||(s=d),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(Q_(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function hc(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)hc(n,e[u],t,r,s);return null}return t=Rg(t),n&&n[$a]?n.O(e,t,mf(r)?!!r.capture:!!r,s):dc(n,e,t,!0,r,s)}function fc(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)fc(n,e[u],t,r,s);else r=mf(r)?!!r.capture:!!r,t=Rg(t),n&&n[$a]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Bu(u=n.g[e],t,r,s))&&(lc(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=xg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Bu(e,t,r,s)),(t=-1<n?e[n]:null)&&Hu(t))}function Hu(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[$a])Ef(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Q_(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=xg(e))?(Ef(t,n),0==t.h&&(t.src=null,e[ju]=null)):lc(n)}}}function Q_(n){return n in $u?$u[n]:$u[n]="on"+n}function Zw(n,e){if(n.ca)n=!0;else{e=new ac(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&Hu(n),n=t.call(r,e)}return n}function xg(n){return(n=n[ju])instanceof Ni?n:null}var Mg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Rg(n){return"function"==typeof n?n:(n[Mg]||(n[Mg]=function(e){return n.handleEvent(e)}),n[Mg])}function Sr(){Uu.call(this),this.i=new Ni(this),this.P=this,this.I=null}function Ur(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new _i(e,n);else if(e instanceof _i)e.target=e.target||n;else{var s=e;q_(e=new _i(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var d=e.g=t[u];s=bf(d,r,!0,e)&&s}if(s=bf(d=e.g=n,r,!0,e)&&s,s=bf(d,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=bf(d=e.g=t[u],r,!1,e)&&s}function bf(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var d=e[u];if(d&&!d.ca&&d.capture==t){var m=d.listener,w=d.ia||d.src;d.fa&&Ef(n.i,d),s=!1!==m.call(w,r)&&s}}return s&&!r.defaultPrevented}Qr(Sr,Uu),Sr.prototype[$a]=!0,Sr.prototype.removeEventListener=function(n,e,t,r){fc(this,n,e,t,r)},Sr.prototype.M=function(){if(Sr.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)lc(t[r]);delete n.g[e],n.h--}}this.I=null},Sr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Sr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var kg=bt.JSON.stringify;function PI(){var n=tv;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var X_,Ww=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Kw,n=>n.reset());class Kw{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Yw(n){bt.setTimeout(()=>{throw n},0)}function J_(n,e){X_||function Qw(){var n=bt.Promise.resolve(void 0);X_=function(){n.then(FI)}}(),ev||(X_(),ev=!0),tv.add(n,e)}var ev=!1,tv=new class zw{constructor(){this.h=this.g=null}add(e,t){const r=Ww.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function FI(){for(var n;n=PI();){try{n.h.call(n.g)}catch(t){Yw(t)}var e=Ww;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}ev=!1}function Ng(n,e){Sr.call(this),this.h=n||1,this.g=e||bt,this.j=Lr(this.kb,this),this.l=Date.now()}function Jw(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function nv(n,e,t){if("function"==typeof n)t&&(n=Lr(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Lr(n.handleEvent,n)}return 2147483647<Number(e)?-1:bt.setTimeout(n,e||0)}function Og(n){n.g=nv(()=>{n.g=null,n.i&&(n.i=!1,Og(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Qr(Ng,Sr),(nt=Ng.prototype).da=!1,nt.S=null,nt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ur(this,"tick"),this.da&&(Jw(this),this.start()))}},nt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},nt.M=function(){Ng.Z.M.call(this),Jw(this),delete this.g};class rv extends Uu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Og(this)}M(){super.M(),this.g&&(bt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cf(n){Uu.call(this),this.h=n,this.g={}}Qr(Cf,Uu);var LI=[];function UI(n,e,t,r){Array.isArray(t)||(t&&(LI[0]=t.toString()),t=LI);for(var s=0;s<t.length;s++){var u=cc(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function VI(n){Is(n.g,function(e,t){this.g.hasOwnProperty(t)&&Hu(e)},n),n.g={}}function Pg(){this.g=!0}function Vd(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function BI(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var d=1;d<s.length;d++)s[d]=""}}}return kg(t)}catch(m){return e}}(n,t)+(r?" "+r:"")})}Cf.prototype.M=function(){Cf.Z.M.call(this),VI(this)},Cf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pg.prototype.Aa=function(){this.g=!1},Pg.prototype.info=function(){};var Gu={},eE=null;function If(){return eE=eE||new Sr}function Df(n){_i.call(this,Gu.Ma,n)}function Tf(n){const e=If();Ur(e,new Df(e,n))}function iv(n,e){_i.call(this,Gu.STAT_EVENT,n),this.stat=e}function Oi(n){const e=If();Ur(e,new iv(e,n))}function tE(n,e){_i.call(this,Gu.Na,n),this.size=e}function Af(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return bt.setTimeout(function(){n()},e)}Gu.Ma="serverreachability",Qr(Df,_i),Gu.STAT_EVENT="statevent",Qr(iv,_i),Gu.Na="timingevent",Qr(tE,_i);var Fg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},nE={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Lg(){}function sv(){}Lg.prototype.h=null;var xf,jd={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Sf(){_i.call(this,"d")}function iE(){_i.call(this,"c")}function Ug(){}function Vg(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Cf(this),this.P=sE,this.W=new Ng(n=vf?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $d}function $d(){this.i=null,this.g="",this.h=!1}Qr(Sf,_i),Qr(iE,_i),Qr(Ug,Lg),Ug.prototype.g=function(){return new XMLHttpRequest},Ug.prototype.i=function(){return{}},xf=new Ug;var sE=45e3,Mf={},Hd={};function ov(n,e,t){n.K=1,n.v=Uf(da(e)),n.s=t,n.U=!0,Rf(n,null)}function Rf(n,e){n.F=Date.now(),Nf(n),n.A=da(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),hE(t.h,"t",r),n.C=0,t=n.l.H,n.h=new $d,n.g=ME(n.l,t?e:null,!n.s),0<n.O&&(n.L=new rv(Lr(n.Ia,n,n.g),n.O)),UI(n.V,n.g,"readystatechange",n.gb),e=n.H?MI(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Tf(1),function Xw(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var d="",m=u.split("&"),w=0;w<m.length;w++){var I=m[w].split("=");if(1<I.length){var T=I[0];I=I[1];var M=T.split("_");d=2<=M.length&&"type"==M[1]?d+(T+"=")+I+"&":d+(T+"=redacted&")}}else d=null;else d=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+d})}(n.j,n.u,n.A,n.m,n.X,n.s)}function kf(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function Bg(n,e,t){let s,r=!0;for(;!n.I&&n.C<t.length;){if(s=vS(n,t),s==Hd){4==e&&(n.o=4,Oi(14),r=!1),Vd(n.j,n.m,null,"[Incomplete Response]");break}if(s==Mf){n.o=4,Oi(15),Vd(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Vd(n.j,n.m,s,null),Pf(n,s)}kf(n)&&s!=Hd&&s!=Mf&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Oi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),bv(e),e.L=!0,Oi(11))):(Vd(n.j,n.m,t,"[Invalid Chunked Response]"),qu(n),Gd(n))}function vS(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Hd:(t=Number(e.substring(t,r)),isNaN(t)?Mf:(r+=1)+t>e.length?Hd:(e=e.substr(r,t),n.C=r+t,e))}function Nf(n){n.Y=Date.now()+n.P,Of(n,n.P)}function Of(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Af(Lr(n.eb,n),e)}function pc(n){n.B&&(bt.clearTimeout(n.B),n.B=null)}function Gd(n){0==n.l.G||n.I||TE(n.l,n)}function qu(n){pc(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Jw(n.W),VI(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Pf(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||hv(t.i,n)))if(t.I=n.N,!n.J&&hv(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(I){r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0])e:if(t.u)t.ta=s[1],0<t.ta-t.U&&37500>s[2]&&t.N&&0==t.A&&!t.v&&(t.v=Af(Lr(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Kg(t),Gf(t)}Ev(t),Oi(18)}if(1>=gE(t.i)&&t.ka){try{t.ka()}catch(I){}t.ka=void 0}}else yc(t,11)}else if((n.J||t.g==n)&&Kg(t),!$_(e))for(s=t.Ca.g.parse(e),e=0;e<s.length;e++){let I=s[e];if(t.U=I[0],I=I[1],2==t.G)if("c"==I[0]){t.J=I[1],t.la=I[2];const T=I[3];null!=T&&(t.ma=T,t.h.info("VER="+t.ma));const M=I[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const U=I[5];null!=U&&"number"==typeof U&&0<U&&(t.K=r=1.5*U,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const j=n.g;if(j){const J=j.g?j.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(J){var u=r.i;!u.g&&(Jr(J,"spdy")||Jr(J,"quic")||Jr(J,"h2"))&&(u.j=u.l,u.g=new Set,u.h&&(Gg(u,u.h),u.h=null))}if(r.D){const Ae=j.g?j.g.getResponseHeader("X-HTTP-Session-Id"):null;Ae&&(r.sa=Ae,vn(r.F,r.D,Ae))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var d=n;if((r=t).oa=xE(r,r.H?r.la:null,r.W),d.J){mE(r.i,d);var m=d,w=r.K;w&&m.setTimeout(w),m.B&&(pc(m),Nf(m)),r.g=d}else IE(r);0<t.l.length&&qf(t)}else"stop"!=I[0]&&"close"!=I[0]||yc(t,7);else 3==t.G&&("stop"==I[0]||"close"==I[0]?"stop"==I[0]?yc(t,7):zg(t):"noop"!=I[0]&&t.j&&t.j.wa(I),t.A=0)}Tf(4)}catch(I){}}function jg(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(U_(n)||"string"==typeof n)AI(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(U_(n)||"string"==typeof n){t=[];for(var r=n.length,s=0;s<r;s++)t.push(s)}else for(s in t=[],r=0,n)t[r++]=s;r=function oE(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(U_(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length;for(var u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}}function Zu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Zu)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function $g(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];gc(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var s={};for(t=e=0;e<n.g.length;)gc(s,r=n.g[e])||(n.g[t++]=r,s[r]=1),e++;n.g.length=t}}function gc(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(nt=Vg.prototype).setTimeout=function(n){this.P=n},nt.gb=function(n){n=n.target;const e=this.L;e&&3==Ga(n)?e.l():this.Ia(n)},nt.Ia=function(n){try{if(n==this.g)e:{const T=Ga(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>T)&&(3!=T||vf||this.g&&(this.h.h||this.g.ga()||_v(this.g)))){this.I||4!=T||7==e||Tf(8==e||0>=M?3:2),pc(this);var t=this.g.ba();this.N=t;t:if(kf(this)){var r=_v(this.g);n="";var s=r.length,u=4==Ga(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){qu(this),Gd(this);var d="";break t}this.h.i=new bt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,d=this.h.g}else d=this.g.ga();if(this.i=200==t,function _S(n,e,t,r,s,u,d){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+d})}(this.j,this.u,this.A,this.m,this.X,T,t),this.i){if(this.$&&!this.J){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$_(m)){var I=m;break t}}I=null}if(!(t=I)){this.i=!1,this.o=3,Oi(12),qu(this),Gd(this);break e}Vd(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pf(this,t)}this.U?(Bg(this,T,d),vf&&this.i&&3==T&&(UI(this.V,this.W,"tick",this.fb),this.W.start())):(Vd(this.j,this.m,d,null),Pf(this,d)),4==T&&qu(this),this.i&&!this.I&&(4==T?TE(this.l,this):(this.i=!1,Nf(this)))}else 400==t&&0<d.indexOf("Unknown SID")?(this.o=3,Oi(12)):(this.o=0,Oi(13)),qu(this),Gd(this)}}}catch(T){}},nt.fb=function(){if(this.g){var n=Ga(this.g),e=this.g.ga();this.C<e.length&&(pc(this),Bg(this,n,e),this.i&&4!=n&&Nf(this))}},nt.cancel=function(){this.I=!0,qu(this)},nt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Bd(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Tf(3),Oi(17)),qu(this),this.o=2,Gd(this)):Of(this,this.Y-n)},(nt=Zu.prototype).R=function(){$g(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},nt.T=function(){return $g(this),this.g.concat()},nt.get=function(n,e){return gc(this.h,n)?this.h[n]:e},nt.set=function(n,e){gc(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},nt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var s=t[r],u=this.get(s);n.call(e,u,s,this)}};var av=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ha(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ha){this.g=void 0!==e?e:n.g,Hg(this,n.j),this.s=n.s,Ff(this,n.i),Lf(this,n.m),this.l=n.l,e=n.h;var t=new zd;t.i=e.i,e.g&&(t.g=new Zu(e.g),t.h=e.h),uv(this,t),this.o=n.o}else n&&(t=String(n).match(av))?(this.g=!!e,Hg(this,t[1]||"",!0),this.s=qd(t[2]||""),Ff(this,t[3]||"",!0),Lf(this,t[4]),this.l=qd(t[5]||"",!0),uv(this,t[6]||"",!0),this.o=qd(t[7]||"")):(this.g=!!e,this.h=new zd(null,this.g))}function da(n){return new Ha(n)}function Hg(n,e,t){n.j=t?qd(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ff(n,e,t){n.i=t?qd(e,!0):e}function Lf(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function uv(n,e,t){e instanceof zd?(n.h=e,function fE(n,e){e&&!n.j&&(zu(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(hr(this,r),hE(this,s,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Zd(e,jI)),n.h=new zd(e,n.g))}function vn(n,e,t){n.h.set(e,t)}function Uf(n){return vn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function qd(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Zd(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,cE),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function cE(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ha.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Zd(e,lv,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Zd(e,lv,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Zd(t,"/"==t.charAt(0)?wS:dE,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Zd(t,$I)),n.join("")};var lv=/[#\/\?@]/g,dE=/[#\?:]/g,wS=/[#\?]/g,jI=/[#\?@]/g,$I=/#/g;function zd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function zu(n){n.g||(n.g=new Zu,n.h=0,n.i&&function aE(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function hr(n,e){zu(n),e=Wd(n,e),gc(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,gc((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&$g(n)))}function cv(n,e){return zu(n),e=Wd(n,e),gc(n.g.h,e)}function hE(n,e,t){hr(n,e),0<t.length&&(n.i=null,n.g.set(Wd(n,e),j_(t)),n.h+=t.length)}function Wd(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function dv(n){this.l=n||pE,n=bt.PerformanceNavigationTiming?0<(n=bt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(bt.g&&bt.g.Ea&&bt.g.Ea()&&bt.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(nt=zd.prototype).add=function(n,e){zu(this),this.i=null,n=Wd(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},nt.forEach=function(n,e){zu(this),this.g.forEach(function(t,r){AI(t,function(s){n.call(e,s,r,this)},this)},this)},nt.T=function(){zu(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var s=n[r],u=0;u<s.length;u++)t.push(e[r]);return t},nt.R=function(n){zu(this);var e=[];if("string"==typeof n)cv(this,n)&&(e=jw(e,this.g.get(Wd(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=jw(e,n[t])}return e},nt.set=function(n,e){return zu(this),this.i=null,cv(this,n=Wd(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},nt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},nt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],s=encodeURIComponent(String(r));r=this.R(r);for(var u=0;u<r.length;u++){var d=s;""!==r[u]&&(d+="="+encodeURIComponent(String(r[u]))),n.push(d)}}return this.i=n.join("&")};var pE=10;function mc(n){return!!n.h||!!n.g&&n.g.size>=n.j}function gE(n){return n.h?1:n.g?n.g.size:0}function hv(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Gg(n,e){n.g?n.g.add(e):n.h=e}function mE(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function fv(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return j_(n.i)}function yE(){}function _E(){this.g=new yE}function pv(n,e,t){const r=t||"";try{jg(n,function(s,u){let d=s;mf(s)&&(d=kg(s)),e.push(r+u+"="+encodeURIComponent(d))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function qg(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch(u){}}function Vf(n){this.l=n.$b||null,this.j=n.ib||!1}function Ds(n,e){Sr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Ts,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dv.prototype.cancel=function(){if(this.i=fv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},yE.prototype.stringify=function(n){return bt.JSON.stringify(n,void 0)},yE.prototype.parse=function(n){return bt.JSON.parse(n,void 0)},Qr(Vf,Lg),Vf.prototype.g=function(){return new Ds(this.l,this.j)},Vf.prototype.i=function(n){return function(){return n}}({}),Qr(Ds,Sr);var Ts=0;function oo(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Kd(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Yd(n)}function Yd(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(nt=Ds.prototype).open=function(n,e){if(this.readyState!=Ts)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Yd(this)},nt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||bt).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},nt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kd(this)),this.readyState=Ts},nt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Yd(this)),this.g&&(this.readyState=3,Yd(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==bt.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;oo(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},nt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Kd(this):Yd(this),3==this.readyState&&oo(this)}},nt.Ua=function(n){this.g&&(this.response=this.responseText=n,Kd(this))},nt.Ta=function(n){this.g&&(this.response=n,Kd(this))},nt.ha=function(){this.g&&Kd(this)},nt.setRequestHeader=function(n,e){this.v.append(n,e)},nt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},nt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Ds.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var GI=bt.JSON.parse;function fr(n){Sr.call(this),this.headers=new Zu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=vE,this.K=this.L=!1}Qr(fr,Sr);var vE="",qI=/^https?$/i,gv=["POST","PUT"];function ZI(n){return"content-type"==n.toLowerCase()}function mv(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,wE(n),jf(n)}function wE(n){n.D||(n.D=!0,Ur(n,"complete"),Ur(n,"error"))}function yv(n){if(n.h&&void 0!==L_&&(!n.C[1]||4!=Ga(n)||2!=n.ba()))if(n.v&&4==Ga(n))nv(n.Fa,0,n);else if(Ur(n,"readystatechange"),4==Ga(n)){n.h=!1;try{const m=n.ba();e:switch(m){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===m){var s=String(n.H).match(av)[1]||null;if(!s&&bt.self&&bt.self.location){var u=bt.self.location.protocol;s=u.substr(0,u.length-1)}r=!qI.test(s?s.toLowerCase():"")}t=r}if(t)Ur(n,"complete"),Ur(n,"success");else{n.m=6;try{var d=2<Ga(n)?n.g.statusText:""}catch(w){d=""}n.j=d+" ["+n.ba()+"]",wE(n)}}finally{jf(n)}}}function jf(n,e){if(n.g){$f(n);const t=n.g,r=n.C[0]?Dg:null;n.g=null,n.C=null,e||Ur(n,"ready");try{t.onreadystatechange=r}catch(s){}}}function $f(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(bt.clearTimeout(n.A),n.A=null)}function Ga(n){return n.g?n.g.readyState:0}function _v(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case vE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function Hf(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function EE(n){let e="";return Is(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):vn(n,e,t))}function Wu(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Zg(n){this.za=0,this.l=[],this.h=new Pg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wu("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wu("baseRetryDelayMs",5e3,n),this.$a=Wu("retryDelaySeedMs",1e4,n),this.Ya=Wu("forwardChannelMaxRetries",2,n),this.ra=Wu("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new dv(n&&n.concurrentRequestLimit),this.Ca=new _E,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function zg(n){if(vv(n),3==n.G){var e=n.V++,t=da(n.F);vn(t,"SID",n.J),vn(t,"RID",e),vn(t,"TYPE","terminate"),Zf(n,t),(e=new Vg(n,n.h,e,void 0)).K=2,e.v=Uf(da(t)),t=!1,bt.navigator&&bt.navigator.sendBeacon&&(t=bt.navigator.sendBeacon(e.v.toString(),"")),!t&&bt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ME(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Nf(e)}SE(n)}function Gf(n){n.g&&(bv(n),n.g.cancel(),n.g=null)}function vv(n){Gf(n),n.u&&(bt.clearTimeout(n.u),n.u=null),Kg(n),n.i.cancel(),n.m&&("number"==typeof n.m&&bt.clearTimeout(n.m),n.m=null)}function Wg(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&qf(n)}function qf(n){mc(n.i)||n.m||(n.m=!0,J_(n.Ha,n),n.C=0)}function wv(n,e){var t;t=e?e.m:n.V++;const r=da(n.F);vn(r,"SID",n.J),vn(r,"RID",t),vn(r,"AID",n.U),Zf(n,r),n.o&&n.s&&Hf(r,n.o,n.s),t=new Vg(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=CE(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Gg(n.i,t),ov(t,r,e)}function Zf(n,e){n.j&&jg({},function(t,r){vn(e,r,t)})}function CE(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Lr(n.j.Oa,n.j,n):null;e:{var s=n.l;let u=-1;for(;;){const d=["count="+t];-1==u?0<t?(u=s[0].h,d.push("ofs="+u)):u=0:d.push("ofs="+u);let m=!0;for(let w=0;w<t;w++){let I=s[w].h;const T=s[w].g;if(I-=u,0>I)u=Math.max(0,s[w].h-100),m=!1;else try{pv(T,d,"req"+I+"_")}catch(M){r&&r(T)}}if(m){r=d.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function IE(n){n.g||n.u||(n.Y=1,J_(n.Ga,n),n.A=0)}function Ev(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Af(Lr(n.Ga,n),AE(n,n.A)),n.A++,0))}function bv(n){null!=n.B&&(bt.clearTimeout(n.B),n.B=null)}function DE(n){n.g=new Vg(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=da(n.oa);vn(e,"RID","rpc"),vn(e,"SID",n.J),vn(e,"CI",n.N?"0":"1"),vn(e,"AID",n.U),Zf(n,e),vn(e,"TYPE","xmlhttp"),n.o&&n.s&&Hf(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Uf(da(e)),t.s=null,t.U=!0,Rf(t,n)}function Kg(n){null!=n.v&&(bt.clearTimeout(n.v),n.v=null)}function TE(n,e){var t=null;if(n.g==e){Kg(n),bv(n),n.g=null;var r=2}else{if(!hv(n.i,e))return;t=e.D,mE(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=n.C;Ur(r=If(),new tE(r,t,e,s)),qf(n)}else IE(n);else if(3==(s=e.o)||0==s&&0<n.I||!(1==r&&function bE(n,e){return!(gE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Af(Lr(n.Ha,n,e),AE(n,n.C)),n.C++,0)))}(n,e)||2==r&&Ev(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:yc(n,5);break;case 4:yc(n,10);break;case 3:yc(n,6);break;default:yc(n,2)}}function AE(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function yc(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Lr(n.jb,n);t||(t=new Ha("//www.google.com/images/cleardot.gif"),bt.location&&"http"==bt.location.protocol||Hg(t,"https"),Uf(t)),function ha(n,e){const t=new Pg;if(bt.Image){const r=new Image;r.onload=yf(qg,t,r,"TestLoadImage: loaded",!0,e),r.onerror=yf(qg,t,r,"TestLoadImage: error",!1,e),r.onabort=yf(qg,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=yf(qg,t,r,"TestLoadImage: timeout",!1,e),bt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Oi(2);n.G=0,n.j&&n.j.va(e),SE(n),vv(n)}function SE(n){n.G=0,n.I=-1,n.j&&((0!=fv(n.i).length||0!=n.l.length)&&(n.i.i.length=0,j_(n.l),n.l.length=0),n.j.ua())}function xE(n,e,t){let r=function uE(n){return n instanceof Ha?da(n):new Ha(n,void 0)}(t);if(""!=r.i)e&&Ff(r,e+"."+r.i),Lf(r,r.m);else{const s=bt.location;r=function lE(n,e,t,r){var s=new Ha(null,void 0);return n&&Hg(s,n),e&&Ff(s,e),t&&Lf(s,t),r&&(s.l=r),s}(s.protocol,e?e+"."+s.hostname:s.hostname,+s.port,t)}return n.aa&&Is(n.aa,function(s,u){vn(r,u,s)}),t=n.sa,(e=n.D)&&t&&vn(r,e,t),vn(r,"VER",n.ma),Zf(n,r),r}function ME(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new fr(t&&n.Ba&&!n.qa?new Vf({ib:!0}):n.qa)).L=n.H,e}function RE(){}function Yg(){if(_f&&!(10<=Number(wf)))throw Error("Environmental error: no available transport.")}function As(n,e){Sr.call(this),this.g=new Zg(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!$_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new _c(this)}function kE(n){Sf.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function NE(){iE.call(this),this.status=1}function _c(n){this.g=n}(nt=fr.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xf.g(),this.C=function rE(n){return n.h||(n.h=n.i())}(this.u?this.u:xf),this.g.onreadystatechange=Lr(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void mv(this,u)}n=t||"";const s=new Zu(this.headers);r&&jg(r,function(u,d){s.set(d,u)}),r=function Bw(n){e:{var e=ZI;const t=n.length,r="string"==typeof n?n.split(""):n;for(let s=0;s<t;s++)if(s in r&&e.call(void 0,r[s],s,n)){e=s;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(s.T()),t=bt.FormData&&n instanceof bt.FormData,!(0<=B_(gv,e))||r||t||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),s.forEach(function(u,d){this.g.setRequestHeader(d,u)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{$f(this),0<this.B&&((this.K=function Bf(n){return _f&&function Sg(){return function $w(n){var e=NI;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=SI(String(Ag)).split("."),t=SI("9").split("."),r=Math.max(e.length,t.length);for(let d=0;0==n&&d<r;d++){var s=e[d]||"",u=t[d]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;n=H_(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||H_(0==s[2].length,0==u[2].length)||H_(s[2],u[2]),s=s[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Lr(this.pa,this)):this.A=nv(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){mv(this,u)}},nt.pa=function(){void 0!==L_&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ur(this,"timeout"),this.abort(8))},nt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Ur(this,"complete"),Ur(this,"abort"),jf(this))},nt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jf(this,!0)),fr.Z.M.call(this)},nt.Fa=function(){this.s||(this.F||this.v||this.l?yv(this):this.cb())},nt.cb=function(){yv(this)},nt.ba=function(){try{return 2<Ga(this)?this.g.status:-1}catch(n){return-1}},nt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},nt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),GI(e)}},nt.Da=function(){return this.m},nt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(nt=Zg.prototype).ma=8,nt.G=1,nt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},nt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const s=new Vg(this,this.h,n,void 0);let u=this.s;if(this.P&&(u?(u=MI(u),q_(u,this.P)):u=this.P),null===this.o&&(s.H=u),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=CE(this,s,e),vn(t=da(this.F),"RID",n),vn(t,"CVER",22),this.D&&vn(t,"X-HTTP-Session-Id",this.D),Zf(this,t),this.o&&u&&Hf(t,this.o,u),Gg(this.i,s),this.Ra&&vn(t,"TYPE","init"),this.ja?(vn(t,"$req",e),vn(t,"SID","null"),s.$=!0,ov(s,t,null)):ov(s,t,e),this.G=2}}else 3==this.G&&(n?wv(this,n):0==this.l.length||mc(this.i)||wv(this))},nt.Ga=function(){if(this.u=null,DE(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Af(Lr(this.bb,this),n)}},nt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Oi(10),Gf(this),DE(this))},nt.ab=function(){null!=this.v&&(this.v=null,Gf(this),Ev(this),Oi(19))},nt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Oi(2)):(this.h.info("Failed to ping google.com"),Oi(1))},(nt=RE.prototype).xa=function(){},nt.wa=function(){},nt.va=function(){},nt.ua=function(){},nt.Oa=function(){},Yg.prototype.g=function(n,e){return new As(n,e)},Qr(As,Sr),As.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),J_(Lr(n.hb,n,e))),Oi(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=xE(n,null,n.W),qf(n)},As.prototype.close=function(){zg(this.g)},As.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Wg(this.g,e)}else this.v?((e={}).__data__=kg(n),Wg(this.g,e)):Wg(this.g,n)},As.prototype.M=function(){this.g.j=null,delete this.j,zg(this.g),delete this.g,As.Z.M.call(this)},Qr(kE,Sf),Qr(NE,iE),Qr(_c,RE),_c.prototype.xa=function(){Ur(this.g,"a")},_c.prototype.wa=function(n){Ur(this.g,new kE(n))},_c.prototype.va=function(n){Ur(this.g,new NE(n))},_c.prototype.ua=function(){Ur(this.g,"b")},Yg.prototype.createWebChannel=Yg.prototype.g,As.prototype.send=As.prototype.u,As.prototype.open=As.prototype.m,As.prototype.close=As.prototype.close,Fg.NO_ERROR=0,Fg.TIMEOUT=8,Fg.HTTP_ERROR=6,nE.COMPLETE="complete",sv.EventType=jd,jd.OPEN="a",jd.CLOSE="b",jd.ERROR="c",jd.MESSAGE="d",Sr.prototype.listen=Sr.prototype.N,fr.prototype.listenOnce=fr.prototype.O,fr.prototype.getLastError=fr.prototype.La,fr.prototype.getLastErrorCode=fr.prototype.Da,fr.prototype.getStatus=fr.prototype.ba,fr.prototype.getResponseJson=fr.prototype.Qa,fr.prototype.getResponseText=fr.prototype.ga,fr.prototype.send=fr.prototype.ea;var OE=la.createWebChannelTransport=function(){return new Yg},PE=la.getStatEventTarget=function(){return If()},Qg=la.ErrorCode=Fg,FE=la.EventType=nE,LE=la.Event=Gu,Cv=la.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},UE=la.FetchXmlHttpFactory=Vf,zf=la.WebChannel=sv,VE=la.XhrIo=fr;const Iv="@firebase/firestore";class Bn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bn.UNAUTHENTICATED=new Bn(null),Bn.GOOGLE_CREDENTIALS=new Bn("google-credentials-uid"),Bn.FIRST_PARTY=new Bn("first-party-uid"),Bn.MOCK_USER=new Bn("mock-user");let Qd="9.6.10";const Ku=new Ou.Yd("@firebase/firestore");function Yu(){return Ku.logLevel}function Fe(n,...e){if(Ku.logLevel<=Ou.in.DEBUG){const t=e.map(Jg);Ku.debug(`Firestore (${Qd}): ${n}`,...t)}}function xr(n,...e){if(Ku.logLevel<=Ou.in.ERROR){const t=e.map(Jg);Ku.error(`Firestore (${Qd}): ${n}`,...t)}}function Jd(n,...e){if(Ku.logLevel<=Ou.in.WARN){const t=e.map(Jg);Ku.warn(`Firestore (${Qd}): ${n}`,...t)}}function Jg(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function it(n="Unexpected state"){const e=`FIRESTORE (${Qd}) INTERNAL ASSERTION FAILED: `+n;throw xr(e),new Error(e)}function Ne(n,e){n||it()}function qe(n,e){return n}const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class De extends xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Wf{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Xg{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Bn.UNAUTHENTICATED))}shutdown(){}}class zn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bS{constructor(e){this.t=e,this.currentUser=Bn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=I=>this.i!==s?(s=this.i,t(I)):Promise.resolve();let d=new Vr;this.o=()=>{this.i++,this.currentUser=this.u(),d.resolve(),d=new Vr,e.enqueueRetryable(()=>u(this.currentUser))};const m=()=>{const I=d;e.enqueueRetryable((0,he.Z)(function*(){yield I.promise,yield u(r.currentUser)}))},w=I=>{Fe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=I,this.auth.addAuthTokenListener(this.o),m()};this.t.onInit(I=>w(I)),setTimeout(()=>{if(!this.auth){const I=this.t.getImmediate({optional:!0});I?w(I):(Fe("FirebaseAuthCredentialsProvider","Auth not yet detected"),d.resolve(),d=new Vr)}},0),m()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Fe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne("string"==typeof r.accessToken),new Wf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ne(null===e||"string"==typeof e),new Bn(e)}}class BE{constructor(e,t,r){this.type="FirstParty",this.user=Bn.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const s=e.auth.getAuthHeaderValueForFirstParty([]);s&&this.headers.set("Authorization",s),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class WI{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new BE(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Bn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $E{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=u=>{null!=u.error&&Fe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.p;return this.p=u.token,Fe("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{Fe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.g.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.g.getImmediate({optional:!0});u?s(u):Fe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ne("string"==typeof t.token),this.p=t.token,new jE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Ji{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function HE(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Ji.A=-1;class GE{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=HE(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function Gt(n,e){return n<e?-1:n>e?1:0}function Xd(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}function eh(n){return n+"\0"}class tr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new De(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new De(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new De(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new De(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return tr.fromMillis(Date.now())}static fromDate(e){return tr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new tr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gt(this.nanoseconds,e.nanoseconds):Gt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ct{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ct(e)}static min(){return new Ct(new tr(0,0))}static max(){return new Ct(new tr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function qE(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fa(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Dv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class th{constructor(e,t,r){void 0===t?t=0:t>e.length&&it(),void 0===r?r=e.length-t:r>e.length-t&&it(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===th.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof th?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),d=t.get(s);if(u<d)return-1;if(u>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class zt extends th{construct(e,t,r){return new zt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new De(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new zt(t)}static emptyPath(){return new zt([])}}const YI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Wn extends th{construct(e,t,r){return new Wn(e,t,r)}static isValidIdentifier(e){return YI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Wn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Wn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new De(le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let d=!1;for(;s<e.length;){const m=e[s];if("\\"===m){if(s+1===e.length)throw new De(le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[s+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new De(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,s+=2}else"`"===m?(d=!d,s++):"."!==m||d?(r+=m,s++):(u(),s++)}if(u(),d)throw new De(le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Wn(t)}static emptyPath(){return new Wn([])}}class pa{constructor(e){this.fields=e,e.sort(Wn.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Xd(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Mr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Mr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new Mr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Mr.EMPTY_BYTE_STRING=new Mr("");const JI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qa(n){if(Ne(!!n),"string"==typeof n){let e=0;const t=JI.exec(n);if(Ne(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:jn(n.seconds),nanos:jn(n.nanos)}}function jn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Qu(n){return"string"==typeof n?Mr.fromBase64String(n):Mr.fromUint8Array(n)}function Tv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Av(n){const e=n.mapValue.fields.__previous_value__;return Tv(e)?Av(e):e}function Kf(n){const e=qa(n.mapValue.fields.__local_write_time__.timestampValue);return new tr(e.seconds,e.nanos)}class XI{constructor(e,t,r,s,u,d,m,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.useFetchStreams=w}}class Ju{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ju("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ju&&e.projectId===this.projectId&&e.database===this.database}}function nh(n){return null==n}function em(n){return 0===n&&1/n==-1/0}function eD(n){return"number"==typeof n&&Number.isInteger(n)&&!em(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Be{constructor(e){this.path=e}static fromPath(e){return new Be(zt.fromString(e))}static fromName(e){return new Be(zt.fromString(e).popFirst(5))}static empty(){return new Be(zt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===zt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return zt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Be(new zt(e.slice()))}}const Yf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ZE={nullValue:"NULL_VALUE"};function vc(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Tv(n)?4:KE(n)?9:10:it()}function Lo(n,e){if(n===e)return!0;const t=vc(n);if(t!==vc(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Kf(n).isEqual(Kf(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=qa(r.timestampValue),d=qa(s.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Qu(n.bytesValue).isEqual(Qu(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return jn(r.geoPointValue.latitude)===jn(s.geoPointValue.latitude)&&jn(r.geoPointValue.longitude)===jn(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return jn(r.integerValue)===jn(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=jn(r.doubleValue),d=jn(s.doubleValue);return u===d?em(u)===em(d):isNaN(u)&&isNaN(d)}return!1}(n,e);case 9:return Xd(n.arrayValue.values||[],e.arrayValue.values||[],Lo);case 10:return function(r,s){const u=r.mapValue.fields||{},d=s.mapValue.fields||{};if(qE(u)!==qE(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===d[m]||!Lo(u[m],d[m])))return!1;return!0}(n,e);default:return it()}var s}function Za(n,e){return void 0!==(n.values||[]).find(t=>Lo(t,e))}function Xu(n,e){if(n===e)return 0;const t=vc(n),r=vc(e);if(t!==r)return Gt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,e.booleanValue);case 2:return function(s,u){const d=jn(s.integerValue||s.doubleValue),m=jn(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1}(n,e);case 3:return zE(n.timestampValue,e.timestampValue);case 4:return zE(Kf(n),Kf(e));case 5:return Gt(n.stringValue,e.stringValue);case 6:return function(s,u){const d=Qu(s),m=Qu(u);return d.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const d=s.split("/"),m=u.split("/");for(let w=0;w<d.length&&w<m.length;w++){const I=Gt(d[w],m[w]);if(0!==I)return I}return Gt(d.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const d=Gt(jn(s.latitude),jn(u.latitude));return 0!==d?d:Gt(jn(s.longitude),jn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const d=s.values||[],m=u.values||[];for(let w=0;w<d.length&&w<m.length;++w){const I=Xu(d[w],m[w]);if(I)return I}return Gt(d.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){const d=s.fields||{},m=Object.keys(d),w=u.fields||{},I=Object.keys(w);m.sort(),I.sort();for(let T=0;T<m.length&&T<I.length;++T){const M=Gt(m[T],I[T]);if(0!==M)return M;const U=Xu(d[m[T]],w[I[T]]);if(0!==U)return U}return Gt(m.length,I.length)}(n.mapValue,e.mapValue);default:throw it()}}function zE(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Gt(n,e);const t=qa(n),r=qa(e),s=Gt(t.seconds,r.seconds);return 0!==s?s:Gt(t.nanos,r.nanos)}function rh(n){return Sv(n)}function Sv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=qa(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Qu(n.bytesValue).toBase64():"referenceValue"in n?Be.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const d of r.values||[])u?u=!1:s+=",",s+=Sv(d);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",d=!0;for(const m of s)d?d=!1:u+=",",u+=`${m}:${Sv(r.fields[m])}`;return u+"}"}(n.mapValue):it();var e}function ih(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function tm(n){return!!n&&"integerValue"in n}function Qf(n){return!!n&&"arrayValue"in n}function WE(n){return!!n&&"nullValue"in n}function wc(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function nm(n){return!!n&&"mapValue"in n}function sh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return fa(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=sh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=sh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function KE(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function xv(n,e){return void 0===n?e:void 0===e||Xu(n,e)>0?n:e}function YE(n,e){return void 0===n?e:void 0===e||Xu(n,e)<0?n:e}class Xr{constructor(e){this.value=e}static empty(){return new Xr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!nm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=sh(t)}setAll(e){let t=Wn.emptyPath(),r={},s=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,s),r={},s=[],t=m.popLast()}d?r[m.lastSegment()]=sh(d):s.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());nm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Lo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];nm(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){fa(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new Xr(sh(this.value))}}function QE(n){const e=[];return fa(n.fields,(t,r)=>{const s=new Wn([t]);if(nm(r)){const u=QE(r.mapValue).fields;if(0===u.length)e.push(s);else for(const d of u)e.push(s.child(d))}else e.push(s)}),new pa(e)}class mn{constructor(e,t,r,s,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.data=u,this.documentState=d}static newInvalidDocument(e){return new mn(e,0,Ct.min(),Ct.min(),Xr.empty(),0)}static newFoundDocument(e,t,r){return new mn(e,1,t,Ct.min(),r,0)}static newNoDocument(e,t){return new mn(e,2,t,Ct.min(),Xr.empty(),0)}static newUnknownDocument(e,t){return new mn(e,3,t,Ct.min(),Xr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Xr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Xr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof mn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new mn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rm{constructor(e,t,r,s){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=s}}function im(n){return n.fields.find(e=>2===e.kind)}function Ec(n){return n.fields.filter(e=>2!==e.kind)}rm.UNKNOWN_ID=-1;class sm{constructor(e,t){this.fieldPath=e,this.kind=t}}class Jf{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Jf(0,za.min())}}function JE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Ct.fromTimestamp(1e9===r?new tr(t+1,0):new tr(t,r));return new za(s,Be.empty(),e)}function Mv(n){return new za(n.readTime,n.key,-1)}class za{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new za(Ct.min(),Be.empty(),-1)}static max(){return new za(Ct.max(),Be.empty(),-1)}}function XE(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Be.comparator(n.documentKey,e.documentKey),0!==t?t:Gt(n.largestBatchId,e.largestBatchId))}class tD{constructor(e,t=null,r=[],s=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=d,this.endAt=m,this.P=null}}function eb(n,e=null,t=[],r=[],s=null,u=null,d=null){return new tD(n,e,t,r,s,u,d)}function bc(n){const e=qe(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(s=r).field.canonicalString()+s.op.toString()+rh(s.value);var s}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),nh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>rh(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>rh(r)).join(",")),e.P=t}return e.P}function Xf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<n.orderBy.length;s++)if(!sb(n.orderBy[s],e.orderBy[s]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let s=0;s<n.filters.length;s++)if((t=n.filters[s]).op!==(r=e.filters[s]).op||!t.field.isEqual(r.field)||!Lo(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ob(n.startAt,e.startAt)&&ob(n.endAt,e.endAt)}function om(n){return Be.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function am(n,e){return n.filters.filter(t=>t instanceof ei&&t.field.isEqual(e))}class ei extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new tb(e,t,r):"array-contains"===t?new ib(e,r):"in"===t?new iD(e,r):"not-in"===t?new sD(e,r):"array-contains-any"===t?new oD(e,r):new ei(e,t,r)}static V(e,t,r){return"in"===t?new nb(e,r):new rD(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Xu(t,this.value)):null!==t&&vc(this.value)===vc(t)&&this.v(Xu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return it()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class tb extends ei{constructor(e,t,r){super(e,t,r),this.key=Be.fromName(r.referenceValue)}matches(e){const t=Be.comparator(e.key,this.key);return this.v(t)}}class nb extends ei{constructor(e,t){super(e,"in",t),this.keys=rb(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class rD extends ei{constructor(e,t){super(e,"not-in",t),this.keys=rb(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function rb(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Be.fromName(r.referenceValue))}class ib extends ei{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Qf(t)&&Za(t.arrayValue,this.value)}}class iD extends ei{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Za(this.value.arrayValue,t)}}class sD extends ei{constructor(e,t){super(e,"not-in",t)}matches(e){if(Za(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Za(this.value.arrayValue,t)}}class oD extends ei{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Qf(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Za(this.value.arrayValue,r))}}class ga{constructor(e,t){this.position=e,this.inclusive=t}}class el{constructor(e,t="asc"){this.field=e,this.dir=t}}function sb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function um(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],d=n.position[s];if(r=u.field.isKeyField()?Be.comparator(Be.fromName(d.referenceValue),t.key):Xu(d,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function ob(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Lo(n.position[t],e.position[t]))return!1;return!0}class Wa{constructor(e,t=null,r=[],s=[],u=null,d="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=w,this.D=null,this.C=null}}function lm(n,e,t,r,s,u,d,m){return new Wa(n,e,t,r,s,u,d,m)}function oh(n){return new Wa(n)}function ep(n){return!nh(n.limit)&&"F"===n.limitType}function cm(n){return!nh(n.limit)&&"L"===n.limitType}function dm(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Rv(n){for(const e of n.filters)if(e.S())return e.field;return null}function hm(n){return null!==n.collectionGroup}function tp(n){const e=qe(n);if(null===e.D){e.D=[];const t=Rv(e),r=dm(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new el(t)),e.D.push(new el(Wn.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.D.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new el(Wn.keyField(),u))}}}return e.D}function ao(n){const e=qe(n);if(!e.C)if("F"===e.limitType)e.C=eb(e.path,e.collectionGroup,tp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of tp(e))t.push(new el(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new ga(e.endAt.position,!e.endAt.inclusive):null,s=e.startAt?new ga(e.startAt.position,!e.startAt.inclusive):null;e.C=eb(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e.C}function np(n,e,t){return new Wa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function rp(n,e){return Xf(ao(n),ao(e))&&n.limitType===e.limitType}function Cc(n){return`${bc(ao(n))}|lt:${n.limitType}`}function Ic(n){return`Query(target=${function nD(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${rh(r.value)}`;var r}).join(", ")}]`),nh(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>rh(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>rh(t)).join(",")),`Target(${e})`}(ao(n))}; limitType=${n.limitType})`}function kv(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):Be.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of t.explicitOrderBy)if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,d){const m=um(s,u,d);return s.inclusive?m<=0:m<0}(t.startAt,tp(t),r)||t.endAt&&!function(s,u,d){const m=um(s,u,d);return s.inclusive?m>=0:m>0}(t.endAt,tp(t),r)));var t,r}function aD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Nv(n){return(e,t)=>{let r=!1;for(const s of tp(n)){const u=uD(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function uD(n,e,t){const r=n.field.isKeyField()?Be.comparator(e.key,t.key):function(s,u,d){const m=u.data.field(s),w=d.data.field(s);return null!==m&&null!==w?Xu(m,w):it()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return it()}}function ab(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:em(e)?"-0":e}}function ub(n){return{integerValue:""+n}}function lb(n,e){return eD(e)?ub(e):ab(n,e)}class ip{constructor(){this._=void 0}}function cb(n,e,t){return n instanceof ma?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof Dc?Pv(n,e):n instanceof tl?db(n,e):function(r,s){const u=sp(r,s),d=fm(u)+fm(r.k);return tm(u)&&tm(r.k)?ub(d):ab(r.M,d)}(n,e)}function Ov(n,e,t){return n instanceof Dc?Pv(n,e):n instanceof tl?db(n,e):t}function sp(n,e){return n instanceof ah?tm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class ma extends ip{}class Dc extends ip{constructor(e){super(),this.elements=e}}function Pv(n,e){const t=hb(e);for(const r of n.elements)t.some(s=>Lo(s,r))||t.push(r);return{arrayValue:{values:t}}}class tl extends ip{constructor(e){super(),this.elements=e}}function db(n,e){let t=hb(e);for(const r of n.elements)t=t.filter(s=>!Lo(s,r));return{arrayValue:{values:t}}}class ah extends ip{constructor(e,t){super(),this.M=e,this.k=t}}function fm(n){return jn(n.integerValue||n.doubleValue)}function hb(n){return Qf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class pm{constructor(e,t){this.field=e,this.transform=t}}class cD{constructor(e,t){this.version=e,this.transformResults=t}}class An{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new An}static exists(e){return new An(void 0,e)}static updateTime(e){return new An(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function op(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ka{}function CS(n,e,t){n instanceof mm?function(r,s,u){const d=r.value.clone(),m=Lv(r.fieldTransforms,s,u.transformResults);d.setAll(m),s.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(n,e,t):n instanceof nl?function(r,s,u){if(!op(r.precondition,s))return void s.convertToUnknownDocument(u.version);const d=Lv(r.fieldTransforms,s,u.transformResults),m=s.data;m.setAll(ym(r)),m.setAll(d),s.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gm(n,e,t){var s;n instanceof mm?function(r,s,u){if(!op(r.precondition,s))return;const d=r.value.clone(),m=Uv(r.fieldTransforms,u,s);d.setAll(m),s.convertToFoundDocument(Fv(s),d).setHasLocalMutations()}(n,e,t):n instanceof nl?function(r,s,u){if(!op(r.precondition,s))return;const d=Uv(r.fieldTransforms,u,s),m=s.data;m.setAll(ym(r)),m.setAll(d),s.convertToFoundDocument(Fv(s),m).setHasLocalMutations()}(n,e,t):op(n.precondition,s=e)&&s.convertToNoDocument(Ct.min())}function dD(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=sp(r.transform,s||null);null!=u&&(null==t&&(t=Xr.empty()),t.set(r.field,u))}return t||null}function hD(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Xd(t,r,(s,u)=>function lD(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Dc&&r instanceof Dc||t instanceof tl&&r instanceof tl?Xd(t.elements,r.elements,Lo):t instanceof ah&&r instanceof ah?Lo(t.k,r.k):t instanceof ma&&r instanceof ma);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Fv(n){return n.isFoundDocument()?n.version:Ct.min()}class mm extends Ka{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}}class nl extends Ka{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}}function ym(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Lv(n,e,t){const r=new Map;Ne(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],d=u.transform,m=e.data.field(u.field);r.set(u.field,Ov(d,m,t[s]))}return r}function Uv(n,e,t){const r=new Map;for(const s of n){const u=s.transform,d=t.data.field(s.field);r.set(s.field,cb(u,d,e))}return r}class uh extends Ka{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Vv extends Ka{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class fD{constructor(e){this.count=e}}var pr,Yt;function fb(n){switch(n){default:return it();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function pb(n){if(void 0===n)return xr("GRPC error has no .code"),le.UNKNOWN;switch(n){case pr.OK:return le.OK;case pr.CANCELLED:return le.CANCELLED;case pr.UNKNOWN:return le.UNKNOWN;case pr.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case pr.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case pr.INTERNAL:return le.INTERNAL;case pr.UNAVAILABLE:return le.UNAVAILABLE;case pr.UNAUTHENTICATED:return le.UNAUTHENTICATED;case pr.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case pr.NOT_FOUND:return le.NOT_FOUND;case pr.ALREADY_EXISTS:return le.ALREADY_EXISTS;case pr.PERMISSION_DENIED:return le.PERMISSION_DENIED;case pr.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case pr.ABORTED:return le.ABORTED;case pr.OUT_OF_RANGE:return le.OUT_OF_RANGE;case pr.UNIMPLEMENTED:return le.UNIMPLEMENTED;case pr.DATA_LOSS:return le.DATA_LOSS;default:return it()}}(Yt=pr||(pr={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";class rl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){fa(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return Dv(this.inner)}size(){return this.innerSize}}class Sn{constructor(e,t){this.comparator=e,this.root=t||Br.EMPTY}insert(e,t){return new Sn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new Sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ap(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ap(this.root,e,this.comparator,!1)}getReverseIterator(){return new ap(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ap(this.root,e,this.comparator,!0)}}class ap{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=null!=r?r:Br.RED,this.left=null!=s?s:Br.EMPTY,this.right=null!=u?u:Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new Br(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=s?s:this.left,null!=u?u:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Br.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw it();const e=this.left.check();if(e!==this.right.check())throw it();return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1,Br.EMPTY=new class{constructor(){this.size=0}get key(){throw it()}get value(){throw it()}get color(){throw it()}get left(){throw it()}get right(){throw it()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Br(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class wn{constructor(e){this.comparator=e,this.data=new Sn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Bv(this.data.getIterator())}getIteratorFrom(e){return new Bv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof wn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new wn(this.comparator);return t.data=e,t}}class Bv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Tc(n){return n.hasNext()?n.getNext():void 0}const gb=new Sn(Be.comparator);function uo(){return gb}const mb=new Sn(Be.comparator);function jv(){return mb}function up(){return new rl(n=>n.toString(),(n,e)=>n.isEqual(e))}const pD=new Sn(Be.comparator),gD=new wn(Be.comparator);function Qt(...n){let e=gD;for(const t of n)e=e.add(t);return e}const mD=new wn(Gt);function lh(){return mD}class Xi{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,lp.createSynthesizedTargetChangeForCurrentChange(e,t)),new Xi(Ct.min(),r,lh(),uo(),Qt())}}class lp{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t){return new lp(Mr.EMPTY_BYTE_STRING,t,Qt(),Qt(),Qt())}}class Ac{constructor(e,t,r,s){this.O=e,this.removedTargetIds=t,this.key=r,this.F=s}}class ch{constructor(e,t){this.targetId=e,this.$=t}}class yb{constructor(e,t,r=Mr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class _b{constructor(){this.B=0,this.L=dp(),this.U=Mr.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=Qt(),t=Qt(),r=Qt();return this.L.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:it()}}),new lp(this.U,this.q,e,t,r)}J(){this.G=!1,this.L=dp()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class yD{constructor(e){this.nt=e,this.st=new Map,this.it=uo(),this.rt=cp(),this.ot=new wn(Gt)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.K||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.K||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:it()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,s)=>{this.ft(s)&&t(s)})}_t(e){const t=e.targetId,r=e.$.count,s=this.wt(t);if(s){const u=s.target;if(om(u))if(0===r){const d=new Be(u.path);this.ct(t,d,mn.newNoDocument(d,Ct.min()))}else Ne(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((u,d)=>{const m=this.wt(d);if(m){if(u.current&&om(m.target)){const w=new Be(m.target.path);null!==this.it.get(w)||this.It(d,w)||this.ct(d,w,mn.newNoDocument(w,e))}u.j&&(t.set(d,u.H()),u.J())}});let r=Qt();this.rt.forEach((u,d)=>{let m=!0;d.forEachWhile(w=>{const I=this.wt(w);return!I||2===I.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.it.forEach((u,d)=>d.setReadTime(e));const s=new Xi(e,t,this.ot,this.it,r);return this.it=uo(),this.rt=cp(),this.ot=new wn(Gt),s}at(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const s=this.lt(e);this.It(e,t)?s.Y(t,1):s.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new _b,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new wn(Gt),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||Fe("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new _b),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function cp(){return new Sn(Be.comparator)}function dp(){return new Sn(Be.comparator)}const _D={asc:"ASCENDING",desc:"DESCENDING"},vD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class vb{constructor(e,t){this.databaseId=e,this.N=t}}function dh(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _m(n,e){return n.N?e.toBase64():e.toUint8Array()}function wb(n,e){return dh(n,e.toTimestamp())}function jr(n){return Ne(!!n),Ct.fromTimestamp(function(e){const t=qa(e);return new tr(t.seconds,t.nanos)}(n))}function $v(n,e){return(t=n,new zt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function wD(n){const e=zt.fromString(n);return Ne(TD(e)),e}function Sc(n,e){return $v(n.databaseId,e.path)}function lo(n,e){const t=wD(e);if(t.get(1)!==n.databaseId.projectId)throw new De(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new De(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Be(Eb(t))}function vm(n,e){return $v(n.databaseId,e)}function wm(n){const e=wD(n);return 4===e.length?zt.emptyPath():Eb(e)}function xc(n){return new zt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Eb(n){return Ne(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function bb(n,e,t){return{name:Sc(n,e),fields:t.value.mapValue.fields}}function Cb(n,e,t){const r=lo(n,e.name),s=jr(e.updateTime),u=new Xr({mapValue:{fields:e.fields}}),d=mn.newFoundDocument(r,s,u);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function Mc(n,e){let t;if(e instanceof mm)t={update:bb(n,e.key,e.value)};else if(e instanceof uh)t={delete:Sc(n,e.key)};else if(e instanceof nl)t={update:bb(n,e.key,e.data),updateMask:DD(e.fieldMask)};else{if(!(e instanceof Vv))return it();t={verify:Sc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const d=u.transform;if(d instanceof ma)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Dc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof tl)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof ah)return{fieldPath:u.field.canonicalString(),increment:d.k};throw it()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:wb(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:it()),t;var s}function Em(n,e){const t=e.currentDocument?void 0!==(s=e.currentDocument).updateTime?An.updateTime(jr(s.updateTime)):void 0!==s.exists?An.exists(s.exists):An.none():An.none(),r=e.updateTransforms?e.updateTransforms.map(s=>function(u,d){let m=null;"setToServerValue"in d?(Ne("REQUEST_TIME"===d.setToServerValue),m=new ma):"appendMissingElements"in d?m=new Dc(d.appendMissingElements.values||[]):"removeAllFromArray"in d?m=new tl(d.removeAllFromArray.values||[]):"increment"in d?m=new ah(u,d.increment):it();const w=Wn.fromServerFormat(d.fieldPath);return new pm(w,m)}(n,s)):[];var s;if(e.update){const s=lo(n,e.update.name),u=new Xr({mapValue:{fields:e.update.fields}});if(e.updateMask){const d=new pa((e.updateMask.fieldPaths||[]).map(I=>Wn.fromServerFormat(I)));return new nl(s,u,d,t,r)}return new mm(s,u,t,r)}if(e.delete){const s=lo(n,e.delete);return new uh(s,t)}if(e.verify){const s=lo(n,e.verify);return new Vv(s,t)}return it()}function Hv(n,e){return{documents:[vm(n,e.path)]}}function Gv(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=vm(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vm(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(w){if(0===w.length)return;const I=w.map(T=>function(M){if("=="===M.op){if(wc(M.value))return{unaryFilter:{field:Rc(M.field),op:"IS_NAN"}};if(WE(M.value))return{unaryFilter:{field:Rc(M.field),op:"IS_NULL"}}}else if("!="===M.op){if(wc(M.value))return{unaryFilter:{field:Rc(M.field),op:"IS_NOT_NAN"}};if(WE(M.value))return{unaryFilter:{field:Rc(M.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Rc(M.field),op:Ab(M.op),value:M.value}}}(T));return 1===I.length?I[0]:{compositeFilter:{op:"AND",filters:I}}}(e.filters);s&&(t.structuredQuery.where=s);const u=function(w){if(0!==w.length)return w.map(I=>{return{field:Rc((T=I).field),direction:CD(T.dir)};var T})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=(I=e.limit,n.N||nh(I)?I:{value:I});var I,m,w;return null!==d&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function Db(n){let e=wm(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ne(1===r);const T=t.from[0];T.allDescendants?s=T.collectionId:e=e.child(T.collectionId)}let u=[];t.where&&(u=qv(t.where));let d=[];t.orderBy&&(d=t.orderBy.map(T=>{return new el(gr((M=T).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let m=null;t.limit&&(m=function(T){let M;return M="object"==typeof T?T.value:T,nh(M)?null:M}(t.limit));let w=null;var T;t.startAt&&(w=new ga((T=t.startAt).values||[],!!T.before));let I=null;return t.endAt&&(I=function(T){return new ga(T.values||[],!T.before)}(t.endAt)),lm(e,s,d,u,m,"F",w,I)}function qv(n){return n?void 0!==n.unaryFilter?[ID(n)]:void 0!==n.fieldFilter?[hh(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>qv(e)).reduce((e,t)=>e.concat(t)):it():[]}function CD(n){return _D[n]}function Ab(n){return vD[n]}function Rc(n){return{fieldPath:n.canonicalString()}}function gr(n){return Wn.fromServerFormat(n.fieldPath)}function hh(n){return ei.create(gr(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return it()}}(n.fieldFilter.op),n.fieldFilter.value)}function ID(n){switch(n.unaryFilter.op){case"IS_NAN":const e=gr(n.unaryFilter.field);return ei.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=gr(n.unaryFilter.field);return ei.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=gr(n.unaryFilter.field);return ei.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=gr(n.unaryFilter.field);return ei.create(s,"!=",{nullValue:"NULL_VALUE"});default:return it()}}function DD(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TD(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Kn(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=bm(e)),e=AD(n.get(t),e);return bm(e)}function AD(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const u=n.charAt(s);switch(u){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=u}}return t}function bm(n){return n+"\x01\x01"}function Uo(n){const e=n.length;if(Ne(e>=2),2===e)return Ne("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),zt.emptyPath();const t=e-2,r=[];let s="";for(let u=0;u<e;){const d=n.indexOf("\x01",u);switch((d<0||d>t)&&it(),n.charAt(d+1)){case"\x01":const m=n.substring(u,d);let w;0===s.length?w=m:(s+=m,w=s,s=""),r.push(w);break;case"\x10":s+=n.substring(u,d),s+="\0";break;case"\x11":s+=n.substring(u,d+1);break;default:it()}u=d+2}return new zt(r)}const Zv=["userId","batchId"];function Cm(n,e){return[n,Kn(e)]}function Sb(n,e,t){return[n,Kn(e),t]}const zv={},xb=["prefixPath","collectionGroup","readTime","documentId"],Mb=["prefixPath","collectionGroup","documentId"],Im=["collectionGroup","readTime","prefixPath","documentId"],Wv=["canonicalId","targetId"],IS=["targetId","path"],Rb=["path","targetId"],SD=["collectionId","parent"],kb=["indexId","uid"],Dm=["uid","sequenceNumber"],Nb=["indexId","uid","arrayValue","directionalValue","documentKey"],xD=["indexId","uid","documentKey"],Kv=["userId","collectionPath","documentId"],Yv=["userId","collectionPath","largestBatchId"],DS=["userId","collectionGroup","largestBatchId"],Ob=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],MD=[...Ob,"documentOverlays"],Qv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Pb=[...Qv,"indexConfiguration","indexState","indexEntries"],Fb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Jv{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&it(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,r)=>{t(e)})}static reject(e){return new fe((t,r)=>{r(e)})}static waitFor(e){return new fe((t,r)=>{let s=0,u=0,d=!1;e.forEach(m=>{++s,m.next(()=>{++u,d&&u===s&&t()},w=>r(w))}),d=!0,u===s&&t()})}static or(e){let t=fe.resolve(!1);for(const r of e)t=t.next(s=>s?fe.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}}class Tm{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new Vr,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new hp(e,t.error)):this.At.resolve()},this.transaction.onerror=r=>{const s=e0(r.target.error);this.At.reject(new hp(e,s))}}static open(e,t,r,s){try{return new Tm(t,e.transaction(s,r))}catch(u){throw new hp(t,u)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(Fe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Ub(t)}}class Vo{constructor(e,t,r){this.name=e,this.version=t,this.Pt=r,12.2===Vo.Vt((0,xt.z$)())&&xr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Fe("SimpleDb","Removing database:",e),sl(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,xt.hl)())return!1;if(Vo.St())return!0;const e=(0,xt.z$)(),t=Vo.Vt(e),r=0<t&&t<10,s=Vo.Dt(e),u=0<s&&s<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||u)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Nt(e){var t=this;return(0,he.Z)(function*(){return t.db||(Fe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,s)=>{const u=indexedDB.open(t.name,t.version);u.onsuccess=d=>{r(d.target.result)},u.onblocked=()=>{s(new hp(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},u.onerror=d=>{const m=d.target.error;s("VersionError"===m.name?new De(le.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===m.name?new De(le.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+m):new hp(e,m))},u.onupgradeneeded=d=>{Fe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',d.oldVersion),t.Pt.kt(d.target.result,u.transaction,d.oldVersion,t.version).next(()=>{Fe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=r=>t.Mt(r)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,s){var u=this;return(0,he.Z)(function*(){const d="readonly"===t;let m=0;for(;;){++m;try{u.db=yield u.Nt(e);const w=Tm.open(u.db,e,d?"readonly":"readwrite",r),I=s(w).next(T=>(w.bt(),T)).catch(T=>(w.abort(T),fe.reject(T))).toPromise();return I.catch(()=>{}),yield w.Rt,I}catch(w){const I="FirebaseError"!==w.name&&m<3;if(Fe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),u.close(),!I)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Lb{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return sl(this.Ft.delete())}}class hp extends De{constructor(e,t){super(le.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function il(n){return"IndexedDbTransactionError"===n.name}class Ub{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Fe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Fe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),sl(r)}add(e){return Fe("SimpleDb","ADD",this.store.name,e,e),sl(this.store.add(e))}get(e){return sl(this.store.get(e)).next(t=>(void 0===t&&(t=null),Fe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Fe("SimpleDb","DELETE",this.store.name,e),sl(this.store.delete(e))}count(){return Fe("SimpleDb","COUNT",this.store.name),sl(this.store.count())}qt(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const s=this.cursor(r),u=[];return this.Gt(s,(d,m)=>{u.push(m)}).next(()=>u)}{const s=this.store.getAll(r.range);return new fe((u,d)=>{s.onerror=m=>{d(m.target.error)},s.onsuccess=m=>{u(m.target.result)}})}}Kt(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new fe((s,u)=>{r.onerror=d=>{u(d.target.error)},r.onsuccess=d=>{s(d.target.result)}})}Qt(e,t){Fe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.jt=!1;const s=this.cursor(r);return this.Gt(s,(u,d,m)=>m.delete())}Wt(e,t){let r;t?r=e:(r={},t=e);const s=this.cursor(r);return this.Gt(s,t)}zt(e){const t=this.cursor({});return new fe((r,s)=>{t.onerror=u=>{const d=e0(u.target.error);s(d)},t.onsuccess=u=>{const d=u.target.result;d?e(d.primaryKey,d.value).next(m=>{m?d.continue():r()}):r()}})}Gt(e,t){const r=[];return new fe((s,u)=>{e.onerror=d=>{u(d.target.error)},e.onsuccess=d=>{const m=d.target.result;if(!m)return void s();const w=new Lb(m),I=t(m.primaryKey,m.value,w);if(I instanceof fe){const T=I.catch(M=>(w.done(),fe.reject(M)));r.push(T)}w.isDone?s():null===w.Lt?m.continue():m.continue(w.Lt)}}).next(()=>fe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.jt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function sl(n){return new fe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const s=e0(r.target.error);t(s)}})}let Xv=!1;function e0(n){const e=Vo.Vt((0,xt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new De("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Xv||(Xv=!0,setTimeout(()=>{throw r},0)),r}}return n}class Vb extends Jv{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function ti(n,e){const t=qe(n);return Vo.xt(t.Ht,e)}class Am{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&CS(u,e,r[s])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&gm(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&gm(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),s=r;this.applyToLocalView(s),r.isValidDocument()||s.convertToNoDocument(Ct.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Qt())}isEqual(e){return this.batchId===e.batchId&&Xd(this.mutations,e.mutations,(t,r)=>hD(t,r))&&Xd(this.baseMutations,e.baseMutations,(t,r)=>hD(t,r))}}class Bb{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ne(e.mutations.length===r.length);let s=pD;const u=e.mutations;for(let d=0;d<u.length;d++)s=s.insert(u[d].key,r[d].version);return new Bb(e,t,r,s)}}class jb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class kc{constructor(e,t,r,s,u=Ct.min(),d=Ct.min(),m=Mr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m}withSequenceNumber(e){return new kc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new kc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new kc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class RD{constructor(e){this.Jt=e}}function kD(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:t0(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Sc(s=n.Jt,(u=e).key),fields:u.data.value.mapValue.fields,updateTime:dh(s,u.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:fh(e.version)};else{if(!e.isUnknownDocument())return it();r.unknownDocument={path:t.path.toArray(),version:fh(e.version)}}var s,u;return r}function t0(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function fh(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ya(n){const e=new tr(n.seconds,n.nanoseconds);return Ct.fromTimestamp(e)}function fp(n,e){const t=(e.baseMutations||[]).map(u=>Em(n.Jt,u));for(let u=0;u<e.mutations.length-1;++u){const d=e.mutations[u];u+1<e.mutations.length&&void 0!==e.mutations[u+1].transform&&(d.updateTransforms=e.mutations[u+1].transform.fieldTransforms,e.mutations.splice(u+1,1),++u)}const r=e.mutations.map(u=>Em(n.Jt,u)),s=tr.fromMillis(e.localWriteTimeMs);return new Am(e.batchId,s,t,r)}function ph(n){const e=ya(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?ya(n.lastLimboFreeSnapshotVersion):Ct.min();let r;var s;return void 0!==n.query.documents?(Ne(1===(s=n.query).documents.length),r=ao(oh(wm(s.documents[0])))):r=ao(Db(n.query)),new kc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Mr.fromBase64String(n.resumeToken))}function Sm(n,e){const t=fh(e.snapshotVersion),r=fh(e.lastLimboFreeSnapshotVersion);let s;s=om(e.target)?Hv(n.Jt,e.target):Gv(n.Jt,e.target);const u=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:bc(e.target),readTime:t,resumeToken:u,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:s}}function xm(n){const e=Db({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?np(e,e.limit,"L"):e}function Mm(n,e){return new jb(e.largestBatchId,Em(n.Jt,e.overlayMutation))}function ND(n,e){const t=e.path.lastSegment();return[n,Kn(e.path.popLast()),t]}class n0{getBundleMetadata(e,t){return r0(e).get(t).next(r=>{if(r)return{id:(s=r).bundleId,createTime:ya(s.createTime),version:s.version};var s})}saveBundleMetadata(e,t){return r0(e).put({bundleId:(r=t).id,createTime:fh(jr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return s0(e).get(t).next(r=>{if(r)return{name:(s=r).name,query:xm(s.bundledQuery),readTime:ya(s.readTime)};var s})}saveNamedQuery(e,t){return s0(e).put({name:(r=t).name,readTime:fh(jr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function r0(n){return ti(n,"bundles")}function s0(n){return ti(n,"namedQueries")}class Rm{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new Rm(e,t.uid||"")}getOverlay(e,t){return km(e).get(ND(this.userId,t)).next(r=>r?Mm(this.M,r):null)}saveOverlays(e,t,r){const s=[];return r.forEach((u,d)=>{const m=new jb(t,d);s.push(this.Xt(e,m))}),fe.waitFor(s)}removeOverlaysForBatchId(e,t,r){const s=new Set;t.forEach(d=>s.add(Kn(d.getCollectionPath())));const u=[];return s.forEach(d=>{const m=IDBKeyRange.bound([this.userId,d,r],[this.userId,d,r+1],!1,!0);u.push(km(e).Qt("collectionPathOverlayIndex",m))}),fe.waitFor(u)}getOverlaysForCollection(e,t,r){const s=up(),u=Kn(t),d=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,Number.POSITIVE_INFINITY],!0);return km(e).qt("collectionPathOverlayIndex",d).next(m=>{for(const w of m){const I=Mm(this.M,w);s.set(I.getKey(),I)}return s})}getOverlaysForCollectionGroup(e,t,r,s){const u=up();let d;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return km(e).Wt({index:"collectionGroupOverlayIndex",range:m},(w,I,T)=>{const M=Mm(this.M,I);u.size()<s||M.largestBatchId===d?(u.set(M.getKey(),M),d=M.largestBatchId):T.done()}).next(()=>u)}Xt(e,t){return km(e).put(function(r,s,u){const[d,m,w]=ND(s,u.mutation.key);return{userId:s,collectionPath:m,documentId:w,collectionGroup:u.mutation.key.getCollectionGroup(),largestBatchId:u.largestBatchId,overlayMutation:Mc(r.Jt,u.mutation)}}(this.M,this.userId,t))}}function km(n){return ti(n,"documentOverlays")}class Nc{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(jn(e.integerValue));else if("doubleValue"in e){const r=jn(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),em(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Qu(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?KE(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):it()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const s of Object.keys(r))this.re(s,t),this.te(r[s],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const s of r)this.te(s,t)}ae(e,t){this.ne(t,37),Be.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function OD(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Nm(n){const e=64-function(t){let r=0;for(let s=0;s<8;++s){const u=OD(255&t[s]);if(r+=u,8!==u)break}return r}(n);return Math.ceil(e/8)}Nc.fe=new Nc;class PD{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this._e(r.value),r=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.ge(r.value),r=t.next();this.ye()}pe(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this._e(r);else if(r<2048)this._e(960|r>>>6),this._e(128|63&r);else if(t<"\ud800"||"\udbff"<t)this._e(480|r>>>12),this._e(128|63&r>>>6),this._e(128|63&r);else{const s=t.codePointAt(0);this._e(240|s>>>18),this._e(128|63&s>>>12),this._e(128|63&s>>>6),this._e(128|63&s)}}this.we()}Ie(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.ge(r);else if(r<2048)this.ge(960|r>>>6),this.ge(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.ge(480|r>>>12),this.ge(128|63&r>>>6),this.ge(128|63&r);else{const s=t.codePointAt(0);this.ge(240|s>>>18),this.ge(128|63&s>>>12),this.ge(128|63&s>>>6),this.ge(128|63&s)}}this.ye()}Te(e){const t=this.Ee(e),r=Nm(t);this.Ae(1+r),this.buffer[this.position++]=255&r;for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=255&t[s]}Re(e){const t=this.Ee(e),r=Nm(t);this.Ae(1+r),this.buffer[this.position++]=~(255&r);for(let s=t.length-r;s<t.length;++s)this.buffer[this.position++]=~(255&t[s])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(s){const u=new DataView(new ArrayBuffer(8));return u.setFloat64(0,s,!1),new Uint8Array(u.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let s=1;s<t.length;++s)t[s]^=r?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const s=new Uint8Array(r);s.set(this.buffer),this.buffer=s}}class AS{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class SS{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class o0{constructor(){this.De=new PD,this.Ce=new AS(this.De),this.xe=new SS(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class ol{constructor(e,t,r,s){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=s}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new ol(this.indexId,this.documentKey,this.arrayValue,r)}}function Oc(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=$b(n.arrayValue,e.arrayValue),0!==t?t:(t=$b(n.directionalValue,e.directionalValue),0!==t?t:Be.comparator(n.documentKey,e.documentKey)))}function $b(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class xS{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const r=t;r.S()?this.Fe=r:this.Oe.push(r)}}$e(e){const t=im(e);if(void 0!==t&&!this.Be(t))return!1;const r=Ec(e);let s=0,u=0;for(;s<r.length&&this.Be(r[s]);++s);if(s===r.length)return!0;if(void 0!==this.Fe){const d=r[s];if(!this.Le(this.Fe,d)||!this.Ue(this.Me[u++],d))return!1;++s}for(;s<r.length;++s){const d=r[s];if(u>=this.Me.length||!this.Ue(this.Me[u++],d))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class FD{constructor(){this.qe=new pp}addToCollectionParentIndex(e,t){return this.qe.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getFieldIndex(e,t){return fe.resolve(null)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}updateCollectionGroup(e,t,r){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class pp{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new wn(zt.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new wn(zt.comparator)).toArray()}}const Om=new Uint8Array(0);class Bo{constructor(e){this.user=e,this.Ge=new pp,this.Ke=new rl(t=>bc(t),(t,r)=>Xf(t,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const r=t.lastSegment(),s=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const u={collectionId:r,parent:Kn(s)};return Hb(e).put(u)}return fe.resolve()}getCollectionParents(e,t){const r=[],s=IDBKeyRange.bound([t,""],[eh(t),""],!1,!0);return Hb(e).qt(s).next(u=>{for(const d of u){if(d.collectionId!==t)break;r.push(Uo(d.parent))}return r})}addFieldIndex(e,t){const r=Pm(e),s={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(d=>[d.fieldPath.canonicalString(),d.kind])};var u;return delete s.indexId,r.add(s).next()}deleteFieldIndex(e,t){const r=Pm(e),s=Fm(e),u=Pc(e);return r.delete(t.indexId).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Pc(e);let s=!0;const u=new Map;return fe.forEach(this.Qe(t),d=>this.getFieldIndex(e,d).next(m=>{s&&(s=!!m),u.set(d,m)})).next(()=>{if(s){let d=Qt();return fe.forEach(u,(m,w)=>{var I;Fe("IndexedDbIndexManager",`Using index ${I=m,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(We=>`${We.fieldPath}:${We.kind}`).join(",")}`} to execute ${bc(t)}`);const T=function(We,At){const Ke=im(At);if(void 0===Ke)return null;for(const It of am(We,Ke.fieldPath))switch(It.op){case"array-contains-any":return It.value.arrayValue.values||[];case"array-contains":return[It.value]}return null}(w,m),M=function(We,At){const Ke=new Map;for(const It of Ec(At))for(const Ze of am(We,It.fieldPath))switch(Ze.op){case"==":case"in":Ke.set(It.fieldPath.canonicalString(),Ze.value);break;case"not-in":case"!=":return Ke.set(It.fieldPath.canonicalString(),Ze.value),Array.from(Ke.values())}return null}(w,m),U=function(We,At){const Ke=[];let It=!0;for(const Mt of Ec(At)){let On,Ns=!0;for(const nr of am(We,Mt.fieldPath)){let xn,co=!0;switch(nr.op){case"<":case"<=":xn="nullValue"in(Ze=nr.value)?ZE:"booleanValue"in Ze?{booleanValue:!1}:"integerValue"in Ze||"doubleValue"in Ze?{doubleValue:NaN}:"timestampValue"in Ze?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Ze?{stringValue:""}:"bytesValue"in Ze?{bytesValue:""}:"referenceValue"in Ze?ih(Ju.empty(),Be.empty()):"geoPointValue"in Ze?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Ze?{arrayValue:{}}:"mapValue"in Ze?{mapValue:{}}:it();break;case"==":case"in":case">=":xn=nr.value;break;case">":xn=nr.value,co=!1;break;case"!=":case"not-in":xn=ZE}xv(On,xn)===xn&&(On=xn,Ns=co)}if(null!==We.startAt)for(let nr=0;nr<We.orderBy.length;++nr)if(We.orderBy[nr].field.isEqual(Mt.fieldPath)){const xn=We.startAt.position[nr];xv(On,xn)===xn&&(On=xn,Ns=We.startAt.inclusive);break}if(void 0===On)return null;Ke.push(On),It&&(It=Ns)}var Ze;return new ga(Ke,It)}(w,m),j=function(We,At){const Ke=[];let It=!0;for(const Mt of Ec(At)){let On,Ns=!0;for(const nr of am(We,Mt.fieldPath)){let xn,co=!0;switch(nr.op){case">=":case">":xn="nullValue"in(Ze=nr.value)?{booleanValue:!1}:"booleanValue"in Ze?{doubleValue:NaN}:"integerValue"in Ze||"doubleValue"in Ze?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Ze?{stringValue:""}:"stringValue"in Ze?{bytesValue:""}:"bytesValue"in Ze?ih(Ju.empty(),Be.empty()):"referenceValue"in Ze?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Ze?{arrayValue:{}}:"arrayValue"in Ze?{mapValue:{}}:"mapValue"in Ze?Yf:it(),co=!1;break;case"==":case"in":case"<=":xn=nr.value;break;case"<":xn=nr.value,co=!1;break;case"!=":case"not-in":xn=Yf}YE(On,xn)===xn&&(On=xn,Ns=co)}if(null!==We.endAt)for(let nr=0;nr<We.orderBy.length;++nr)if(We.orderBy[nr].field.isEqual(Mt.fieldPath)){const xn=We.endAt.position[nr];YE(On,xn)===xn&&(On=xn,Ns=We.endAt.inclusive);break}if(void 0===On)return null;Ke.push(On),It&&(It=Ns)}var Ze;return new ga(Ke,It)}(w,m),J=this.je(m,w,U),Ae=this.je(m,w,j),Re=this.We(m,w,M),vt=this.ze(m.indexId,T,J,!!U&&U.inclusive,Ae,!!j&&j.inclusive,Re);return fe.forEach(vt,We=>r.Kt(We,t.limit).next(At=>{At.forEach(Ke=>{d=d.add(new Be(Uo(Ke.documentKey)))})}))}).next(()=>d)}return fe.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,r,s,u,d,m){const w=(null!=t?t.length:1)*Math.max(null!=r?r.length:1,null!=u?u.length:1),I=w/(null!=t?t.length:1),T=[];for(let M=0;M<w;++M){const U=t?this.He(t[M/I]):Om,j=r?this.Je(e,U,r[M%I],s):this.Ye(e),J=u?this.Xe(e,U,u[M%I],d):this.Ye(e+1);T.push(...this.createRange(j,J,m.map(Ae=>this.Je(e,U,Ae,!0))))}return T}Je(e,t,r,s){const u=new ol(e,Be.empty(),t,r);return s?u:u.ke()}Xe(e,t,r,s){const u=new ol(e,Be.empty(),t,r);return s?u.ke():u}Ye(e){return new ol(e,Be.empty(),Om,Om)}getFieldIndex(e,t){const r=new xS(t),s=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,s).next(u=>{const d=u.filter(m=>r.$e(m));return d.sort((m,w)=>w.fields.length-m.fields.length),d.length>0?d[0]:null})}Ze(e,t){const r=new o0;for(const s of Ec(e)){const u=t.data.field(s.fieldPath);if(null==u)return null;const d=r.Ne(s.kind);Nc.fe.Zt(u,d)}return r.Se()}He(e){const t=new o0;return Nc.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,r){if(null===r)return[];let s=[];s.push(new o0);let u=0;for(const d of Ec(e)){const m=r[u++];for(const w of s)if(this.tn(t,d.fieldPath)&&Qf(m))s=this.en(s,d,m);else{const I=w.Ne(d.kind);Nc.fe.Zt(m,I)}}return this.nn(s)}je(e,t,r){return null==r?null:this.We(e,t,r.position)}nn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Se();return t}en(e,t,r){const s=[...e],u=[];for(const d of r.arrayValue.values||[])for(const m of s){const w=new o0;w.seed(m.Se()),Nc.fe.Zt(d,w.Ne(t.kind)),u.push(w)}return u}tn(e,t){return!!e.filters.find(r=>r instanceof ei&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=Pm(e),s=Fm(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next(u=>{const d=[];return fe.forEach(u,m=>s.get([m.indexId,this.uid]).next(w=>{d.push(function(I,T){const M=T?new Jf(T.sequenceNumber,new za(ya(T.readTime),new Be(Uo(T.documentKey)),T.largestBatchId)):Jf.empty(),U=I.fields.map(([j,J])=>new sm(Wn.fromServerFormat(j),J));return new rm(I.indexId,I.collectionGroup,U,M)}(m,w))})).next(()=>d)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,s)=>{const u=r.indexState.sequenceNumber-s.indexState.sequenceNumber;return 0!==u?u:Gt(r.collectionGroup,s.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const s=Pm(e),u=Fm(e);return this.sn(e).next(d=>s.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(m=>fe.forEach(m,w=>{return u.put({indexId:w.indexId,uid:this.user.uid||"",sequenceNumber:d,readTime:fh((U=r).readTime),documentKey:Kn(U.documentKey.path),largestBatchId:U.largestBatchId});var U})))}updateIndexEntries(e,t){const r=new Map;return fe.forEach(t,(s,u)=>{const d=r.get(s.collectionGroup);return(d?fe.resolve(d):this.getFieldIndexes(e,s.collectionGroup)).next(m=>(r.set(s.collectionGroup,m),fe.forEach(m,w=>this.rn(e,s,w).next(I=>{const T=this.on(u,w);return I.isEqual(T)?fe.resolve():this.un(e,u,I,T)}))))})}an(e,t,r){return Pc(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,documentKey:Kn(t.key.path)})}cn(e,t,r){return Pc(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,Kn(t.key.path)])}rn(e,t,r){const s=Pc(e);let u=new wn(Oc);return s.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,Kn(t.path)])},(d,m)=>{u=u.add(new ol(r.indexId,t,m.arrayValue,m.directionalValue))}).next(()=>u)}on(e,t){let r=new wn(Oc);const s=this.Ze(t,e);if(null==s)return r;const u=im(t);if(null!=u){const d=e.data.field(u.fieldPath);if(Qf(d))for(const m of d.arrayValue.values||[])r=r.add(new ol(t.indexId,e.key,this.He(m),s))}else r=r.add(new ol(t.indexId,e.key,Om,s));return r}un(e,t,r,s){Fe("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(d,m,w,I,T){const M=d.getIterator(),U=m.getIterator();let j=Tc(M),J=Tc(U);for(;j||J;){let Ae=!1,Re=!1;if(j&&J){const vt=w(j,J);vt<0?Re=!0:vt>0&&(Ae=!0)}else null!=j?Re=!0:Ae=!0;Ae?(I(J),J=Tc(U)):Re?(T(j),j=Tc(M)):(j=Tc(M),J=Tc(U))}}(r,s,Oc,d=>{u.push(this.an(e,t,d))},d=>{u.push(this.cn(e,t,d))}),fe.waitFor(u)}sn(e){let t=1;return Fm(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,s,u)=>{u.done(),t=s.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((d,m)=>Oc(d,m)).filter((d,m,w)=>!m||0!==Oc(d,w[m-1]));const s=[];s.push(e);for(const d of r){const m=Oc(d,e),w=Oc(d,t);if(0===m)s[0]=e.ke();else if(m>0&&w<0)s.push(d),s.push(d.ke());else if(w>0)break}s.push(t);const u=[];for(let d=0;d<s.length;d+=2)u.push(IDBKeyRange.bound([s[d].indexId,this.uid,s[d].arrayValue,s[d].directionalValue,""],[s[d+1].indexId,this.uid,s[d+1].arrayValue,s[d+1].directionalValue,""]));return u}}function Hb(n){return ti(n,"collectionParents")}function Pc(n){return ti(n,"indexEntries")}function Pm(n){return ti(n,"indexConfiguration")}function Fm(n){return ti(n,"indexState")}const Lm={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Pi{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Pi(e,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function a0(n,e,t){const r=n.store("mutations"),s=n.store("documentMutations"),u=[],d=IDBKeyRange.only(t.batchId);let m=0;const w=r.Wt({range:d},(T,M,U)=>(m++,U.delete()));u.push(w.next(()=>{Ne(1===m)}));const I=[];for(const T of t.mutations){const M=Sb(e,T.key.path,t.batchId);u.push(s.delete(M)),I.push(T.key)}return fe.waitFor(u).next(()=>I)}function Um(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw it();e=n.noDocument}return JSON.stringify(e).length}Pi.DEFAULT_COLLECTION_PERCENTILE=10,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pi.DEFAULT=new Pi(41943040,Pi.DEFAULT_COLLECTION_PERCENTILE,Pi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pi.DISABLED=new Pi(-1,0,0);class Vm{constructor(e,t,r,s){this.userId=e,this.M=t,this.indexManager=r,this.referenceDelegate=s,this.hn={}}static Yt(e,t,r,s){Ne(""!==e.uid);const u=e.isAuthenticated()?e.uid:"";return new Vm(u,t,r,s)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return al(e).Wt({index:"userMutationsIndex",range:r},(s,u,d)=>{t=!1,d.done()}).next(()=>t)}addMutationBatch(e,t,r,s){const u=gh(e),d=al(e);return d.add({}).next(m=>{Ne("number"==typeof m);const w=new Am(m,t,r,s),I=function(U,j,J){const Ae=J.baseMutations.map(vt=>Mc(U.Jt,vt)),Re=J.mutations.map(vt=>Mc(U.Jt,vt));return{userId:j,batchId:J.batchId,localWriteTimeMs:J.localWriteTime.toMillis(),baseMutations:Ae,mutations:Re}}(this.M,this.userId,w),T=[];let M=new wn((U,j)=>Gt(U.canonicalString(),j.canonicalString()));for(const U of s){const j=Sb(this.userId,U.key.path,m);M=M.add(U.key.path.popLast()),T.push(d.put(I)),T.push(u.put(j,zv))}return M.forEach(U=>{T.push(this.indexManager.addToCollectionParentIndex(e,U))}),e.addOnCommittedListener(()=>{this.hn[m]=w.keys()}),fe.waitFor(T).next(()=>w)})}lookupMutationBatch(e,t){return al(e).get(t).next(r=>r?(Ne(r.userId===this.userId),fp(this.M,r)):null)}ln(e,t){return this.hn[t]?fe.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const s=r.keys();return this.hn[t]=s,s}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=IDBKeyRange.lowerBound([this.userId,r]);let u=null;return al(e).Wt({index:"userMutationsIndex",range:s},(d,m,w)=>{m.userId===this.userId&&(Ne(m.batchId>=r),u=fp(this.M,m)),w.done()}).next(()=>u)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return al(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(s,u,d)=>{r=u.batchId,d.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return al(e).qt("userMutationsIndex",t).next(r=>r.map(s=>fp(this.M,s)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Cm(this.userId,t.path),s=IDBKeyRange.lowerBound(r),u=[];return gh(e).Wt({range:s},(d,m,w)=>{const[I,T,M]=d,U=Uo(T);if(I===this.userId&&t.path.isEqual(U))return al(e).get(M).next(j=>{if(!j)throw it();Ne(j.userId===this.userId),u.push(fp(this.M,j))});w.done()}).next(()=>u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(Gt);const s=[];return t.forEach(u=>{const d=Cm(this.userId,u.path),m=IDBKeyRange.lowerBound(d),w=gh(e).Wt({range:m},(I,T,M)=>{const[U,j,J]=I,Ae=Uo(j);U===this.userId&&u.path.isEqual(Ae)?r=r.add(J):M.done()});s.push(w)}),fe.waitFor(s).next(()=>this.fn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1,u=Cm(this.userId,r),d=IDBKeyRange.lowerBound(u);let m=new wn(Gt);return gh(e).Wt({range:d},(w,I,T)=>{const[M,U,j]=w,J=Uo(U);M===this.userId&&r.isPrefixOf(J)?J.length===s&&(m=m.add(j)):T.done()}).next(()=>this.fn(e,m))}fn(e,t){const r=[],s=[];return t.forEach(u=>{s.push(al(e).get(u).next(d=>{if(null===d)throw it();Ne(d.userId===this.userId),r.push(fp(this.M,d))}))}),fe.waitFor(s).next(()=>r)}removeMutationBatch(e,t){return a0(e.Ht,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),fe.forEach(r,s=>this.referenceDelegate.markPotentiallyOrphaned(e,s))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return fe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),s=[];return gh(e).Wt({range:r},(u,d,m)=>{if(u[0]===this.userId){const w=Uo(u[1]);s.push(w)}else m.done()}).next(()=>{Ne(0===s.length)})})}containsKey(e,t){return u0(e,this.userId,t)}_n(e){return Bm(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function u0(n,e,t){const r=Cm(e,t.path),s=r[1],u=IDBKeyRange.lowerBound(r);let d=!1;return gh(n).Wt({range:u,jt:!0},(m,w,I)=>{const[T,M,U]=m;T===e&&M===s&&(d=!0),I.done()}).next(()=>d)}function al(n){return ti(n,"mutations")}function gh(n){return ti(n,"documentMutations")}function Bm(n){return ti(n,"mutationQueues")}class ni{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new ni(0)}static gn(){return new ni(-1)}}class LD{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const r=new ni(t.highestTargetId);return t.highestTargetId=r.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Ct.fromTimestamp(new tr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.yn(e).next(s=>(s.highestListenSequenceNumber=t,r&&(s.lastRemoteSnapshotVersion=r.toTimestamp()),t>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=t),this.pn(e,s)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(r=>(r.targetCount+=1,this.Tn(t,r),this.pn(e,r))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>gp(e).delete(t.targetId)).next(()=>this.yn(e)).next(r=>(Ne(r.targetCount>0),r.targetCount-=1,this.pn(e,r)))}removeTargets(e,t,r){let s=0;const u=[];return gp(e).Wt((d,m)=>{const w=ph(m);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(s++,u.push(this.removeTargetData(e,w)))}).next(()=>fe.waitFor(u)).next(()=>s)}forEachTarget(e,t){return gp(e).Wt((r,s)=>{const u=ph(s);t(u)})}yn(e){return Gb(e).get("targetGlobalKey").next(t=>(Ne(null!==t),t))}pn(e,t){return Gb(e).put("targetGlobalKey",t)}In(e,t){return gp(e).put(Sm(this.M,t))}Tn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=bc(t),s=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let u=null;return gp(e).Wt({range:s,index:"queryTargetsIndex"},(d,m,w)=>{const I=ph(m);Xf(t,I.target)&&(u=I,w.done())}).next(()=>u)}addMatchingKeys(e,t,r){const s=[],u=Ya(e);return t.forEach(d=>{const m=Kn(d.path);s.push(u.put({targetId:r,path:m})),s.push(this.referenceDelegate.addReference(e,r,d))}),fe.waitFor(s)}removeMatchingKeys(e,t,r){const s=Ya(e);return fe.forEach(t,u=>{const d=Kn(u.path);return fe.waitFor([s.delete([r,d]),this.referenceDelegate.removeReference(e,r,u)])})}removeMatchingKeysForTargetId(e,t){const r=Ya(e),s=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(s)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),s=Ya(e);let u=Qt();return s.Wt({range:r,jt:!0},(d,m,w)=>{const I=Uo(d[1]),T=new Be(I);u=u.add(T)}).next(()=>u)}containsKey(e,t){const r=Kn(t.path),s=IDBKeyRange.bound([r],[eh(r)],!1,!0);let u=0;return Ya(e).Wt({index:"documentTargetsIndex",jt:!0,range:s},([d,m],w,I)=>{0!==d&&(u++,I.done())}).next(()=>u>0)}Et(e,t){return gp(e).get(t).next(r=>r?ph(r):null)}}function gp(n){return ti(n,"targets")}function Gb(n){return ti(n,"targetGlobal")}function Ya(n){return ti(n,"targetDocuments")}function Fc(n){return l0.apply(this,arguments)}function l0(){return l0=(0,he.Z)(function*(n){if(n.code!==le.FAILED_PRECONDITION||n.message!==Fb)throw n;Fe("LocalStore","Unexpectedly lost primary lease")}),l0.apply(this,arguments)}function c0([n,e],[t,r]){const s=Gt(n,t);return 0===s?Gt(e,r):s}class UD{constructor(e){this.En=e,this.buffer=new wn(c0),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();c0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class MS{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const r=this.Pn?3e5:6e4;Fe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,he.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(s){il(s)?Fe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Fc(s)}yield t.vn(e)}))}}class qb{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return fe.resolve(Ji.A);const r=new UD(t);return this.Sn.forEachTarget(e,s=>r.bn(s.sequenceNumber)).next(()=>this.Sn.Cn(e,s=>r.bn(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Sn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector","Garbage collection skipped; disabled"),fe.resolve(Lm)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Fe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lm):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let r,s,u,d,m,w,I;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Fe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),s=this.params.maximumSequenceNumbersToCollect):s=M,d=Date.now(),this.nthSequenceNumber(e,s))).next(M=>(r=M,m=Date.now(),this.removeTargets(e,r,t))).next(M=>(u=M,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(I=Date.now(),Yu()<=Ou.in.DEBUG&&Fe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${d-T}ms\n\tDetermined least recently used ${s} in `+(m-d)+`ms\n\tRemoved ${u} targets in `+(w-m)+`ms\n\tRemoved ${M} documents in `+(I-w)+`ms\nTotal Duration: ${I-T}ms`),fe.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:u,documentsRemoved:M})))}}class Zb{constructor(e,t){this.db=e,this.garbageCollector=new qb(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}Nn(e){let t=0;return this.Cn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(r,s)=>t(s))}addReference(e,t,r){return jm(e,r)}removeReference(e,t,r){return jm(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return jm(e,t)}Mn(e,t){return function(r,s){let u=!1;return Bm(r).zt(d=>u0(r,d,s).next(m=>(m&&(u=!0),fe.resolve(!m)))).next(()=>u)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),s=[];let u=0;return this.kn(e,(d,m)=>{if(m<=t){const w=this.Mn(e,d).next(I=>{if(!I)return u++,r.getEntry(e,d).next(()=>(r.removeEntry(d,Ct.min()),Ya(e).delete([0,Kn(d.path)])))});s.push(w)}}).next(()=>fe.waitFor(s)).next(()=>r.apply(e)).next(()=>u)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return jm(e,t)}kn(e,t){const r=Ya(e);let s,u=Ji.A;return r.Wt({index:"documentTargetsIndex"},([d,m],{path:w,sequenceNumber:I})=>{0===d?(u!==Ji.A&&t(new Be(Uo(s)),u),u=I,s=w):u=Ji.A}).next(()=>{u!==Ji.A&&t(new Be(Uo(s)),u)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function jm(n,e){return Ya(n).put((r=n.currentSequenceNumber,{targetId:0,path:Kn(e.path),sequenceNumber:r}));var r}class zb{constructor(){this.changes=new rl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,mn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?fe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Wb{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ul(e).put(r)}removeEntry(e,t,r){return ul(e).delete(function(s,u){const d=s.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],t0(u),d[d.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.On(e,r)))}getEntry(e,t){let r=mn.newInvalidDocument(t);return ul(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(mp(t))},(s,u)=>{r=this.Fn(t,u)}).next(()=>r)}$n(e,t){let r={size:0,document:mn.newInvalidDocument(t)};return ul(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(mp(t))},(s,u)=>{r={document:this.Fn(t,u),size:Um(u)}}).next(()=>r)}getEntries(e,t){let r=uo();return this.Bn(e,t,(s,u)=>{const d=this.Fn(s,u);r=r.insert(s,d)}).next(()=>r)}Ln(e,t){let r=uo(),s=new Sn(Be.comparator);return this.Bn(e,t,(u,d)=>{const m=this.Fn(u,d);r=r.insert(u,m),s=s.insert(u,Um(d))}).next(()=>({documents:r,Un:s}))}Bn(e,t,r){if(t.isEmpty())return fe.resolve();let s=new wn(f0);t.forEach(w=>s=s.add(w));const u=IDBKeyRange.bound(mp(s.first()),mp(s.last())),d=s.getIterator();let m=d.getNext();return ul(e).Wt({index:"documentKeyIndex",range:u},(w,I,T)=>{const M=Be.fromSegments([...I.prefixPath,I.collectionGroup,I.documentId]);for(;m&&f0(m,M)<0;)r(m,null),m=d.getNext();m&&m.isEqual(M)&&(r(m,I),m=d.hasNext()?d.getNext():null),m?T.Ut(mp(m)):T.done()}).next(()=>{for(;m;)r(m,null),m=d.hasNext()?d.getNext():null})}getAllFromCollection(e,t,r){const s=[t.popLast().toArray(),t.lastSegment(),t0(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],u=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ul(e).qt(IDBKeyRange.bound(s,u,!0)).next(d=>{let m=uo();for(const w of d){const I=this.Fn(Be.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);m=m.insert(I.key,I)}return m})}getAllFromCollectionGroup(e,t,r,s){let u=uo();const d=h0(t,r),m=h0(t,za.max());return ul(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(d,m,!0)},(w,I,T)=>{const M=this.Fn(Be.fromSegments(I.prefixPath.concat(I.collectionGroup,I.documentId)),I);u=u.insert(M.key,M),u.size===s&&T.done()}).next(()=>u)}newChangeBuffer(e){return new d0(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return $m(e).get("remoteDocumentGlobalKey").next(t=>(Ne(!!t),t))}On(e,t){return $m(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const r=function TS(n,e){let t;if(e.document)t=Cb(n.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Be.fromSegments(e.noDocument.path),s=ya(e.noDocument.readTime);t=mn.newNoDocument(r,s),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return it();{const r=Be.fromSegments(e.unknownDocument.path),s=ya(e.unknownDocument.version);t=mn.newUnknownDocument(r,s)}}return e.readTime&&t.setReadTime(function(r){const s=new tr(r[0],r[1]);return Ct.fromTimestamp(s)}(e.readTime)),t}(this.M,t);if(!r.isNoDocument()||!r.version.isEqual(Ct.min()))return r}return mn.newInvalidDocument(e)}}class d0 extends zb{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new rl(r=>r.toString(),(r,s)=>r.isEqual(s))}applyChanges(e){const t=[];let r=0,s=new wn((u,d)=>Gt(u.canonicalString(),d.canonicalString()));return this.changes.forEach((u,d)=>{const m=this.Gn.get(u);if(t.push(this.qn.removeEntry(e,u,m.readTime)),d.isValidDocument()){const w=kD(this.qn.M,d);s=s.add(u.path.popLast()),r+=Um(w)-m.size,t.push(this.qn.addEntry(e,u,w))}else if(r-=m.size,this.trackRemovals){const w=kD(this.qn.M,d.convertToNoDocument(Ct.min()));t.push(this.qn.addEntry(e,u,w))}}),s.forEach(u=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,u))}),t.push(this.qn.updateMetadata(e,r)),fe.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(r=>(this.Gn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:r,Un:s})=>(s.forEach((u,d)=>{this.Gn.set(u,{size:d,readTime:r.get(u).readTime})}),r))}}function $m(n){return ti(n,"remoteDocumentGlobal")}function ul(n){return ti(n,"remoteDocumentsV14")}function mp(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function h0(n,e){const t=e.documentKey.path.toArray();return[n,t0(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function f0(n,e){const t=n.path.length-e.path.length;return 0!==t?t:Be.comparator(n,e)}class VD{constructor(e){this.M=e}kt(e,t,r,s){const u=new Tm("createOrUpgrade",t);var m;r<1&&s>=1&&(e.createObjectStore("owner"),(m=e).createObjectStore("mutationQueues",{keyPath:"userId"}),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zv,{unique:!0}),m.createObjectStore("documentMutations"),Kb(e),function(m){m.createObjectStore("remoteDocuments")}(e));let d=fe.resolve();return r<3&&s>=3&&(0!==r&&(function(m){m.deleteObjectStore("targetDocuments"),m.deleteObjectStore("targets"),m.deleteObjectStore("targetGlobal")}(e),Kb(e)),d=d.next(()=>function(m){const w=m.store("targetGlobal"),I={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Ct.min().toTimestamp(),targetCount:0};return w.put("targetGlobalKey",I)}(u))),r<4&&s>=4&&(0!==r&&(d=d.next(()=>function(m,w){return w.store("mutations").qt().next(I=>{m.deleteObjectStore("mutations"),m.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Zv,{unique:!0});const T=w.store("mutations"),M=I.map(U=>T.put(U));return fe.waitFor(M)})}(e,u))),d=d.next(()=>{!function(m){m.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&s>=5&&(d=d.next(()=>this.Kn(u))),r<6&&s>=6&&(d=d.next(()=>(function(m){m.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(u)))),r<7&&s>=7&&(d=d.next(()=>this.jn(u))),r<8&&s>=8&&(d=d.next(()=>this.Wn(e,u))),r<9&&s>=9&&(d=d.next(()=>{!function(m){m.objectStoreNames.contains("remoteDocumentChanges")&&m.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&s>=10&&(d=d.next(()=>this.zn(u))),r<11&&s>=11&&(d=d.next(()=>{(function(m){m.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(m){m.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&s>=12&&(d=d.next(()=>{!function(m){const w=m.createObjectStore("documentOverlays",{keyPath:Kv});w.createIndex("collectionPathOverlayIndex",Yv,{unique:!1}),w.createIndex("collectionGroupOverlayIndex",DS,{unique:!1})}(e)})),r<13&&s>=13&&(d=d.next(()=>function(m){const w=m.createObjectStore("remoteDocumentsV14",{keyPath:xb});w.createIndex("documentKeyIndex",Mb),w.createIndex("collectionGroupIndex",Im)}(e)).next(()=>this.Hn(e,u)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&s>=14&&(d=d.next(()=>{!function(m){m.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),m.createObjectStore("indexState",{keyPath:kb}).createIndex("sequenceNumberIndex",Dm,{unique:!1}),m.createObjectStore("indexEntries",{keyPath:Nb}).createIndex("documentKeyIndex",xD,{unique:!1})}(e)})),d}Qn(e){let t=0;return e.store("remoteDocuments").Wt((r,s)=>{t+=Um(s)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Kn(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.qt().next(s=>fe.forEach(s,u=>{const d=IDBKeyRange.bound([u.userId,-1],[u.userId,u.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",d).next(m=>fe.forEach(m,w=>{Ne(w.userId===u.userId);const I=fp(this.M,w);return a0(e,u.userId,I).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(s=>{const u=[];return r.Wt((d,m)=>{const w=new zt(d),I=[0,Kn(w)];u.push(t.get(I).next(T=>T?fe.resolve():t.put({targetId:0,path:Kn(w),sequenceNumber:s.highestListenSequenceNumber})))}).next(()=>fe.waitFor(u))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:SD});const r=t.store("collectionParents"),s=new pp,u=d=>{if(s.add(d)){const m=d.lastSegment(),w=d.popLast();return r.put({collectionId:m,parent:Kn(w)})}};return t.store("remoteDocuments").Wt({jt:!0},(d,m)=>{const w=new zt(d);return u(w.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([d,m,w],I)=>{const T=Uo(m);return u(T.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((r,s)=>{const u=ph(s),d=Sm(this.M,u);return t.put(d)})}Hn(e,t){const r=t.store("remoteDocuments"),s=[];return r.Wt((u,d)=>{const m=t.store("remoteDocumentsV14"),w=(I=d,I.document?new Be(zt.fromString(I.document.name).popFirst(5)):I.noDocument?Be.fromSegments(I.noDocument.path):I.unknownDocument?Be.fromSegments(I.unknownDocument.path):it()).path.toArray();var I;const T={prefixPath:w.slice(0,w.length-2),collectionGroup:w[w.length-2],documentId:w[w.length-1],readTime:d.readTime||[0,0],unknownDocument:d.unknownDocument,noDocument:d.noDocument,document:d.document,hasCommittedMutations:!!d.hasCommittedMutations};s.push(m.put(T))}).next(()=>fe.waitFor(s))}}function Kb(n){n.createObjectStore("targetDocuments",{keyPath:IS}).createIndex("documentTargetsIndex",Rb,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Wv,{unique:!0}),n.createObjectStore("targetGlobal")}const Yb="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qb{constructor(e,t,r,s,u,d,m,w,I,T,M=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Jn=u,this.window=d,this.document=m,this.Yn=I,this.Xn=T,this.Zn=M,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=U=>Promise.resolve(),!Qb.vt())throw new De(le.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Zb(this,s),this.cs=t+"main",this.M=new RD(w),this.hs=new Vo(this.cs,this.Zn,new VD(this.M)),this.ls=new LD(this.referenceDelegate,this.M),this.fs=new Wb(this.M),this.ds=new n0,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===T&&xr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new De(le.FAILED_PRECONDITION,Yb);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new Ji(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var r=(0,he.Z)(function*(s){if(t.started)return e(s)});return function(s){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,he.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,he.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Hm(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(il(e))return Fe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Fe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return mh(e).get("owner").next(t=>fe.resolve(this.bs(t)))}Ps(e){return Hm(e).delete(this.clientId)}Vs(){var e=this;return(0,he.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const s=ti(r,"clientMetadata");return s.qt().next(u=>{const d=e.Ss(u,18e5),m=u.filter(w=>-1===d.indexOf(w));return fe.forEach(m,w=>s.delete(w.clientId)).next(()=>m)})}).catch(()=>[]);if(e._s)for(const r of t)e._s.removeItem(e.Ds(r.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?fe.resolve(!0):mh(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new De(le.FAILED_PRECONDITION,Yb);return!1}}return!(!this.networkEnabled||!this.inForeground)||Hm(e).qt().next(r=>void 0===this.Ss(r,5e3).find(s=>{if(this.clientId!==s.clientId){const d=!this.inForeground&&s.inForeground,m=this.networkEnabled===s.networkEnabled;if(!this.networkEnabled&&s.networkEnabled||d&&m)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Fe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,he.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Vb(t,Ji.A);return e.As(r).next(()=>e.Ps(r))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(r=>this.vs(r.updateTimeMs,t)&&!this.Cs(r.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>Hm(e).qt().next(t=>this.Ss(t,18e5).map(r=>r.clientId)))}get started(){return this.es}getMutationQueue(e,t){return Vm.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new Bo(e)}getDocumentOverlayCache(e){return Rm.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,r){Fe("IndexedDbPersistence","Starting transaction:",e);const s="readonly"===t?"readonly":"readwrite",u=14===(d=this.Zn)?Pb:13===d?Qv:12===d?MD:11===d?Ob:void it();var d;let m;return this.hs.runTransaction(e,s,u,w=>(m=new Vb(w,this.ts?this.ts.next():Ji.A),"readwrite-primary"===t?this.Ts(m).next(I=>!!I||this.Es(m)).next(I=>{if(!I)throw xr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new De(le.FAILED_PRECONDITION,Fb);return r(m)}).next(I=>this.Rs(m).next(()=>I)):this.Fs(m).next(()=>r(m)))).then(w=>(m.raiseOnCommittedEvent(),w))}Fs(e){return mh(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new De(le.FAILED_PRECONDITION,Yb)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return mh(e).put("owner",t)}static vt(){return Vo.vt()}As(e){const t=mh(e);return t.get("owner").next(r=>this.bs(r)?(Fe("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):fe.resolve())}vs(e,t){const r=Date.now();return!(e<r-t||e>r&&(xr(`Detected an update time that is in the future: ${e} > ${r}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,xt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const r=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return Fe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return xr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){xr("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function mh(n){return ti(n,"owner")}function Hm(n){return ti(n,"clientMetadata")}function p0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class BD{constructor(e,t,r){this.fs=e,this.$s=t,this.indexManager=r}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.fs.getEntry(e,t).next(s=>{for(const u of r)u.applyToLocalView(s);return s})}Us(e,t){e.forEach((r,s)=>{for(const u of t)u.applyToLocalView(s)})}qs(e,t){return this.fs.getEntries(e,t).next(r=>this.Gs(e,r).next(()=>r))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.Us(t,r))}Ks(e,t,r){return Be.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.Qs(e,t.path):hm(t)?this.js(e,t,r):this.Ws(e,t,r);var s}Qs(e,t){return this.Bs(e,new Be(t)).next(r=>{let s=jv();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}js(e,t,r){const s=t.collectionGroup;let u=jv();return this.indexManager.getCollectionParents(e,s).next(d=>fe.forEach(d,m=>{const w=(I=t,T=m.child(s),new Wa(T,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt));var I,T;return this.Ws(e,w,r).next(I=>{I.forEach((T,M)=>{u=u.insert(T,M)})})}).next(()=>u))}Ws(e,t,r){let s;return this.fs.getAllFromCollection(e,t.path,r).next(u=>(s=u,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(u=>{for(const d of u)for(const m of d.mutations){const w=m.key;let I=s.get(w);null==I&&(I=mn.newInvalidDocument(w),s=s.insert(w,I)),gm(m,I,d.localWriteTime),I.isFoundDocument()||(s=s.remove(w))}}).next(()=>(s.forEach((u,d)=>{kv(t,d)||(s=s.remove(u))}),s))}}class Jb{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=s}static Js(e,t){let r=Qt(),s=Qt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new Jb(e,t.fromCache,r,s)}}class jD{Ys(e){this.Xs=e}Ks(e,t,r,s){return 0===(u=t).filters.length&&null===u.limit&&null==u.startAt&&null==u.endAt&&(0===u.explicitOrderBy.length||1===u.explicitOrderBy.length&&u.explicitOrderBy[0].field.isKeyField())||r.isEqual(Ct.min())?this.Zs(e,t):this.Xs.qs(e,s).next(u=>{const d=this.ti(t,u);return(ep(t)||cm(t))&&this.ei(t.limitType,d,s,r)?this.Zs(e,t):(Yu()<=Ou.in.DEBUG&&Fe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Ic(t)),this.Xs.Ks(e,t,JE(r,-1)).next(m=>(d.forEach(w=>{m=m.insert(w.key,w)}),m)))});var u}ti(e,t){let r=new wn(Nv(e));return t.forEach((s,u)=>{kv(e,u)&&(r=r.add(u))}),r}ei(e,t,r,s){if(r.size!==t.size)return!0;const u="F"===e?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Zs(e,t){return Yu()<=Ou.in.DEBUG&&Fe("QueryEngine","Using full collection scan to execute query:",Ic(t)),this.Xs.Ks(e,t,za.min())}}class RS{constructor(e,t,r,s){this.persistence=e,this.ni=t,this.M=s,this.si=new Sn(Gt),this.ii=new rl(u=>bc(u),Xf),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(r)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new BD(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function $D(n,e,t,r){return new RS(n,e,t,r)}function HD(n,e){return g0.apply(this,arguments)}function g0(){return g0=(0,he.Z)(function*(n,e){const t=qe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.$s.getAllMutationBatches(r).next(u=>(s=u,t.ui(e),t.$s.getAllMutationBatches(r))).next(u=>{const d=[],m=[];let w=Qt();for(const I of s){d.push(I.batchId);for(const T of I.mutations)w=w.add(T.key)}for(const I of u){m.push(I.batchId);for(const T of I.mutations)w=w.add(T.key)}return t.ai.qs(r,w).next(I=>({ci:I,removedBatchIds:d,addedBatchIds:m}))})})}),g0.apply(this,arguments)}function Gm(n,e){const t=qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.oi.newChangeBuffer({trackRemovals:!0});return function(d,m,w,I){const T=w.batch,M=T.keys();let U=fe.resolve();return M.forEach(j=>{U=U.next(()=>I.getEntry(m,j)).next(J=>{const Ae=w.docVersions.get(j);Ne(null!==Ae),J.version.compareTo(Ae)<0&&(T.applyToRemoteDocument(J,w),J.isValidDocument()&&(J.setReadTime(w.commitVersion),I.addEntry(J)))})}),U.next(()=>d.$s.removeMutationBatch(m,T))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.$s.performConsistencyCheck(r)).next(()=>t.ai.qs(r,s))})}function Xb(n){const e=qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function GD(n,e){const t=qe(n),r=e.snapshotVersion;let s=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=t.oi.newChangeBuffer({trackRemovals:!0});s=t.si;const m=[];e.targetChanges.forEach((I,T)=>{const M=s.get(T);if(!M)return;m.push(t.ls.removeMatchingKeys(u,I.removedDocuments,T).next(()=>t.ls.addMatchingKeys(u,I.addedDocuments,T)));let U=M.withSequenceNumber(u.currentSequenceNumber);var j,J,Ae;e.targetMismatches.has(T)?U=U.withResumeToken(Mr.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):I.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(I.resumeToken,r)),s=s.insert(T,U),J=U,Ae=I,(0===(j=M).resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8||Ae.addedDocuments.size+Ae.modifiedDocuments.size+Ae.removedDocuments.size>0)&&m.push(t.ls.updateTargetData(u,U))});let w=uo();if(e.documentUpdates.forEach(I=>{e.resolvedLimboDocuments.has(I)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,I))}),m.push(m0(u,d,e.documentUpdates).next(I=>{w=I})),!r.isEqual(Ct.min())){const I=t.ls.getLastRemoteSnapshotVersion(u).next(T=>t.ls.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(I)}return fe.waitFor(m).next(()=>d.apply(u)).next(()=>t.ai.Gs(u,w)).next(()=>w)}).then(u=>(t.si=s,u))}function m0(n,e,t){let r=Qt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let u=uo();return t.forEach((d,m)=>{const w=s.get(d);m.isNoDocument()&&m.version.isEqual(Ct.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!w.isValidDocument()||m.version.compareTo(w.version)>0||0===m.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):Fe("LocalStore","Ignoring outdated watch update for ",d,". Current version:",w.version," Watch version:",m.version)}),u})}function Lc(n,e){const t=qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(r,e)))}function Uc(n,e){const t=qe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.ls.getTargetData(r,e).next(u=>u?(s=u,fe.resolve(s)):t.ls.allocateTargetId(r).next(d=>(s=new kc(e,d,0,r.currentSequenceNumber),t.ls.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.si.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function ll(n,e,t){return yp.apply(this,arguments)}function yp(){return yp=(0,he.Z)(function*(n,e,t){const r=qe(n),s=r.si.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,d=>r.persistence.referenceDelegate.removeTarget(d,s)))}catch(d){if(!il(d))throw d;Fe("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}r.si=r.si.remove(e),r.ii.delete(s.target)}),yp.apply(this,arguments)}function qm(n,e,t){const r=qe(n);let s=Ct.min(),u=Qt();return r.persistence.runTransaction("Execute query","readonly",d=>function(m,w,I){const T=qe(m),M=T.ii.get(I);return void 0!==M?fe.resolve(T.si.get(M)):T.ls.getTargetData(w,I)}(r,d,ao(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.ls.getMatchingKeysForTargetId(d,m.targetId).next(w=>{u=w})}).next(()=>r.ni.Ks(d,e,t?s:Ct.min(),t?u:Qt())).next(m=>(_p(r,aD(e),m),{documents:m,hi:u})))}function Zm(n,e){const t=qe(n),r=qe(t.ls),s=t.si.get(e);return s?Promise.resolve(s.target):t.persistence.runTransaction("Get target data","readonly",u=>r.Et(u,e).next(d=>d?d.target:null))}function zm(n,e){const t=qe(n),r=t.ri.get(e)||Ct.min();return t.persistence.runTransaction("Get new document changes","readonly",s=>t.oi.getAllFromCollectionGroup(s,e,JE(r,-1),Number.MAX_SAFE_INTEGER)).then(s=>(_p(t,e,s),s))}function _p(n,e,t){let r=Ct.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.ri.set(e,r)}function eC(){return eC=(0,he.Z)(function*(n,e,t,r){const s=qe(n);let u=Qt(),d=uo();for(const I of t){const T=e.li(I.metadata.name);I.document&&(u=u.add(T));const M=e.fi(I);M.setReadTime(e.di(I.metadata.readTime)),d=d.insert(T,M)}const m=s.oi.newChangeBuffer({trackRemovals:!0}),w=yield Uc(s,(I=r,ao(oh(zt.fromString(`__bundle__/docs/${I}`)))));var I;return s.persistence.runTransaction("Apply bundle documents","readwrite",I=>m0(I,m,d).next(T=>(m.apply(I),T)).next(T=>s.ls.removeMatchingKeysForTargetId(I,w.targetId).next(()=>s.ls.addMatchingKeys(I,u,w.targetId)).next(()=>s.ai.Gs(I,T)).next(()=>T)))}),eC.apply(this,arguments)}function NS(n,e){return tC.apply(this,arguments)}function tC(){return tC=(0,he.Z)(function*(n,e,t=Qt()){const r=yield Uc(n,ao(xm(e.bundledQuery))),s=qe(n);return s.persistence.runTransaction("Save named query","readwrite",u=>{const d=jr(e.readTime);if(r.snapshotVersion.compareTo(d)>=0)return s.ds.saveNamedQuery(u,e);const m=r.withResumeToken(Mr.EMPTY_BYTE_STRING,d);return s.si=s.si.insert(m.targetId,m),s.ls.updateTargetData(u,m).next(()=>s.ls.removeMatchingKeysForTargetId(u,r.targetId)).next(()=>s.ls.addMatchingKeys(u,t,r.targetId)).next(()=>s.ds.saveNamedQuery(u,e))})}),tC.apply(this,arguments)}class nC{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return fe.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:jr(r.createTime)}),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:xm(r.bundledQuery),readTime:jr(r.readTime)}),fe.resolve();var r}}class qD{constructor(){this.overlays=new Sn(Be.comparator),this.mi=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.Xt(e,t,u)}),fe.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.mi.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.mi.delete(r)),fe.resolve()}getOverlaysForCollection(e,t,r){const s=up(),u=t.length+1,d=new Be(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const w=m.getNext().value,I=w.getKey();if(!t.isPrefixOf(I.path))break;I.path.length===u&&w.largestBatchId>r&&s.set(w.getKey(),w)}return fe.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new Sn((I,T)=>I-T);const d=this.overlays.getIterator();for(;d.hasNext();){const I=d.getNext().value;if(I.getKey().getCollectionGroup()===t&&I.largestBatchId>r){let T=u.get(I.largestBatchId);null===T&&(T=up(),u=u.insert(I.largestBatchId,T)),T.set(I.getKey(),I)}}const m=up(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((I,T)=>m.set(I,T)),!(m.size()>=s)););return fe.resolve(m)}Xt(e,t,r){if(null===r)return;const s=this.overlays.get(r.key);if(null!==s){const d=this.mi.get(s.largestBatchId).delete(r.key);this.mi.set(s.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new jb(t,r));let u=this.mi.get(t);void 0===u&&(u=Qt(),this.mi.set(t,u)),this.mi.set(t,u.add(r.key))}}class y0{constructor(){this.gi=new wn($r.yi),this.pi=new wn($r.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new $r(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new $r(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new Be(new zt([])),r=new $r(t,e),s=new $r(t,e+1),u=[];return this.pi.forEachInRange([r,s],d=>{this.Ei(d),u.push(d.key)}),u}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Be(new zt([])),r=new $r(t,e),s=new $r(t,e+1);let u=Qt();return this.pi.forEachInRange([r,s],d=>{u=u.add(d.key)}),u}containsKey(e){const t=new $r(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class $r{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Be.comparator(e.key,t.key)||Gt(e.Vi,t.Vi)}static Ii(e,t){return Gt(e.Vi,t.Vi)||Be.comparator(e.key,t.key)}}class ZD{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new wn($r.yi)}checkEmpty(e){return fe.resolve(0===this.$s.length)}addMutationBatch(e,t,r,s){const u=this.vi;this.vi++;const d=new Am(u,t,r,s);this.$s.push(d);for(const m of s)this.Si=this.Si.add(new $r(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return fe.resolve(d)}lookupMutationBatch(e,t){return fe.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.Ci(t+1),u=s<0?0:s;return fe.resolve(this.$s.length>u?this.$s[u]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return fe.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $r(t,0),s=new $r(t,Number.POSITIVE_INFINITY),u=[];return this.Si.forEachInRange([r,s],d=>{const m=this.Di(d.Vi);u.push(m)}),fe.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new wn(Gt);return t.forEach(s=>{const u=new $r(s,0),d=new $r(s,Number.POSITIVE_INFINITY);this.Si.forEachInRange([u,d],m=>{r=r.add(m.Vi)})}),fe.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;Be.isDocumentKey(u)||(u=u.child(""));const d=new $r(new Be(u),0);let m=new wn(Gt);return this.Si.forEachWhile(w=>{const I=w.key.path;return!!r.isPrefixOf(I)&&(I.length===s&&(m=m.add(w.Vi)),!0)},d),fe.resolve(this.xi(m))}xi(e){const t=[];return e.forEach(r=>{const s=this.Di(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){Ne(0===this.Ni(t.batchId,"removed")),this.$s.shift();let r=this.Si;return fe.forEach(t.mutations,s=>{const u=new $r(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new $r(t,0),s=this.Si.firstAfterOrEqual(r);return fe.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return fe.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class rC{constructor(e){this.ki=e,this.docs=new Sn(Be.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,d=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return fe.resolve(r?r.document.mutableCopy():mn.newInvalidDocument(t))}getEntries(e,t){let r=uo();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():mn.newInvalidDocument(s))}),fe.resolve(r)}getAllFromCollection(e,t,r){let s=uo();const u=new Be(t.child("")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:m,value:{document:w}}=d.getNext();if(!t.isPrefixOf(m.path))break;m.path.length>t.length+1||XE(Mv(w),r)<=0||(s=s.insert(w.key,w.mutableCopy()))}return fe.resolve(s)}getAllFromCollectionGroup(e,t,r,s){it()}Mi(e,t){return fe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new iC(this)}getSize(e){return fe.resolve(this.size)}}class iC extends zb{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.qn.addEntry(e,s)):this.qn.removeEntry(r)}),fe.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class sC{constructor(e){this.persistence=e,this.Oi=new rl(t=>bc(t),Xf),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.Fi=0,this.$i=new y0,this.targetCount=0,this.Bi=ni.mn()}forEachTarget(e,t){return this.Oi.forEach((r,s)=>t(s)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Fi&&(this.Fi=t),fe.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new ni(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.In(t),fe.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.Oi.forEach((d,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.Oi.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),fe.waitFor(u).next(()=>s)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return fe.resolve(r)}addMatchingKeys(e,t,r){return this.$i.Ti(t,r),fe.resolve()}removeMatchingKeys(e,t,r){this.$i.Ai(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(d=>{u.push(s.markPotentiallyOrphaned(e,d))}),fe.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.$i.Pi(t);return fe.resolve(r)}containsKey(e,t){return fe.resolve(this.$i.containsKey(t))}}class zD{constructor(e,t){this.Li={},this.overlays={},this.ts=new Ji(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new sC(this),this.indexManager=new FD,this.fs=new rC(r=>this.referenceDelegate.Ui(r)),this.M=new RD(t),this.ds=new nC(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new qD,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new ZD(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,r){Fe("MemoryPersistence","Starting transaction:",e);const s=new WD(this.ts.next());return this.referenceDelegate.qi(),r(s).next(u=>this.referenceDelegate.Gi(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Ki(e,t){return fe.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class WD extends Jv{constructor(e){super(),this.currentSequenceNumber=e}}class Wm{constructor(e){this.persistence=e,this.Qi=new y0,this.ji=null}static Wi(e){return new Wm(e)}get zi(){if(this.ji)return this.ji;throw it()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),fe.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(s=>this.zi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.zi.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.zi,r=>{const s=Be.fromPath(r);return this.Hi(e,s).next(u=>{u||t.removeEntry(s,Ct.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return fe.or([()=>fe.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function Km(n,e){return`firestore_clients_${n}_${e}`}function KD(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Ym(n,e){return`firestore_targets_${n}_${e}`}class yh{constructor(e,t,r,s){this.user=e,this.batchId=t,this.state=r,this.error=s}static Ji(e,t,r){const s=JSON.parse(r);let u,d="object"==typeof s&&-1!==["pending","acknowledged","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(u=new De(s.error.code,s.error.message))),d?new yh(e,t,s.state,u):(xr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class vp{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Ji(e,t){const r=JSON.parse(t);let s,u="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(s=new De(r.error.code,r.error.message))),u?new vp(e,r.state,s):(xr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Qm{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const r=JSON.parse(t);let s="object"==typeof r&&r.activeTargetIds instanceof Array,u=lh();for(let d=0;s&&d<r.activeTargetIds.length;++d)s=eD(r.activeTargetIds[d]),u=u.add(r.activeTargetIds[d]);return s?new Qm(e,u):(xr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class oC{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new oC(t.clientId,t.onlineState):(xr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class aC{constructor(){this.activeTargetIds=lh()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uC{constructor(e,t,r,s,u){this.window=e,this.Jn=t,this.persistenceKey=r,this.tr=s,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Sn(Gt),this.started=!1,this.ir=[];const d=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=u,this.rr=Km(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new aC),this.ar=new RegExp(`^firestore_clients_${d}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${d}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${d}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(m){return`firestore_bundle_loaded_v2_${m}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,he.Z)(function*(){const t=yield e.syncEngine.Os();for(const s of t){if(s===e.tr)continue;const u=e.getItem(Km(e.persistenceKey,s));if(u){const d=Qm.Ji(s,u);d&&(e.sr=e.sr.insert(d.clientId,d))}}e._r();const r=e.storage.getItem(e.lr);if(r){const s=e.wr(r);s&&e.mr(s)}for(const s of e.ir)e.nr(s);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((r,s)=>{s.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,r){this.yr(e,t,r),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Ym(this.persistenceKey,e));if(r){const s=vp.Ji(e,r);s&&(t=s.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ym(this.persistenceKey,e))}updateQueryState(e,t,r){this.Tr(e,t,r)}handleUserChange(e,t,r){t.forEach(s=>{this.pr(s)}),this.currentUser=e,r.forEach(s=>{this.addPendingMutation(s)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Fe("SharedClientState","READ",e,t),t}setItem(e,t){Fe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Fe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Fe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.rr)return void xr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,he.Z)(function*(){if(t.started){if(null!==r.key)if(t.ar.test(r.key)){if(null==r.newValue){const s=t.Rr(r.key);return t.br(s,null)}{const s=t.Pr(r.key,r.newValue);if(s)return t.br(s.clientId,s)}}else if(t.cr.test(r.key)){if(null!==r.newValue){const s=t.Vr(r.key,r.newValue);if(s)return t.vr(s)}}else if(t.hr.test(r.key)){if(null!==r.newValue){const s=t.Sr(r.key,r.newValue);if(s)return t.Dr(s)}}else if(r.key===t.lr){if(null!==r.newValue){const s=t.wr(r.newValue);if(s)return t.mr(s)}}else if(r.key===t.ur){const s=function(u){let d=Ji.A;if(null!=u)try{const m=JSON.parse(u);Ne("number"==typeof m),d=m}catch(m){xr("SharedClientState","Failed to read sequence number from WebStorage",m)}return d}(r.newValue);s!==Ji.A&&t.sequenceNumberHandler(s)}else if(r.key===t.dr){const s=t.Cr(r.newValue);yield Promise.all(s.map(u=>t.syncEngine.Nr(u)))}}else t.ir.push(r)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,r){const s=new yh(this.currentUser,e,t,r),u=KD(this.persistenceKey,this.currentUser,e);this.setItem(u,s.Yi())}pr(e){const t=KD(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,r){const s=Ym(this.persistenceKey,e),u=new vp(e,t,r);this.setItem(s,u.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const r=this.Rr(e);return Qm.Ji(r,t)}Vr(e,t){const r=this.cr.exec(e),s=Number(r[1]);return yh.Ji(new Bn(void 0!==r[2]?r[2]:null),s,t)}Sr(e,t){const r=this.hr.exec(e),s=Number(r[1]);return vp.Ji(s,t)}wr(e){return oC.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,he.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Fe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const r=t?this.sr.insert(e,t):this.sr.remove(e),s=this.gr(this.sr),u=this.gr(r),d=[],m=[];return u.forEach(w=>{s.has(w)||d.push(w)}),s.forEach(w=>{u.has(w)||m.push(w)}),this.syncEngine.Or(d,m).then(()=>{this.sr=r})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=lh();return e.forEach((r,s)=>{t=t.unionWith(s.activeTargetIds)}),t}}class lC{constructor(){this.Fr=new aC,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new aC,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class YD{Br(e){}shutdown(){}}class QD{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Fe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){Fe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const OS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class PS{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class FS extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,r,s,u){const d=this.oo(e,t);Fe("RestConnection","Sending: ",d,r);const m={};return this.uo(m,s,u),this.ao(e,d,m,r).then(w=>(Fe("RestConnection","Received: ",w),w),w=>{throw Jd("RestConnection",`${e} failed with error: `,w,"url: ",d,"request:",r),w})}co(e,t,r,s,u){return this.ro(e,t,r,s,u)}uo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Qd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}oo(e,t){return`${this.so}/v1/${t}:${OS[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,s){return new Promise((u,d)=>{const m=new VE;m.listenOnce(FE.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Qg.NO_ERROR:const I=m.getResponseJson();Fe("Connection","XHR received:",JSON.stringify(I)),u(I);break;case Qg.TIMEOUT:Fe("Connection",'RPC "'+e+'" timed out'),d(new De(le.DEADLINE_EXCEEDED,"Request time out"));break;case Qg.HTTP_ERROR:const T=m.getStatus();if(Fe("Connection",'RPC "'+e+'" failed with status:',T,"response text:",m.getResponseText()),T>0){const M=m.getResponseJson().error;if(M&&M.status&&M.message){const U=function(j){const J=j.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(J)>=0?J:le.UNKNOWN}(M.status);d(new De(U,M.message))}else d(new De(le.UNKNOWN,"Server responded with status "+m.getStatus()))}else d(new De(le.UNAVAILABLE,"Connection failed."));break;default:it()}}finally{Fe("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(s);m.send(t,"POST",w,r,15)})}ho(e,t,r){const s=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=OE(),d=PE(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(m.xmlHttpFactory=new UE({})),this.uo(m.initMessageHeaders,t,r),(0,xt.uI)()||(0,xt.b$)()||(0,xt.d)()||(0,xt.w1)()||(0,xt.Mn)()||(0,xt.ru)()||(m.httpHeadersOverwriteParam="$httpHeaders");const w=s.join("");Fe("Connection","Creating WebChannel: "+w,m);const I=u.createWebChannel(w,m);let T=!1,M=!1;const U=new PS({jr:J=>{M?Fe("Connection","Not sending because WebChannel is closed:",J):(T||(Fe("Connection","Opening WebChannel transport."),I.open(),T=!0),Fe("Connection","WebChannel sending:",J),I.send(J))},Wr:()=>I.close()}),j=(J,Ae,Re)=>{J.listen(Ae,vt=>{try{Re(vt)}catch(We){setTimeout(()=>{throw We},0)}})};return j(I,zf.EventType.OPEN,()=>{M||Fe("Connection","WebChannel transport opened.")}),j(I,zf.EventType.CLOSE,()=>{M||(M=!0,Fe("Connection","WebChannel transport closed"),U.eo())}),j(I,zf.EventType.ERROR,J=>{M||(M=!0,Jd("Connection","WebChannel transport errored:",J),U.eo(new De(le.UNAVAILABLE,"The operation could not be completed")))}),j(I,zf.EventType.MESSAGE,J=>{var Ae;if(!M){const Re=J.data[0];Ne(!!Re);const vt=Re,We=vt.error||(null===(Ae=vt[0])||void 0===Ae?void 0:Ae.error);if(We){Fe("Connection","WebChannel received error:",We);const At=We.status;let Ke=function(Ze){const Mt=pr[Ze];if(void 0!==Mt)return pb(Mt)}(At),It=We.message;void 0===Ke&&(Ke=le.INTERNAL,It="Unknown error status: "+At+" with message "+We.message),M=!0,U.eo(new De(Ke,It)),I.close()}else Fe("Connection","WebChannel received:",Re),U.no(Re)}}),j(d,LE.STAT_EVENT,J=>{J.stat===Cv.PROXY?Fe("Connection","Detected buffering proxy"):J.stat===Cv.NOPROXY&&Fe("Connection","Detected no buffering proxy")}),setTimeout(()=>{U.Zr()},0),U}}function JD(){return"undefined"!=typeof window?window:null}function Jm(){return"undefined"!=typeof document?document:null}function Xm(n){return new vb(n,!0)}class cC{constructor(e,t,r=1e3,s=1.5,u=6e4){this.Jn=e,this.timerId=t,this.lo=r,this.fo=s,this._o=u,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),r=Math.max(0,Date.now()-this.yo),s=Math.max(0,t-r);s>0&&Fe("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,s,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class XD{constructor(e,t,r,s,u,d,m,w){this.Jn=e,this.Ao=r,this.Ro=s,this.bo=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new cC(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,he.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,he.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var r=this;return(0,he.Z)(function*(){r.Fo(),r.$o(),r.So.cancel(),r.Po++,4!==e?r.So.reset():t&&t.code===le.RESOURCE_EXHAUSTED?(xr(t.toString()),xr("Using maximum backoff delay to prevent overloading the backend."),r.So.po()):t&&t.code===le.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Bo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Po===t&&this.Uo(r,s)},r=>{e(()=>{const s=new De(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(s)})})}Uo(e,t){const r=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{r(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(s=>{r(()=>this.qo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}xo(){var e=this;this.state=5,this.So.Io((0,he.Z)(function*(){e.state=0,e.start()}))}qo(e){return Fe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(Fe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class LS extends XD{constructor(e,t,r,s,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,d),this.M=u}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function Ib(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:it(),s=e.targetChange.targetIds||[],u=function(w,I){return w.N?(Ne(void 0===I||"string"==typeof I),Mr.fromBase64String(I||"")):(Ne(void 0===I||I instanceof Uint8Array),Mr.fromUint8Array(I||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(w){const I=void 0===w.code?le.UNKNOWN:pb(w.code);return new De(I,w.message||"")}(d);t=new yb(r,s,u,m||null)}else if("documentChange"in e){const r=e.documentChange,s=lo(n,r.document.name),u=jr(r.document.updateTime),d=new Xr({mapValue:{fields:r.document.fields}}),m=mn.newFoundDocument(s,u,d);t=new Ac(r.targetIds||[],r.removedTargetIds||[],m.key,m)}else if("documentDelete"in e){const r=e.documentDelete,s=lo(n,r.document),u=r.readTime?jr(r.readTime):Ct.min(),d=mn.newNoDocument(s,u);t=new Ac([],r.removedTargetIds||[],d.key,d)}else if("documentRemove"in e){const r=e.documentRemove,s=lo(n,r.document);t=new Ac([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return it();{const r=e.filter,u=new fD(r.count||0);t=new ch(r.targetId,u)}}var w;return t}(this.M,e),r=function(s){if(!("targetChange"in s))return Ct.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?Ct.min():u.readTime?jr(u.readTime):Ct.min()}(e);return this.listener.Ko(t,r)}Qo(e){const t={};t.database=xc(this.M),t.addTarget=function(s,u){let d;const m=u.target;return d=om(m)?{documents:Hv(s,m)}:{query:Gv(s,m)},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?d.resumeToken=_m(s,u.resumeToken):u.snapshotVersion.compareTo(Ct.min())>0&&(d.readTime=dh(s,u.snapshotVersion.toTimestamp())),d}(this.M,e);const r=function Tb(n,e){const t=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return it()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Oo(t)}jo(e){const t={};t.database=xc(this.M),t.removeTarget=e,this.Oo(t)}}class i extends XD{constructor(e,t,r,s,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,d),this.M=u,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function bD(n,e){return n&&n.length>0?(Ne(void 0!==e),n.map(t=>function(r,s){let u=jr(r.updateTime?r.updateTime:s);return u.isEqual(Ct.min())&&(u=jr(s)),new cD(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=jr(e.commitTime);return this.listener.Jo(r,t)}return Ne(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=xc(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Mc(this.M,r))};this.Oo(t)}}class o extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=r,this.M=s,this.Zo=!1}tu(){if(this.Zo)throw new De(le.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.bo.ro(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new De(le.UNKNOWN,s.toString())})}co(e,t,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.bo.co(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new De(le.UNKNOWN,s.toString())})}terminate(){this.Zo=!0}}class a{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(xr(t),this.su=!1):Fe("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class l{constructor(e,t,r,s,u){var d=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=u,this.du.Br(m=>{r.enqueueAndForget((0,he.Z)(function*(){var w;ge(d)&&(Fe("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,he.Z)(function*(I){const T=qe(I);T.lu.add(4),yield _(T),T._u.set("Unknown"),T.lu.delete(4),yield h(T)}),function(I){return w.apply(this,arguments)})(d))}))}),this._u=new a(r,s)}}function h(n){return p.apply(this,arguments)}function p(){return p=(0,he.Z)(function*(n){if(ge(n))for(const e of n.fu)yield e(!0)}),p.apply(this,arguments)}function _(n){return E.apply(this,arguments)}function E(){return E=(0,he.Z)(function*(n){for(const e of n.fu)yield e(!1)}),E.apply(this,arguments)}function b(n,e){const t=qe(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),K(t)?V(t):ry(t).Co()&&x(t,e))}function A(n,e){const t=qe(n),r=ry(t);t.hu.delete(e),r.Co()&&P(t,e),0===t.hu.size&&(r.Co()?r.ko():ge(t)&&t._u.set("Unknown"))}function x(n,e){n.wu.Z(e.targetId),ry(n).Qo(e)}function P(n,e){n.wu.Z(e),ry(n).jo(e)}function V(n){n.wu=new yD({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.hu.get(e)||null}),ry(n).start(),n._u.iu()}function K(n){return ge(n)&&!ry(n).Do()&&n.hu.size>0}function ge(n){return 0===qe(n).lu.size}function Le(n){n.wu=void 0}function $e(n){return et.apply(this,arguments)}function et(){return et=(0,he.Z)(function*(n){n.hu.forEach((e,t)=>{x(n,e)})}),et.apply(this,arguments)}function Ce(n,e){return ht.apply(this,arguments)}function ht(){return ht=(0,he.Z)(function*(n,e){Le(n),K(n)?(n._u.uu(e),V(n)):n._u.set("Unknown")}),ht.apply(this,arguments)}function qt(n,e,t){return sn.apply(this,arguments)}function sn(){return sn=(0,he.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof yb&&2===e.state&&e.cause)try{yield(r=(0,he.Z)(function*(s,u){const d=u.cause;for(const m of u.targetIds)s.hu.has(m)&&(yield s.remoteSyncer.rejectListen(m,d),s.hu.delete(m),s.wu.removeTarget(m))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){Fe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield wi(n,r)}else if(e instanceof Ac?n.wu.ut(e):e instanceof ch?n.wu._t(e):n.wu.ht(e),!t.isEqual(Ct.min()))try{const r=yield Xb(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const d=s.wu.yt(u);return d.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const I=s.hu.get(w);I&&s.hu.set(w,I.withResumeToken(m.resumeToken,u))}}),d.targetMismatches.forEach(m=>{const w=s.hu.get(m);if(!w)return;s.hu.set(m,w.withResumeToken(Mr.EMPTY_BYTE_STRING,w.snapshotVersion)),P(s,m);const I=new kc(w.target,m,1,w.sequenceNumber);x(s,I)}),s.remoteSyncer.applyRemoteEvent(d)}(n,t))}catch(r){Fe("RemoteStore","Failed to raise snapshot:",r),yield wi(n,r)}var r}),sn.apply(this,arguments)}function wi(n,e,t){return Qa.apply(this,arguments)}function Qa(){return Qa=(0,he.Z)(function*(n,e,t){if(!il(e))throw e;n.lu.add(1),yield _(n),n._u.set("Offline"),t||(t=()=>Xb(n.localStore)),n.asyncQueue.enqueueRetryable((0,he.Z)(function*(){Fe("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield h(n)}))}),Qa.apply(this,arguments)}function ey(n,e){return e().catch(t=>wi(n,t,e))}function cl(n){return wp.apply(this,arguments)}function wp(){return wp=(0,he.Z)(function*(n){const e=qe(n),t=_h(e);let r=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;_0(e);)try{const s=yield Lc(e.localStore,r);if(null===s){0===e.cu.length&&t.ko();break}r=s.batchId,v0(e,s)}catch(s){yield wi(e,s)}ty(e)&&ny(e)}),wp.apply(this,arguments)}function _0(n){return ge(n)&&n.cu.length<10}function v0(n,e){n.cu.push(e);const t=_h(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function ty(n){return ge(n)&&!_h(n).Do()&&n.cu.length>0}function ny(n){_h(n).start()}function w0(n){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,he.Z)(function*(n){_h(n).Xo()}),Ep.apply(this,arguments)}function eR(n){return eT.apply(this,arguments)}function eT(){return eT=(0,he.Z)(function*(n){const e=_h(n);for(const t of n.cu)e.Ho(t.mutations)}),eT.apply(this,arguments)}function tR(n,e,t){return tT.apply(this,arguments)}function tT(){return tT=(0,he.Z)(function*(n,e,t){const r=n.cu.shift(),s=Bb.from(r,e,t);yield ey(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield cl(n)}),tT.apply(this,arguments)}function nR(n,e){return nT.apply(this,arguments)}function nT(){return nT=(0,he.Z)(function*(n,e){var t;e&&_h(n).zo&&(yield(t=(0,he.Z)(function*(r,s){if(fb(u=s.code)&&u!==le.ABORTED){const d=r.cu.shift();_h(r).No(),yield ey(r,()=>r.remoteSyncer.rejectFailedWrite(d.batchId,s)),yield cl(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),ty(n)&&ny(n)}),nT.apply(this,arguments)}function US(n,e){return rT.apply(this,arguments)}function rT(){return rT=(0,he.Z)(function*(n,e){const t=qe(n);t.asyncQueue.verifyOperationInProgress(),Fe("RemoteStore","RemoteStore received new credentials");const r=ge(t);t.lu.add(3),yield _(t),r&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield h(t)}),rT.apply(this,arguments)}function iT(n,e){return sT.apply(this,arguments)}function sT(){return sT=(0,he.Z)(function*(n,e){const t=qe(n);e?(t.lu.delete(2),yield h(t)):e||(t.lu.add(2),yield _(t),t._u.set("Unknown"))}),sT.apply(this,arguments)}function ry(n){return n.mu||(n.mu=function(e,t,r){const s=qe(e);return s.tu(),new LS(t,s.bo,s.authCredentials,s.appCheckCredentials,s.M,r)}(n.datastore,n.asyncQueue,{zr:$e.bind(null,n),Jr:Ce.bind(null,n),Ko:qt.bind(null,n)}),n.fu.push(function(){var e=(0,he.Z)(function*(t){t?(n.mu.No(),K(n)?V(n):n._u.set("Unknown")):(yield n.mu.stop(),Le(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function _h(n){return n.gu||(n.gu=function(e,t,r){const s=qe(e);return s.tu(),new i(t,s.bo,s.authCredentials,s.appCheckCredentials,s.M,r)}(n.datastore,n.asyncQueue,{zr:w0.bind(null,n),Jr:nR.bind(null,n),Yo:eR.bind(null,n),Jo:tR.bind(null,n)}),n.fu.push(function(){var e=(0,he.Z)(function*(t){t?(n.gu.No(),yield cl(n)):(yield n.gu.stop(),n.cu.length>0&&(Fe("RemoteStore",`Stopping write stream with ${n.cu.length} pending writes`),n.cu=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class oT{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}static createAndSchedule(e,t,r,s,u){const d=Date.now()+r,m=new oT(e,t,d,s,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new De(le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(n,e){if(xr("AsyncQueue",`${e}: ${n}`),il(n))return new De(le.UNAVAILABLE,`${e}: ${n}`);throw n}class sy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Be.comparator(t.key,r.key):(t,r)=>Be.comparator(t.key,r.key),this.keyedMap=jv(),this.sortedSet=new Sn(this.comparator)}static emptySet(e){return new sy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new sy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class VS{constructor(){this.yu=new Sn(Be.comparator)}track(e){const t=e.doc.key,r=this.yu.get(t);r?0!==e.type&&3===r.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==r.type?this.yu=this.yu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.yu=this.yu.remove(t):1===e.type&&2===r.type?this.yu=this.yu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):it():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,r)=>{e.push(r)}),e}}class oy{constructor(e,t,r,s,u,d,m,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,r,s){const u=[];return t.forEach(d=>{u.push({type:0,doc:d})}),new oy(e,t,sy.emptySet(t),u,r,s,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&rp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class rR{constructor(){this.Iu=void 0,this.listeners=[]}}class iR{constructor(){this.queries=new rl(e=>Cc(e),rp),this.onlineState="Unknown",this.Tu=new Set}}function aT(n,e){return uT.apply(this,arguments)}function uT(){return uT=(0,he.Z)(function*(n,e){const t=qe(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new rR),s)try{u.Iu=yield t.onListen(r)}catch(d){const m=iy(d,`Initialization of query '${Ic(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Eu(t.onlineState),u.Iu&&e.Au(u.Iu)&&dT(t)}),uT.apply(this,arguments)}function lT(n,e){return cT.apply(this,arguments)}function cT(){return cT=(0,he.Z)(function*(n,e){const t=qe(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const d=u.listeners.indexOf(e);d>=0&&(u.listeners.splice(d,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),cT.apply(this,arguments)}function sR(n,e){const t=qe(n);let r=!1;for(const s of e){const d=t.queries.get(s.query);if(d){for(const m of d.listeners)m.Au(s)&&(r=!0);d.Iu=s}}r&&dT(t)}function oR(n,e,t){const r=qe(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function dT(n){n.Tu.forEach(e=>{e.next()})}class hT{constructor(e,t,r){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=r||{}}Au(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new oy(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=oy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class aR{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class BS{constructor(e){this.M=e}li(e){return lo(this.M,e)}fi(e){return e.metadata.exists?Cb(this.M,e.document,!1):mn.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return jr(e)}}class uR{constructor(e,t,r){this.xu=e,this.localStore=t,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=jS(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=zt.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,r=new BS(this.M);for(const s of e)if(s.metadata.queries){const u=r.li(s.metadata.name);for(const d of s.metadata.queries){const m=(t.get(d)||Qt()).add(u);t.set(d,m)}}return t}complete(){var e=this;return(0,he.Z)(function*(){const t=yield function kS(n,e,t,r){return eC.apply(this,arguments)}(e.localStore,new BS(e.M),e.documents,e.xu.id),r=e.ku(e.documents);for(const s of e.queries)yield NS(e.localStore,s,r.get(s.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function jS(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class $S{constructor(e){this.key=e}}class HS{constructor(e){this.key=e}}class GS{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Qt(),this.mutatedKeys=Qt(),this.Lu=Nv(e),this.Uu=new sy(this.Lu)}get qu(){return this.Fu}Gu(e,t){const r=t?t.Ku:new VS,s=t?t.Uu:this.Uu;let u=t?t.mutatedKeys:this.mutatedKeys,d=s,m=!1;const w=ep(this.query)&&s.size===this.query.limit?s.last():null,I=cm(this.query)&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((T,M)=>{const U=s.get(T),j=kv(this.query,M)?M:null,J=!!U&&this.mutatedKeys.has(U.key),Ae=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let Re=!1;U&&j?U.data.isEqual(j.data)?J!==Ae&&(r.track({type:3,doc:j}),Re=!0):this.Qu(U,j)||(r.track({type:2,doc:j}),Re=!0,(w&&this.Lu(j,w)>0||I&&this.Lu(j,I)<0)&&(m=!0)):!U&&j?(r.track({type:0,doc:j}),Re=!0):U&&!j&&(r.track({type:1,doc:U}),Re=!0,(w||I)&&(m=!0)),Re&&(j?(d=d.add(j),u=Ae?u.add(T):u.delete(T)):(d=d.delete(T),u=u.delete(T)))}),ep(this.query)||cm(this.query))for(;d.size>this.query.limit;){const T=ep(this.query)?d.last():d.first();d=d.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{Uu:d,Ku:r,ei:m,mutatedKeys:u}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const u=e.Ku.pu();u.sort((I,T)=>function(M,U){const j=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return it()}};return j(M)-j(U)}(I.type,T.type)||this.Lu(I.doc,T.doc)),this.ju(r);const d=t?this.Wu():[],m=0===this.Bu.size&&this.current?1:0,w=m!==this.$u;return this.$u=m,0!==u.length||w?{snapshot:new oy(this.query,e.Uu,s,u,e.mutatedKeys,0===m,w,!1),zu:d}:{zu:d}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new VS,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Qt(),this.Uu.forEach(r=>{this.Hu(r.key)&&(this.Bu=this.Bu.add(r.key))});const t=[];return e.forEach(r=>{this.Bu.has(r)||t.push(new HS(r))}),this.Bu.forEach(r=>{e.has(r)||t.push(new $S(r))}),t}Ju(e){this.Fu=e.hi,this.Bu=Qt();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return oy.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class lR{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class cR{constructor(e){this.key=e,this.Xu=!1}}class dR{constructor(e,t,r,s,u,d){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.Zu={},this.ta=new rl(m=>Cc(m),rp),this.ea=new Map,this.na=new Set,this.sa=new Sn(Be.comparator),this.ia=new Map,this.ra=new y0,this.oa={},this.ua=new Map,this.aa=ni.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function hR(n,e){return fT.apply(this,arguments)}function fT(){return fT=(0,he.Z)(function*(n,e){const t=FT(n);let r,s;const u=t.ta.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.Yu();else{const d=yield Uc(t.localStore,ao(e));t.isPrimaryClient&&b(t.remoteStore,d);const m=t.sharedClientState.addLocalQueryTarget(d.targetId);r=d.targetId,s=yield pT(t,e,r,"current"===m)}return s}),fT.apply(this,arguments)}function pT(n,e,t,r){return gT.apply(this,arguments)}function gT(){return gT=(0,he.Z)(function*(n,e,t,r){n.ha=(T,M,U)=>{return(j=(0,he.Z)(function*(J,Ae,Re,vt){let We=Ae.view.Gu(Re);We.ei&&(We=yield qm(J.localStore,Ae.query,!1).then(({documents:It})=>Ae.view.Gu(It,We)));const At=vt&&vt.targetChanges.get(Ae.targetId),Ke=Ae.view.applyChanges(We,J.isPrimaryClient,At);return DT(J,Ae.targetId,Ke.zu),Ke.snapshot}),function(J,Ae,Re,vt){return j.apply(this,arguments)})(n,T,M,U);var j};const s=yield qm(n.localStore,e,!0),u=new GS(e,s.hi),d=u.Gu(s.documents),m=lp.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),w=u.applyChanges(d,n.isPrimaryClient,m);DT(n,t,w.zu);const I=new lR(e,t,u);return n.ta.set(e,I),n.ea.has(t)?n.ea.get(t).push(e):n.ea.set(t,[e]),w.snapshot}),gT.apply(this,arguments)}function fR(n,e){return mT.apply(this,arguments)}function mT(){return mT=(0,he.Z)(function*(n,e){const t=qe(n),r=t.ta.get(e),s=t.ea.get(r.targetId);if(s.length>1)return t.ea.set(r.targetId,s.filter(u=>!rp(u,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield ll(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),A(t.remoteStore,r.targetId),ay(t,r.targetId)}).catch(Fc))):(ay(t,r.targetId),yield ll(t.localStore,r.targetId,!0))}),mT.apply(this,arguments)}function yT(){return yT=(0,he.Z)(function*(n,e,t){const r=LT(n);try{const s=yield function(u,d){const m=qe(u),w=tr.now(),I=d.reduce((M,U)=>M.add(U.key),Qt());let T;return m.persistence.runTransaction("Locally write mutations","readwrite",M=>m.ai.qs(M,I).next(U=>{T=U;const j=[];for(const J of d){const Ae=dD(J,T.get(J.key));null!=Ae&&j.push(new nl(J.key,Ae,QE(Ae.value.mapValue),An.exists(!0)))}return m.$s.addMutationBatch(M,w,j,d)})).then(M=>(M.applyToLocalDocumentSet(T),{batchId:M.batchId,changes:T}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,m){let w=u.oa[u.currentUser.toKey()];w||(w=new Sn(Gt)),w=w.insert(d,m),u.oa[u.currentUser.toKey()]=w}(r,s.batchId,t),yield Vc(r,s.changes),yield cl(r.remoteStore)}catch(s){const u=iy(s,"Failed to persist write");t.reject(u)}}),yT.apply(this,arguments)}function qS(n,e){return _T.apply(this,arguments)}function _T(){return _T=(0,he.Z)(function*(n,e){const t=qe(n);try{const r=yield GD(t.localStore,e);e.targetChanges.forEach((s,u)=>{const d=t.ia.get(u);d&&(Ne(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?d.Xu=!0:s.modifiedDocuments.size>0?Ne(d.Xu):s.removedDocuments.size>0&&(Ne(d.Xu),d.Xu=!1))}),yield Vc(t,r,e)}catch(r){yield Fc(r)}}),_T.apply(this,arguments)}function ZS(n,e,t){const r=qe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.ta.forEach((u,d)=>{const m=d.view.Eu(e);m.snapshot&&s.push(m.snapshot)}),function(u,d){const m=qe(u);m.onlineState=d;let w=!1;m.queries.forEach((I,T)=>{for(const M of T.listeners)M.Eu(d)&&(w=!0)}),w&&dT(m)}(r.eventManager,e),s.length&&r.Zu.Ko(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function gR(n,e,t){return vT.apply(this,arguments)}function vT(){return vT=(0,he.Z)(function*(n,e,t){const r=qe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.ia.get(e),u=s&&s.key;if(u){let d=new Sn(Be.comparator);d=d.insert(u,mn.newNoDocument(u,Ct.min()));const m=Qt().add(u),w=new Xi(Ct.min(),new Map,new wn(Gt),d,m);yield qS(r,w),r.sa=r.sa.remove(u),r.ia.delete(e),TT(r)}else yield ll(r.localStore,e,!1).then(()=>ay(r,e,t)).catch(Fc)}),vT.apply(this,arguments)}function mR(n,e){return wT.apply(this,arguments)}function wT(){return wT=(0,he.Z)(function*(n,e){const t=qe(n),r=e.batch.batchId;try{const s=yield Gm(t.localStore,e);IT(t,r,null),CT(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Vc(t,s)}catch(s){yield Fc(s)}}),wT.apply(this,arguments)}function yR(n,e,t){return ET.apply(this,arguments)}function ET(){return ET=(0,he.Z)(function*(n,e,t){const r=qe(n);try{const s=yield function(u,d){const m=qe(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let I;return m.$s.lookupMutationBatch(w,d).next(T=>(Ne(null!==T),I=T.keys(),m.$s.removeMutationBatch(w,T))).next(()=>m.$s.performConsistencyCheck(w)).next(()=>m.ai.qs(w,I))})}(r.localStore,e);IT(r,e,t),CT(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Vc(r,s)}catch(s){yield Fc(s)}}),ET.apply(this,arguments)}function bT(){return bT=(0,he.Z)(function*(n,e){const t=qe(n);ge(t.remoteStore)||Fe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(u){const d=qe(u);return d.persistence.runTransaction("Get highest unacknowledged batch id","readonly",m=>d.$s.getHighestUnacknowledgedBatchId(m))}(t.localStore);if(-1===r)return void e.resolve();const s=t.ua.get(r)||[];s.push(e),t.ua.set(r,s)}catch(r){const s=iy(r,"Initialization of waitForPendingWrites() operation failed");e.reject(s)}}),bT.apply(this,arguments)}function CT(n,e){(n.ua.get(e)||[]).forEach(t=>{t.resolve()}),n.ua.delete(e)}function IT(n,e,t){const r=qe(n);let s=r.oa[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.oa[r.currentUser.toKey()]=s}}function ay(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.ea.get(e))n.ta.delete(r),t&&n.Zu.la(r,t);n.ea.delete(e),n.isPrimaryClient&&n.ra.Ri(e).forEach(r=>{n.ra.containsKey(r)||zS(n,r)})}function zS(n,e){n.na.delete(e.path.canonicalString());const t=n.sa.get(e);null!==t&&(A(n.remoteStore,t),n.sa=n.sa.remove(e),n.ia.delete(t),TT(n))}function DT(n,e,t){for(const r of t)r instanceof $S?(n.ra.addReference(r.key,e),vR(n,r)):r instanceof HS?(Fe("SyncEngine","Document no longer in limbo: "+r.key),n.ra.removeReference(r.key,e),n.ra.containsKey(r.key)||zS(n,r.key)):it()}function vR(n,e){const t=e.key,r=t.path.canonicalString();n.sa.get(t)||n.na.has(r)||(Fe("SyncEngine","New document in limbo: "+t),n.na.add(r),TT(n))}function TT(n){for(;n.na.size>0&&n.sa.size<n.maxConcurrentLimboResolutions;){const e=n.na.values().next().value;n.na.delete(e);const t=new Be(zt.fromString(e)),r=n.aa.next();n.ia.set(r,new cR(t)),n.sa=n.sa.insert(t,r),b(n.remoteStore,new kc(ao(oh(t.path)),r,2,Ji.A))}}function Vc(n,e,t){return AT.apply(this,arguments)}function AT(){return AT=(0,he.Z)(function*(n,e,t){const r=qe(n),s=[],u=[],d=[];var m;r.ta.isEmpty()||(r.ta.forEach((m,w)=>{d.push(r.ha(w,e,t).then(I=>{if(I){r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,I.fromCache?"not-current":"current"),s.push(I);const T=Jb.Js(w.targetId,I);u.push(T)}}))}),yield Promise.all(d),r.Zu.Ko(s),yield(m=(0,he.Z)(function*(w,I){const T=qe(w);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>fe.forEach(I,U=>fe.forEach(U.zs,j=>T.persistence.referenceDelegate.addReference(M,U.targetId,j)).next(()=>fe.forEach(U.Hs,j=>T.persistence.referenceDelegate.removeReference(M,U.targetId,j)))))}catch(M){if(!il(M))throw M;Fe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of I){const U=M.targetId;if(!M.fromCache){const j=T.si.get(U),Ae=j.withLastLimboFreeSnapshotVersion(j.snapshotVersion);T.si=T.si.insert(U,Ae)}}}),function(w,I){return m.apply(this,arguments)})(r.localStore,u))}),AT.apply(this,arguments)}function wR(n,e){return ST.apply(this,arguments)}function ST(){return ST=(0,he.Z)(function*(n,e){const t=qe(n);if(!t.currentUser.isEqual(e)){Fe("SyncEngine","User change. New user:",e.toKey());const r=yield HD(t.localStore,e);t.currentUser=e,(s=t).ua.forEach(d=>{d.forEach(m=>{m.reject(new De(le.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ua.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Vc(t,r.ci)}var s}),ST.apply(this,arguments)}function ER(n,e){const t=qe(n),r=t.ia.get(e);if(r&&r.Xu)return Qt().add(r.key);{let s=Qt();const u=t.ea.get(e);if(!u)return s;for(const d of u){const m=t.ta.get(d);s=s.unionWith(m.view.qu)}return s}}function bR(n,e){return xT.apply(this,arguments)}function xT(){return xT=(0,he.Z)(function*(n,e){const t=qe(n),r=yield qm(t.localStore,e.query,!0),s=e.view.Ju(r);return t.isPrimaryClient&&DT(t,e.targetId,s.zu),s}),xT.apply(this,arguments)}function CR(n,e){return MT.apply(this,arguments)}function MT(){return MT=(0,he.Z)(function*(n,e){const t=qe(n);return zm(t.localStore,e).then(r=>Vc(t,r))}),MT.apply(this,arguments)}function IR(n,e,t,r){return RT.apply(this,arguments)}function RT(){return RT=(0,he.Z)(function*(n,e,t,r){const s=qe(n),u=yield function(d,m){const w=qe(d),I=qe(w.$s);return w.persistence.runTransaction("Lookup mutation documents","readonly",T=>I.ln(T,m).next(M=>M?w.ai.qs(T,M):fe.resolve(null)))}(s.localStore,e);var m;null!==u?("pending"===t?yield cl(s.remoteStore):"acknowledged"===t||"rejected"===t?(IT(s,e,r||null),CT(s,e),m=e,qe(qe(s.localStore).$s).dn(m)):it(),yield Vc(s,u)):Fe("SyncEngine","Cannot apply mutation batch with id: "+e)}),RT.apply(this,arguments)}function kT(){return kT=(0,he.Z)(function*(n,e){const t=qe(n);if(FT(t),LT(t),!0===e&&!0!==t.ca){const r=t.sharedClientState.getAllActiveQueryTargets(),s=yield WS(t,r.toArray());t.ca=!0,yield iT(t.remoteStore,!0);for(const u of s)b(t.remoteStore,u)}else if(!1===e&&!1!==t.ca){const r=[];let s=Promise.resolve();t.ea.forEach((u,d)=>{t.sharedClientState.isLocalQueryTarget(d)?r.push(d):s=s.then(()=>(ay(t,d),ll(t.localStore,d,!0))),A(t.remoteStore,d)}),yield s,yield WS(t,r),function(u){const d=qe(u);d.ia.forEach((m,w)=>{A(d.remoteStore,w)}),d.ra.bi(),d.ia=new Map,d.sa=new Sn(Be.comparator)}(t),t.ca=!1,yield iT(t.remoteStore,!1)}}),kT.apply(this,arguments)}function WS(n,e,t){return NT.apply(this,arguments)}function NT(){return NT=(0,he.Z)(function*(n,e,t){const r=qe(n),s=[],u=[];for(const d of e){let m;const w=r.ea.get(d);if(w&&0!==w.length){m=yield Uc(r.localStore,ao(w[0]));for(const I of w){const T=r.ta.get(I),M=yield bR(r,T);M.snapshot&&u.push(M.snapshot)}}else{const I=yield Zm(r.localStore,d);m=yield Uc(r.localStore,I),yield pT(r,KS(I),d,!1)}s.push(m)}return r.Zu.Ko(u),s}),NT.apply(this,arguments)}function KS(n){return lm(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function TR(n){const e=qe(n);return qe(qe(e.localStore).persistence).Os()}function AR(n,e,t,r){return OT.apply(this,arguments)}function OT(){return OT=(0,he.Z)(function*(n,e,t,r){const s=qe(n);if(s.ca)return void Fe("SyncEngine","Ignoring unexpected query state notification.");const u=s.ea.get(e);if(u&&u.length>0)switch(t){case"current":case"not-current":{const d=yield zm(s.localStore,aD(u[0])),m=Xi.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield Vc(s,d,m);break}case"rejected":yield ll(s.localStore,e,!0),ay(s,e,r);break;default:it()}}),OT.apply(this,arguments)}function SR(n,e,t){return PT.apply(this,arguments)}function PT(){return PT=(0,he.Z)(function*(n,e,t){const r=FT(n);if(r.ca){for(const s of e){if(r.ea.has(s)){Fe("SyncEngine","Adding an already active target "+s);continue}const u=yield Zm(r.localStore,s),d=yield Uc(r.localStore,u);yield pT(r,KS(u),d.targetId,!1),b(r.remoteStore,d)}for(const s of t)r.ea.has(s)&&(yield ll(r.localStore,s,!1).then(()=>{A(r.remoteStore,s),ay(r,s)}).catch(Fc))}}),PT.apply(this,arguments)}function FT(n){const e=qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=qS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=ER.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gR.bind(null,e),e.Zu.Ko=sR.bind(null,e.eventManager),e.Zu.la=oR.bind(null,e.eventManager),e}function LT(n){const e=qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=mR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yR.bind(null,e),e}class YS{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,he.Z)(function*(){t.M=Xm(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return $D(this.persistence,new jD,e.initialUser,this.M)}_a(e){return new zD(Wm.Wi,this.M)}da(e){return new lC}terminate(){var e=this;return(0,he.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class QS extends YS{constructor(e,t,r){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,he.Z)(function*(){yield t().call(r,e),yield r.ga.initialize(r,e),yield LT(r.ga.syncEngine),yield cl(r.ga.remoteStore),yield r.persistence.Is(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}ma(e){return $D(this.persistence,new jD,e.initialUser,this.M)}wa(e){return new MS(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=p0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Pi.withCacheSize(this.cacheSizeBytes):Pi.DEFAULT;return new Qb(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,JD(),Jm(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new lC}}class MR extends QS{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,he.Z)(function*(){yield t().call(r,e);const s=r.ga.syncEngine;r.sharedClientState instanceof uC&&(r.sharedClientState.syncEngine={kr:IR.bind(null,s),Mr:AR.bind(null,s),Or:SR.bind(null,s),Os:TR.bind(null,s),Nr:CR.bind(null,s)},yield r.sharedClientState.start()),yield r.persistence.Is(function(){var u=(0,he.Z)(function*(d){yield function DR(n,e){return kT.apply(this,arguments)}(r.ga.syncEngine,d),r.gcScheduler&&(d&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):d||r.gcScheduler.stop())});return function(d){return u.apply(this,arguments)}}())})()}da(e){const t=JD();if(!uC.vt(t))throw new De(le.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=p0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new uC(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class UT{initialize(e,t){var r=this;return(0,he.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>ZS(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=wR.bind(null,r.syncEngine),yield iT(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new iR}createDatastore(e){const t=Xm(e.databaseInfo.databaseId),r=new FS(e.databaseInfo);return new o(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=m=>ZS(this.syncEngine,m,0),d=QD.vt()?new QD:new YD,new l(t,r,s,u,d);var t,r,s,u,d}createSyncEngine(e,t){return function(r,s,u,d,m,w,I){const T=new dR(r,s,u,d,m,w);return I&&(T.ca=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,he.Z)(function*(t){const r=qe(t);Fe("RemoteStore","RemoteStore shutting down."),r.lu.add(5),yield _(r),r.du.shutdown(),r._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function JS(n,e=10240){let t=0;return{read:()=>(0,he.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,he.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class dC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class RR{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new Vr,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(r=>{r&&r.Cu()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,he.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,he.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,he.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const r=e.Ta.decode(t),s=Number(r);isNaN(s)&&e.Ra(`length string (${r}) is not valid number`);const u=yield e.ba(s);return new aR(JSON.parse(u),t.length+s)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,he.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}ba(e){var t=this;return(0,he.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const r=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,he.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class kR{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,he.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new De(le.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(s=(0,he.Z)(function*(u,d){const m=qe(u),w=xc(m.M)+"/documents",I={documents:d.map(j=>Sc(m.M,j))},T=yield m.co("BatchGetDocuments",w,I),M=new Map;T.forEach(j=>{const J=function ED(n,e){return"found"in e?function(t,r){Ne(!!r.found);const s=lo(t,r.found.name),u=jr(r.found.updateTime),d=new Xr({mapValue:{fields:r.found.fields}});return mn.newFoundDocument(s,u,d)}(n,e):"missing"in e?function(t,r){Ne(!!r.missing),Ne(!!r.readTime);const s=lo(t,r.missing),u=jr(r.readTime);return mn.newNoDocument(s,u)}(n,e):it()}(m.M,j);M.set(J.key.toString(),J)});const U=[];return d.forEach(j=>{const J=M.get(j.toString());Ne(!!J),U.push(J)}),U}),function(u,d){return s.apply(this,arguments)})(t.datastore,e);var s;return r.forEach(s=>t.recordVersion(s)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new uh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,he.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,s)=>{const u=Be.fromPath(s);e.mutations.push(new Vv(u,e.precondition(u)))}),yield(r=(0,he.Z)(function*(s,u){const d=qe(s),m=xc(d.M)+"/documents",w={writes:u.map(I=>Mc(d.M,I))};yield d.ro("Commit",m,w)}),function(s,u){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw it();t=Ct.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new De(le.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?An.updateTime(t):An.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Ct.min()))throw new De(le.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return An.updateTime(t)}return An.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class NR{constructor(e,t,r,s){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=s,this.va=5,this.So=new cC(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,he.Z)(function*(){const t=new kR(e.datastore),r=e.Da(t);r&&r.then(s=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(s)}).catch(u=>{e.Ca(u)}))}).catch(s=>{e.Ca(s)})}))}Da(e){try{const t=this.updateFunction(e);return!nh(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!fb(t)}return!1}}class OR{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Bn.UNAUTHENTICATED,this.clientId=GE.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var d=(0,he.Z)(function*(m){Fe("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return d.apply(this,arguments)}}()),this.appCheckCredentials.start(r,d=>(Fe("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}getConfiguration(){var e=this;return(0,he.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new De(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=iy(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function XS(n,e){return VT.apply(this,arguments)}function VT(){return VT=(0,he.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Fe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,he.Z)(function*(u){r.isEqual(u)||(yield HD(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),VT.apply(this,arguments)}function ex(n,e){return BT.apply(this,arguments)}function BT(){return BT=(0,he.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield jT(n);Fe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>US(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>US(e.remoteStore,u)),n.onlineComponents=e}),BT.apply(this,arguments)}function jT(n){return $T.apply(this,arguments)}function $T(){return $T=(0,he.Z)(function*(n){return n.offlineComponents||(Fe("FirestoreClient","Using default OfflineComponentProvider"),yield XS(n,new YS)),n.offlineComponents}),$T.apply(this,arguments)}function hC(n){return HT.apply(this,arguments)}function HT(){return HT=(0,he.Z)(function*(n){return n.onlineComponents||(Fe("FirestoreClient","Using default OnlineComponentProvider"),yield ex(n,new UT)),n.onlineComponents}),HT.apply(this,arguments)}function tx(n){return jT(n).then(e=>e.persistence)}function GT(n){return jT(n).then(e=>e.localStore)}function nx(n){return hC(n).then(e=>e.remoteStore)}function qT(n){return hC(n).then(e=>e.syncEngine)}function uy(n){return ZT.apply(this,arguments)}function ZT(){return ZT=(0,he.Z)(function*(n){const e=yield hC(n),t=e.eventManager;return t.onListen=hR.bind(null,e.syncEngine),t.onUnlisten=fR.bind(null,e.syncEngine),t}),ZT.apply(this,arguments)}function rx(n,e,t={}){const r=new Vr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(s,u,d,m,w){const I=new dC({next:M=>{u.enqueueAndForget(()=>lT(s,T));const U=M.docs.has(d);!U&&M.fromCache?w.reject(new De(le.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&M.fromCache&&m&&"server"===m.source?w.reject(new De(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(M)},error:M=>w.reject(M)}),T=new hT(oh(d.path),I,{includeMetadataChanges:!0,Du:!0});return aT(s,T)}(yield uy(n),n.asyncQueue,e,t,r)})),r.promise}function ix(n,e,t={}){const r=new Vr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(s,u,d,m,w){const I=new dC({next:M=>{u.enqueueAndForget(()=>lT(s,T)),M.fromCache&&"server"===m.source?w.reject(new De(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(M)},error:M=>w.reject(M)}),T=new hT(d,I,{includeMetadataChanges:!0,Du:!0});return aT(s,T)}(yield uy(n),n.asyncQueue,e,t,r)})),r.promise}const sx=new Map;function zT(n,e,t){if(!t)throw new De(le.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function ox(n,e,t,r){if(!0===e&&!0===r)throw new De(le.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function ax(n){if(!Be.isDocumentKey(n))throw new De(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ux(n){if(Be.isDocumentKey(n))throw new De(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function fC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":it()}function Xt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new De(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=fC(n);throw new De(le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function lx(n,e){if(e<=0)throw new De(le.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class cx{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new De(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new De(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,ox("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class E0{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cx({}),this._settingsFrozen=!1,e instanceof Ju?this._databaseId=e:(this._app=e,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new De(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ju(s.options.projectId)}(e))}get app(){if(!this._app)throw new De(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new De(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cx(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Xg;switch(t.type){case"gapi":const r=t.client;return Ne(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new WI(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new De(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sx.get(e);t&&(Fe("ComponentProvider","Removing Datastore"),sx.delete(e),t.terminate())}(this),Promise.resolve()}}class $n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class es{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new es(this.firestore,e,this._query)}}class dl extends es{constructor(e,t,r){super(e,t,oh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new Be(e))}withConverter(e){return new dl(this.firestore,e,this._path)}}function dx(n,e,...t){if(n=(0,xt.m9)(n),zT("collection","path",e),n instanceof E0){const r=zt.fromString(e,...t);return ux(r),new dl(n,null,r)}{if(!(n instanceof $n||n instanceof dl))throw new De(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zt.fromString(e,...t));return ux(r),new dl(n.firestore,null,r)}}function pC(n,e,...t){if(n=(0,xt.m9)(n),1===arguments.length&&(e=GE.R()),zT("doc","path",e),n instanceof E0){const r=zt.fromString(e,...t);return ax(r),new $n(n,null,new Be(r))}{if(!(n instanceof $n||n instanceof dl))throw new De(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(zt.fromString(e,...t));return ax(r),new $n(n.firestore,n instanceof dl?n.converter:null,new Be(r))}}function hx(n,e){return n=(0,xt.m9)(n),e=(0,xt.m9)(e),(n instanceof $n||n instanceof dl)&&(e instanceof $n||e instanceof dl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function fx(n,e){return n=(0,xt.m9)(n),e=(0,xt.m9)(e),n instanceof es&&e instanceof es&&n.firestore===e.firestore&&rp(n._query,e._query)&&n.converter===e.converter}class qR{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new cC(this,"async_queue_retry"),this.Ua=()=>{const t=Jm();t&&Fe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=Jm();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=Jm();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new Vr;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,he.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!il(t))throw t;Fe("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(r=>{throw this.Fa=r,this.$a=!1,xr("INTERNAL UNHANDLED ERROR: ",function(u){let d=u.message||"";return u.stack&&(d=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),d}(r)),r}).then(r=>(this.$a=!1,r))));return this.Na=t,t}enqueueAfterDelay(e,t,r){this.qa(),this.La.indexOf(e)>-1&&(t=0);const s=oT.createAndSchedule(this,e,t,r,u=>this.Qa(u));return this.Oa.push(s),s}qa(){this.Fa&&it()}verifyOperationInProgress(){}ja(){var e=this;return(0,he.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function WT(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class ZR{constructor(){this._progressObserver={},this._taskCompletionResolver=new Vr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Yn extends E0{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new qR,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||px(this),this._firestoreClient.terminate()}}function Hr(n){return n._firestoreClient||px(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function px(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new XI(n._databaseId,u,n._persistenceKey,(m=t).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,m.useFetchStreams));var u,m;n._firestoreClient=new OR(n._authCredentials,n._appCheckCredentials,n._queue,r)}function gx(n,e,t){const r=new Vr;return n.asyncQueue.enqueue((0,he.Z)(function*(){try{yield XS(n,t),yield ex(n,e),r.resolve()}catch(s){if(!("FirebaseError"===(u=s).name?u.code===le.FAILED_PRECONDITION||u.code===le.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var u})).then(()=>r.promise)}function mx(n){if(n._initialized||n._terminated)throw new De(le.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Bc{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new De(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hl(Mr.fromBase64String(e))}catch(t){throw new De(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hl(Mr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class bp{constructor(e){this._methodName=e}}class gC{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new De(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new De(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gt(this._lat,e._lat)||Gt(this._long,e._long)}}const nk=/^__.*__$/;class rk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new nl(e,this.data,this.fieldMask,t,this.fieldTransforms):new mm(e,this.data,t,this.fieldTransforms)}}class yx{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new nl(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function _x(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw it()}}class mC{constructor(e,t,r,s,u,d){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=s,void 0===u&&this.Ja(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new mC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Xa({path:r,tc:!1});return s.ec(e),s}nc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.Xa({path:r,tc:!1});return s.Ja(),s}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return vC(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(_x(this.Ya)&&nk.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class ik{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||Xm(e)}uc(e,t,r,s=!1){return new mC({Ya:e,methodName:t,oc:r,path:Wn.emptyPath(),tc:!1,rc:s},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Cp(n){const e=n._freezeSettings(),t=Xm(n._databaseId);return new ik(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yC(n,e,t,r,s,u={}){const d=n.uc(u.merge||u.mergeFields?2:0,e,t,s);JT("Data must be an object, but it was:",d,r);const m=Ex(r,d);let w,I;if(u.merge)w=new pa(d.fieldMask),I=d.fieldTransforms;else if(u.mergeFields){const T=[];for(const M of u.mergeFields){const U=XT(e,M,t);if(!d.contains(U))throw new De(le.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);Cx(T,U)||T.push(U)}w=new pa(T),I=d.fieldTransforms.filter(M=>w.covers(M.field))}else w=null,I=d.fieldTransforms;return new rk(new Xr(m),w,I)}class b0 extends bp{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof b0}}function vx(n,e,t){return new mC({Ya:3,oc:e.settings.oc,methodName:n._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class KT extends bp{_toFieldTransform(e){return new pm(e.path,new ma)}isEqual(e){return e instanceof KT}}class sk extends bp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=vx(this,e,!0),r=this.ac.map(u=>Ip(u,t)),s=new Dc(r);return new pm(e.path,s)}isEqual(e){return this===e}}class ok extends bp{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=vx(this,e,!0),r=this.ac.map(u=>Ip(u,t)),s=new tl(r);return new pm(e.path,s)}isEqual(e){return this===e}}class ak extends bp{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new ah(e.M,lb(e.M,this.cc));return new pm(e.path,t)}isEqual(e){return this===e}}function YT(n,e,t,r){const s=n.uc(1,e,t);JT("Data must be an object, but it was:",s,r);const u=[],d=Xr.empty();fa(r,(w,I)=>{const T=_C(e,w,t);I=(0,xt.m9)(I);const M=s.nc(T);if(I instanceof b0)u.push(T);else{const U=Ip(I,M);null!=U&&(u.push(T),d.set(T,U))}});const m=new pa(u);return new yx(d,m,s.fieldTransforms)}function QT(n,e,t,r,s,u){const d=n.uc(1,e,t),m=[XT(e,r,t)],w=[s];if(u.length%2!=0)throw new De(le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<u.length;U+=2)m.push(XT(e,u[U])),w.push(u[U+1]);const I=[],T=Xr.empty();for(let U=m.length-1;U>=0;--U)if(!Cx(I,m[U])){const j=m[U];let J=w[U];J=(0,xt.m9)(J);const Ae=d.nc(j);if(J instanceof b0)I.push(j);else{const Re=Ip(J,Ae);null!=Re&&(I.push(j),T.set(j,Re))}}const M=new pa(I);return new yx(T,M,d.fieldTransforms)}function wx(n,e,t,r=!1){return Ip(t,n.uc(r?4:3,e))}function Ip(n,e){if(bx(n=(0,xt.m9)(n)))return JT("Unsupported field value:",e,n),Ex(n,e);if(n instanceof bp)return function(t,r){if(!_x(r.Ya))throw r.ic(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ic(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const d of t){let m=Ip(d,r.sc(u));null==m&&(m={nullValue:"NULL_VALUE"}),s.push(m),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,xt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return lb(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=tr.fromDate(t);return{timestampValue:dh(r.M,s)}}if(t instanceof tr){const s=new tr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:dh(r.M,s)}}if(t instanceof gC)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof hl)return{bytesValue:_m(r.M,t._byteString)};if(t instanceof $n){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r.ic(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:$v(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ic(`Unsupported field value: ${fC(t)}`)}(n,e)}function Ex(n,e){const t={};return Dv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fa(n,(r,s)=>{const u=Ip(s,e.Za(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function bx(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof tr||n instanceof gC||n instanceof hl||n instanceof $n||n instanceof bp)}function JT(n,e,t){if(!bx(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=fC(t);throw e.ic("an object"===r?n+" a custom object":n+" "+r)}var r}function XT(n,e,t){if((e=(0,xt.m9)(e))instanceof Bc)return e._internalPath;if("string"==typeof e)return _C(n,e);throw vC("Field path arguments must be of type string or ",n,!1,void 0,t)}const uk=new RegExp("[~\\*/\\[\\]]");function _C(n,e,t){if(e.search(uk)>=0)throw vC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Bc(...e.split("."))._internalPath}catch(r){throw vC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function vC(n,e,t,r,s){const u=r&&!r.isEmpty(),d=void 0!==s;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||d)&&(w+=" (found",u&&(w+=` in field ${r}`),d&&(w+=` in document ${s}`),w+=")"),new De(le.INVALID_ARGUMENT,m+n+w)}function Cx(n,e){return n.some(t=>t.isEqual(e))}class C0{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new lk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(wC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class lk extends C0{data(){return super.data()}}function wC(n,e){return"string"==typeof e?_C(n,e):e instanceof Bc?e._internalPath:e._delegate._internalPath}class Dp{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class jc extends C0{constructor(e,t,r,s,u,d){super(e,t,r,s,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new I0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(wC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class I0 extends jc{data(e={}){return super.data(e)}}class vh{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Dp(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new I0(this._firestore,this._userDataWriter,r.key,r,new Dp(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new De(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(d=>({type:"added",doc:new I0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Dp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(d=>s||3!==d.type).map(d=>{const m=new I0(r._firestore,r._userDataWriter,d.doc.key,d.doc,new Dp(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,I=-1;return 0!==d.type&&(w=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),1!==d.type&&(u=u.add(d.doc),I=u.indexOf(d.doc.key)),{type:ck(d.type),doc:m,oldIndex:w,newIndex:I}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ck(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return it()}}function Ix(n,e){return n instanceof jc&&e instanceof jc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof vh&&e instanceof vh&&n._firestore===e._firestore&&fx(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Dx(n){if(cm(n)&&0===n.explicitOrderBy.length)throw new De(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class D0{}function wh(n,...e){for(const t of e)n=t._apply(n);return n}class dk extends D0{constructor(e,t,r){super(),this.hc=e,this.lc=t,this.fc=r,this.type="where"}_apply(e){const t=Cp(e.firestore),r=function(s,u,d,m,w,I,T){let M;if(w.isKeyField()){if("array-contains"===I||"array-contains-any"===I)throw new De(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${I}' queries on documentId().`);if("in"===I||"not-in"===I){Rx(T,I);const j=[];for(const J of T)j.push(Mx(m,s,J));M={arrayValue:{values:j}}}else M=Mx(m,s,T)}else"in"!==I&&"not-in"!==I&&"array-contains-any"!==I||Rx(T,I),M=wx(d,"where",T,"in"===I||"not-in"===I);const U=ei.create(w,I,M);return function(j,J){if(J.S()){const Re=Rv(j);if(null!==Re&&!Re.isEqual(J.field))throw new De(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Re.toString()}' and '${J.field.toString()}'`);const vt=dm(j);null!==vt&&kx(0,J.field,vt)}const Ae=function(Re,vt){for(const We of Re.filters)if(vt.indexOf(We.op)>=0)return We.op;return null}(j,function(Re){switch(Re){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(J.op));if(null!==Ae)throw new De(le.INVALID_ARGUMENT,Ae===J.op?`Invalid query. You cannot use more than one '${J.op.toString()}' filter.`:`Invalid query. You cannot use '${J.op.toString()}' filters with '${Ae.toString()}' filters.`)}(s,U),U}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new es(e.firestore,e.converter,function(s,u){const d=s.filters.concat([u]);return new Wa(s.path,s.collectionGroup,s.explicitOrderBy.slice(),d,s.limit,s.limitType,s.startAt,s.endAt)}(e._query,r))}}class fk extends D0{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new De(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new De(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const d=new el(s,u);return function(m,w){if(null===dm(m)){const I=Rv(m);null!==I&&kx(0,I,w.field)}}(r,d),d}(e._query,this.hc,this.dc);return new es(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new Wa(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Tx extends D0{constructor(e,t,r){super(),this.type=e,this._c=t,this.wc=r}_apply(e){return new es(e.firestore,e.converter,np(e._query,this._c,this.wc))}}class Ax extends D0{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=xx(e,this.type,this.mc,this.gc);return new es(e.firestore,e.converter,(s=t,new Wa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class Sx extends D0{constructor(e,t,r){super(),this.type=e,this.mc=t,this.gc=r}_apply(e){const t=xx(e,this.type,this.mc,this.gc);return new es(e.firestore,e.converter,(s=t,new Wa((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function xx(n,e,t,r){if(t[0]=(0,xt.m9)(t[0]),t[0]instanceof C0)return function(s,u,d,m,w){if(!m)throw new De(le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${d}().`);const I=[];for(const T of tp(s))if(T.field.isKeyField())I.push(ih(u,m.key));else{const M=m.data.field(T.field);if(Tv(M))throw new De(le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const U=T.field.canonicalString();throw new De(le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}I.push(M)}return new ga(I,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Cp(n.firestore);return function(u,d,m,w,I,T){const M=u.explicitOrderBy;if(I.length>M.length)throw new De(le.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let j=0;j<I.length;j++){const J=I[j];if(M[j].field.isKeyField()){if("string"!=typeof J)throw new De(le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof J}`);if(!hm(u)&&-1!==J.indexOf("/"))throw new De(le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${J}' contains a slash.`);const Ae=u.path.child(zt.fromString(J));if(!Be.isDocumentKey(Ae))throw new De(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Ae}' is not because it contains an odd number of segments.`);const Re=new Be(Ae);U.push(ih(d,Re))}else{const Ae=wx(m,w,J);U.push(Ae)}}return new ga(U,T)}(n._query,n.firestore._databaseId,s,e,t,r)}}function Mx(n,e,t){if("string"==typeof(t=(0,xt.m9)(t))){if(""===t)throw new De(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hm(e)&&-1!==t.indexOf("/"))throw new De(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(zt.fromString(t));if(!Be.isDocumentKey(r))throw new De(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return ih(n,new Be(r))}if(t instanceof $n)return ih(n,t._key);throw new De(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${fC(t)}.`)}function Rx(n,e){if(!Array.isArray(n)||0===n.length)throw new De(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new De(le.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function kx(n,e,t){if(!t.isEqual(e))throw new De(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class eA{convertValue(e,t="none"){switch(vc(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw it()}}convertObject(e,t){const r={};return fa(e.fields,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new gC(jn(e.latitude),jn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Av(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Kf(e));default:return null}}convertTimestamp(e){const t=qa(e);return new tr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=zt.fromString(e);Ne(TD(r));const s=new Ju(r.get(1),r.get(3)),u=new Be(r.popFirst(5));return s.isEqual(t)||xr(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function EC(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Ek extends eA{constructor(e){super(),this.firestore=e}convertBytes(e){return new hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}class Nx{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Cp(e)}set(e,t,r){this._verifyNotCommitted();const s=Eh(e,this._firestore),u=EC(s.converter,t,r),d=yC(this._dataReader,"WriteBatch.set",s._key,u,null!==s.converter,r);return this._mutations.push(d.toMutation(s._key,An.none())),this}update(e,t,r,...s){this._verifyNotCommitted();const u=Eh(e,this._firestore);let d;return d="string"==typeof(t=(0,xt.m9)(t))||t instanceof Bc?QT(this._dataReader,"WriteBatch.update",u._key,t,r,s):YT(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(d.toMutation(u._key,An.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Eh(e,this._firestore);return this._mutations=this._mutations.concat(new uh(t._key,An.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new De(le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Eh(n,e){if((n=(0,xt.m9)(n)).firestore!==e)throw new De(le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Tp extends eA{constructor(e){super(),this.firestore=e}convertBytes(e){return new hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function Ox(n,e,t){n=Xt(n,$n);const r=Xt(n.firestore,Yn),s=EC(n.converter,e,t);return ly(r,[yC(Cp(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,An.none())])}function Px(n,e,t,...r){n=Xt(n,$n);const s=Xt(n.firestore,Yn),u=Cp(s);let d;return d="string"==typeof(e=(0,xt.m9)(e))||e instanceof Bc?QT(u,"updateDoc",n._key,e,t,r):YT(u,"updateDoc",n._key,e),ly(s,[d.toMutation(n._key,An.exists(!0))])}function Fx(n,...e){var t,r,s;n=(0,xt.m9)(n);let u={includeMetadataChanges:!1},d=0;"object"!=typeof e[d]||WT(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges};if(WT(e[d])){const M=e[d];e[d]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[d+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[d+2]=null===(s=M.complete)||void 0===s?void 0:s.bind(M)}let w,I,T;if(n instanceof $n)I=Xt(n.firestore,Yn),T=oh(n._key.path),w={next:M=>{e[d]&&e[d](tA(I,n,M))},error:e[d+1],complete:e[d+2]};else{const M=Xt(n,es);I=Xt(M.firestore,Yn),T=M._query;const U=new Tp(I);w={next:j=>{e[d]&&e[d](new vh(I,U,M,j))},error:e[d+1],complete:e[d+2]},Dx(n._query)}return function(M,U,j,J){const Ae=new dC(J),Re=new hT(U,Ae,j);return M.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return aT(yield uy(M),Re)})),()=>{Ae.pa(),M.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return lT(yield uy(M),Re)}))}}(Hr(I),T,m,w)}function ly(n,e){return function(t,r){const s=new Vr;return t.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function pR(n,e,t){return yT.apply(this,arguments)}(yield qT(t),r,s)})),s.promise}(Hr(n),e)}function tA(n,e,t){const r=t.docs.get(e._key),s=new Tp(n);return new jc(n,s,e._key,r,new Dp(t.hasPendingWrites,t.fromCache),e.converter)}class Rk extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Cp(e)}get(e){const t=Eh(e,this._firestore),r=new Ek(this._firestore);return this._transaction.lookup([t._key]).then(s=>{if(!s||1!==s.length)return it();const u=s[0];if(u.isFoundDocument())return new C0(this._firestore,r,u.key,u,t.converter);if(u.isNoDocument())return new C0(this._firestore,r,t._key,null,t.converter);throw it()})}set(e,t,r){const s=Eh(e,this._firestore),u=EC(s.converter,t,r),d=yC(this._dataReader,"Transaction.set",s._key,u,null!==s.converter,r);return this._transaction.set(s._key,d),this}update(e,t,r,...s){const u=Eh(e,this._firestore);let d;return d="string"==typeof(t=(0,xt.m9)(t))||t instanceof Bc?QT(this._dataReader,"Transaction.update",u._key,t,r,s):YT(this._dataReader,"Transaction.update",u._key,t),this._transaction.update(u._key,d),this}delete(e){const t=Eh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Eh(e,this._firestore),r=new Tp(this._firestore);return super.get(e).then(s=>new jc(this._firestore,r,t._key,s._document,new Dp(!1,!1),t.converter))}}function nA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new De("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ux(){if("undefined"==typeof Uint8Array)throw new De("unimplemented","Uint8Arrays are not available in this environment.")}function Vx(){if(!function QI(){return"undefined"!=typeof atob}())throw new De("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){Qd=Es.SDK_VERSION,(0,Es._registerComponent)(new cf.wA("firestore",(t,{options:r})=>{const s=t.getProvider("app").getImmediate(),u=new Yn(s,new bS(t.getProvider("auth-internal")),new $E(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),u._setSettings(r),u},"PUBLIC")),(0,Es.registerVersion)(Iv,"3.4.7",n),(0,Es.registerVersion)(Iv,"3.4.7","esm2017")}();class T0{constructor(e){this._delegate=e}static fromBase64String(e){return Vx(),new T0(hl.fromBase64String(e))}static fromUint8Array(e){return Ux(),new T0(hl.fromUint8Array(e))}toBase64(){return Vx(),this._delegate.toBase64()}toUint8Array(){return Ux(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function rA(n){return function Bk(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class jk{enableIndexedDbPersistence(e,t){return function WR(n,e){mx(n=Xt(n,Yn));const t=Hr(n),r=n._freezeSettings(),s=new UT;return gx(t,s,new QS(s,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function KR(n){mx(n=Xt(n,Yn));const e=Hr(n),t=n._freezeSettings(),r=new UT;return gx(e,r,new MR(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function YR(n){if(n._initialized&&!n._terminated)throw new De(le.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Vr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{yield(t=(0,he.Z)(function*(r){if(!Vo.vt())return Promise.resolve();const s=r+"main";yield Vo.delete(s)}),function(r){return t.apply(this,arguments)})(p0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Bx{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ju||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Jd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function HR(n,e,t,r={}){var s;const u=(n=Xt(n,E0))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Jd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let d,m;if("string"==typeof r.mockUserToken)d=r.mockUserToken,m=Bn.MOCK_USER;else{d=(0,xt.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new De(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new Bn(w)}n._authCredentials=new zn(new Wf(d,m))}}(this._delegate,e,t,r)}enableNetwork(){return function JR(n){return function PR(n){return n.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield tx(n),t=yield nx(n);return e.setNetworkEnabled(!0),function(r){const s=qe(r);return s.lu.delete(0),h(s)}(t)}))}(Hr(n=Xt(n,Yn)))}(this._delegate)}disableNetwork(){return function XR(n){return function FR(n){return n.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield tx(n),t=yield nx(n);return e.setNetworkEnabled(!1),(r=(0,he.Z)(function*(s){const u=qe(s);u.lu.add(0),yield _(u),u._u.set("Offline")}),function(s){return r.apply(this,arguments)})(t);var r}))}(Hr(n=Xt(n,Yn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,ox("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function QR(n){return function(e){const t=new Vr;return e.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function _R(n,e){return bT.apply(this,arguments)}(yield qT(e),t)})),t.promise}(Hr(n=Xt(n,Yn)))}(this._delegate)}onSnapshotsInSync(e){return function Mk(n,e){return function VR(n,e){const t=new dC(e);return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return r=yield uy(n),s=t,qe(r).Tu.add(s),void s.next();var r,s})),()=>{t.pa(),n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return r=yield uy(n),s=t,void qe(r).Tu.delete(s);var r,s}))}}(Hr(n=Xt(n,Yn)),WT(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new De("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new cy(this,dx(this._delegate,e))}catch(t){throw Ss(t,"collection()","Firestore.collection()")}}doc(e){try{return new _a(this,pC(this._delegate,e))}catch(t){throw Ss(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new xs(this,function GR(n,e){if(n=Xt(n,E0),zT("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new De(le.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new es(n,null,(t=e,new Wa(zt.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ss(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function kk(n,e){return function BR(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){const r=yield(s=n,hC(s).then(u=>u.datastore));var s;new NR(n.asyncQueue,r,e,t).run()})),t.promise}(Hr(n=Xt(n,Yn)),t=>e(new Rk(n,t)))}(this._delegate,t=>e(new jx(this,t)))}batch(){return Hr(this._delegate),new $x(new Nx(this._delegate,e=>ly(this._delegate,e)))}loadBundle(e){return function ek(n,e){const t=Hr(n=Xt(n,Yn)),r=new ZR;return function jR(n,e,t,r){const s=function(u,d){let m;return m="string"==typeof u?(new TextEncoder).encode(u):u,w=function(w,I){if(w instanceof Uint8Array)return JS(w,I);if(w instanceof ArrayBuffer)return JS(new Uint8Array(w),I);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(m),new RR(w,d);var w}(t,Xm(e));n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){!function xR(n,e,t){const r=qe(n);var s;(s=(0,he.Z)(function*(u,d,m){try{const w=yield d.getMetadata();if(yield function(U,j){const J=qe(U),Ae=jr(j.createTime);return J.persistence.runTransaction("hasNewerBundle","readonly",Re=>J.ds.getBundleMetadata(Re,j.id)).then(Re=>!!Re&&Re.createTime.compareTo(Ae)>=0)}(u.localStore,w))return yield d.close(),m._completeWith({taskState:"Success",documentsLoaded:(U=w).totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}),Promise.resolve(new Set);m._updateProgress(jS(w));const I=new uR(w,u.localStore,d.M);let T=yield d.fa();for(;T;){const U=yield I.Nu(T);U&&m._updateProgress(U),T=yield d.fa()}const M=yield I.complete();return yield Vc(u,M.Ou,void 0),yield function(U,j){const J=qe(U);return J.persistence.runTransaction("Save bundle","readwrite",Ae=>J.ds.saveBundleMetadata(Ae,j))}(u.localStore,w),m._completeWith(M.progress),Promise.resolve(M.Mu)}catch(w){return Jd("SyncEngine",`Loading bundle failed with ${w}`),m._failWith(w),Promise.resolve(new Set)}var U}),function(u,d,m){return s.apply(this,arguments)})(r,e,t).then(s=>{r.sharedClientState.notifyBundleLoaded(s)})}(yield qT(n),s,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function tk(n,e){return function $R(n,e){return n.asyncQueue.enqueue((0,he.Z)(function*(){return function(t,r){const s=qe(t);return s.persistence.runTransaction("Get named query","readonly",u=>s.ds.getNamedQuery(u,r))}(yield GT(n),e)}))}(Hr(n=Xt(n,Yn)),e).then(t=>t?new es(n,null,t.query):null)}(this._delegate,e).then(t=>t?new xs(this,t):null)}}class bC extends eA{constructor(e){super(),this.firestore=e}convertBytes(e){return new T0(new hl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return _a.forKey(t,this.firestore,null)}}class jx{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new bC(e)}get(e){const t=Sp(e);return this._delegate.get(t).then(r=>new A0(this._firestore,new jc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const s=Sp(e);return r?(nA("Transaction.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=Sp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=Sp(e);return this._delegate.delete(t),this}}class $x{constructor(e){this._delegate=e}set(e,t,r){const s=Sp(e);return r?(nA("WriteBatch.set",r),this._delegate.set(s,t,r)):this._delegate.set(s,t),this}update(e,t,r,...s){const u=Sp(e);return 2===arguments.length?this._delegate.update(u,t):this._delegate.update(u,t,r,...s),this}delete(e){const t=Sp(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Ap{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new I0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new S0(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Ap.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new Ap(e,new bC(e),t),s.set(t,u)),u}}Ap.INSTANCES=new WeakMap;class _a{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bC(e)}static forPath(e,t,r){if(e.length%2!=0)throw new De("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new _a(t,new $n(t._delegate,r,new Be(e)))}static forKey(e,t,r){return new _a(t,new $n(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new cy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new cy(this.firestore,dx(this._delegate,e))}catch(t){throw Ss(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,xt.m9)(e))instanceof $n&&hx(this._delegate,e)}set(e,t){t=nA("DocumentReference.set",t);try{return t?Ox(this._delegate,e,t):Ox(this._delegate,e)}catch(r){throw Ss(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?Px(this._delegate,e):Px(this._delegate,e,t,...r)}catch(s){throw Ss(s,"updateDoc()","DocumentReference.update()")}}delete(){return function Sk(n){return ly(Xt(n.firestore,Yn),[new uh(n._key,An.none())])}(this._delegate)}onSnapshot(...e){const t=Hx(e),r=Gx(e,s=>new A0(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return Fx(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Ck(n){n=Xt(n,$n);const e=Xt(n.firestore,Yn),t=Hr(e),r=new Tp(e);return function LR(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(r=(0,he.Z)(function*(s,u,d){try{const m=yield function(w,I){const T=qe(w);return T.persistence.runTransaction("read document","readonly",M=>T.ai.Bs(M,I))}(s,u);m.isFoundDocument()?d.resolve(m):m.isNoDocument()?d.resolve(null):d.reject(new De(le.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=iy(m,`Failed to get document '${u} from cache`);d.reject(w)}}),function(s,u,d){return r.apply(this,arguments)})(yield GT(n),e,t);var r})),t.promise}(t,n._key).then(s=>new jc(e,r,n._key,s,new Dp(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function Ik(n){n=Xt(n,$n);const e=Xt(n.firestore,Yn);return rx(Hr(e),n._key,{source:"server"}).then(t=>tA(e,n,t))}(this._delegate):function bk(n){n=Xt(n,$n);const e=Xt(n.firestore,Yn);return rx(Hr(e),n._key).then(t=>tA(e,n,t))}(this._delegate),t.then(r=>new A0(this.firestore,new jc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new _a(this.firestore,this._delegate.withConverter(e?Ap.getInstance(this.firestore,e):null))}}function Ss(n,e,t){return n.message=n.message.replace(e,t),n}function Hx(n){for(const e of n)if("object"==typeof e&&!rA(e))return e;return{}}function Gx(n,e){var t,r;let s;return s=rA(n[0])?n[0]:rA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class A0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new _a(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ix(this._delegate,e._delegate)}}class S0 extends A0{data(e){const t=this._delegate.data(e);return function zI(n,e){n||it()}(void 0!==t),t}}class xs{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new bC(e)}where(e,t,r){try{return new xs(this.firestore,wh(this._delegate,function hk(n,e,t){const r=e,s=wC("where",n);return new dk(s,r,t)}(e,t,r)))}catch(s){throw Ss(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new xs(this.firestore,wh(this._delegate,function pk(n,e="asc"){const t=e,r=wC("orderBy",n);return new fk(r,t)}(e,t)))}catch(r){throw Ss(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new xs(this.firestore,wh(this._delegate,function gk(n){return lx("limit",n),new Tx("limit",n,"F")}(e)))}catch(t){throw Ss(t,"limit()","Query.limit()")}}limitToLast(e){try{return new xs(this.firestore,wh(this._delegate,function mk(n){return lx("limitToLast",n),new Tx("limitToLast",n,"L")}(e)))}catch(t){throw Ss(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new xs(this.firestore,wh(this._delegate,function yk(...n){return new Ax("startAt",n,!0)}(...e)))}catch(t){throw Ss(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new xs(this.firestore,wh(this._delegate,function _k(...n){return new Ax("startAfter",n,!1)}(...e)))}catch(t){throw Ss(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new xs(this.firestore,wh(this._delegate,function vk(...n){return new Sx("endBefore",n,!1)}(...e)))}catch(t){throw Ss(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new xs(this.firestore,wh(this._delegate,function wk(...n){return new Sx("endAt",n,!0)}(...e)))}catch(t){throw Ss(t,"endAt()","Query.endAt()")}}isEqual(e){return fx(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function Tk(n){n=Xt(n,es);const e=Xt(n.firestore,Yn),t=Hr(e),r=new Tp(e);return function UR(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(r=(0,he.Z)(function*(s,u,d){try{const m=yield qm(s,u,!0),w=new GS(u,m.hi),I=w.Gu(m.documents),T=w.applyChanges(I,!1);d.resolve(T.snapshot)}catch(m){const w=iy(m,`Failed to execute query '${u} against cache`);d.reject(w)}}),function(s,u,d){return r.apply(this,arguments)})(yield GT(n),e,t);var r})),t.promise}(t,n._query).then(s=>new vh(e,r,n,s))}(this._delegate):"server"===(null==e?void 0:e.source)?function Ak(n){n=Xt(n,es);const e=Xt(n.firestore,Yn),t=Hr(e),r=new Tp(e);return ix(t,n._query,{source:"server"}).then(s=>new vh(e,r,n,s))}(this._delegate):function Dk(n){n=Xt(n,es);const e=Xt(n.firestore,Yn),t=Hr(e),r=new Tp(e);return Dx(n._query),ix(t,n._query).then(s=>new vh(e,r,n,s))}(this._delegate),t.then(r=>new iA(this.firestore,new vh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Hx(e),r=Gx(e,s=>new iA(this.firestore,new vh(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return Fx(this._delegate,t,r)}withConverter(e){return new xs(this.firestore,this._delegate.withConverter(e?Ap.getInstance(this.firestore,e):null))}}class Hk{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new S0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class iA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new xs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new S0(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Hk(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new S0(this._firestore,r))})}isEqual(e){return Ix(this._delegate,e._delegate)}}class cy extends xs{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new _a(this.firestore,e):null}doc(e){try{return new _a(this.firestore,void 0===e?pC(this._delegate):pC(this._delegate,e))}catch(t){throw Ss(t,"doc()","CollectionReference.doc()")}}add(e){return function xk(n,e){const t=Xt(n.firestore,Yn),r=pC(n),s=EC(n.converter,e);return ly(t,[yC(Cp(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,An.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new _a(this.firestore,t))}isEqual(e){return hx(this._delegate,e._delegate)}withConverter(e){return new cy(this.firestore,this._delegate.withConverter(e?Ap.getInstance(this.firestore,e):null))}}function Sp(n){return Xt(n,$n)}class sA{constructor(...e){this._delegate=new Bc(...e)}static documentId(){return new sA(Wn.keyField().canonicalString())}isEqual(e){return(e=(0,xt.m9)(e))instanceof Bc&&this._delegate._internalPath.isEqual(e._internalPath)}}class xp{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Ok(){return new KT("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new xp(e)}static delete(){const e=function Nk(){return new b0("deleteField")}();return e._methodName="FieldValue.delete",new xp(e)}static arrayUnion(...e){const t=function Pk(...n){return new sk("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new xp(t)}static arrayRemove(...e){const t=function Fk(...n){return new ok("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new xp(t)}static increment(e){const t=function Lk(n){return new ak("increment",n)}(e);return t._methodName="FieldValue.increment",new xp(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Gk={Firestore:Bx,GeoPoint:gC,Timestamp:tr,Blob:T0,Transaction:jx,WriteBatch:$x,DocumentReference:_a,DocumentSnapshot:A0,Query:xs,QueryDocumentSnapshot:S0,QuerySnapshot:iA,CollectionReference:cy,FieldPath:sA,FieldValue:xp,setLogLevel:function $k(n){!function ES(n){Ku.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function qx(n,e){return function zk(n,e=o_.z){return new Cr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function oA(n,e){return qx(n,e).pipe((0,Tt.U)(t=>({payload:t,type:"query"})))}function CC(n,e){return oA(n,e).pipe(Si(void 0),O_(),(0,Tt.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(d=>({type:d.type,payload:d}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((d,m)=>{const w=s.find(T=>T.doc.ref.isEqual(d.ref)),I=null==t?void 0:t.payload.docs.find(T=>T.ref.isEqual(d.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(d.metadata)||!w&&I&&JSON.stringify(I.metadata)===JSON.stringify(d.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:d}})}),u}))}function Zx(n,e,t){return CC(n,t).pipe(Ir((r,s)=>function Kk(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Yk(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return aA(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return aA(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return aA(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),function P_(n,e=ci.y){return n=null!=n?n:CI,(0,cr.e)((t,r)=>{let s,u=!0;t.subscribe((0,Cn.x)(r,d=>{const m=e(d);(u||!n(s,m))&&(u=!1,s=m,r.next(d))}))})}(),(0,Tt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function aA(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function zx(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function Zk(n){(function qk(n,e){n.INTERNAL.registerComponent(new cf.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),s=t.getProvider("firestore").getImmediate();return e(r,s)},"PUBLIC").setServiceProps(Object.assign({},Gk)))})(n,(e,t)=>new Bx(e,t,new jk)),n.registerVersion("@firebase/firestore-compat","0.1.16")}(F_.Z);class Wx{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=CC(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Tt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(Si(void 0),O_(),Gi(([r,s])=>s.length>0||!r),(0,Tt.U)(([r,s])=>s),tt.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ir((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=zx(e);return Zx(this.query,t,this.afs.schedulers.outsideAngular).pipe(tt.iC)}valueChanges(e={}){return oA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),tt.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(tt.iC)}add(e){return this.ref.add(e)}doc(e){return new Kx(this.ref.doc(e),this.afs)}}class Kx{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=Jx(r,t);return new Wx(s,u,this.afs)}snapshotChanges(){return function Wk(n,e){return qx(n,e).pipe(Si(void 0),O_(),(0,Tt.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(tt.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Tt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pn.D)(this.ref.get(e)).pipe(tt.iC)}}class Qk{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?CC(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Gi(t=>t.length>0),tt.iC):CC(this.query,this.afs.schedulers.outsideAngular).pipe(tt.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ir((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=zx(e);return Zx(this.query,t,this.afs.schedulers.outsideAngular).pipe(tt.iC)}valueChanges(e={}){return oA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Tt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),tt.iC)}get(e){return(0,pn.D)(this.query.get(e)).pipe(tt.iC)}}const Yx=new c.OlP("angularfire2.enableFirestorePersistence"),Qx=new c.OlP("angularfire2.firestore.persistenceSettings"),Jk=new c.OlP("angularfire2.firestore.settings"),Xk=new c.OlP("angularfire2.firestore.use-emulator");function Jx(n,e=(t=>t)){return{query:e(n),ref:n}}let uA=(()=>{class n{constructor(t,r,s,u,d,m,w,I,T,M,U,j,J,Ae,Re,vt,We){this.schedulers=w;const At=(0,mi.on)(t,m,r),Ke=T;M&&N_(At,m,U,J,Ae,Re,j,vt),[this.firestore,this.persistenceEnabled$]=(0,mi.cc)(`${At.name}.firestore`,"AngularFirestore",At.name,()=>{const It=m.runOutsideAngular(()=>At.firestore());if(u&&It.settings(u),Ke&&It.useEmulator(...Ke),s&&!ar(d)){const Ze=()=>{try{return(0,pn.D)(It.enablePersistence(I||void 0).then(()=>!0,()=>!1))}catch(Mt){return"undefined"!=typeof console&&console.warn(Mt),dt(!1)}};return[It,m.runOutsideAngular(Ze)]}return[It,dt(!1)]},[u,Ke,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:d}=Jx(s,r),m=this.schedulers.ngZone.run(()=>u);return new Wx(m,d,this)}collectionGroup(t,r){const s=r||(d=>d),u=this.firestore.collectionGroup(t);return new Qk(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new Kx(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mi.Dh),c.LFG(mi.xv,8),c.LFG(Yx,8),c.LFG(Jk,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(tt.HU),c.LFG(Qx,8),c.LFG(Xk,8),c.LFG(ua,8),c.LFG(bg,8),c.LFG(k_,8),c.LFG(Cg,8),c.LFG(Fd,8),c.LFG(Fw,8),c.LFG(Ig,8),c.LFG(Od,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),eN=(()=>{class n{constructor(){Pd.Z.registerVersion("angularfire",tt.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:Yx,useValue:!0},{provide:Qx,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[uA]}),n})(),lA=(()=>{class n{constructor(t,r,s,u){this.auth=t,this.db=r,this.router=s,this.route=u,this.redirect=!1,this.usersColleciton=r.collection("users"),this.isAuthenticated$=t.user.pipe((0,Tt.U)(d=>!!d)),this.isAuthenticatedWithDelay$=this.isAuthenticated$.pipe(function tw(n,e=o_.z){const t=function QC(n=0,e,t=o_.P){let r=-1;return null!=e&&((0,YC.K)(e)?t=e:r=e),new Cr.y(s=>{let u=function No(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;u<0&&(u=0);let d=0;return t.schedule(function(){s.closed||(s.next(d++),0<=r?this.schedule(void 0,r):s.complete())},u)})}(n,e);return ew(()=>t)}(1e3)),this.router.events.pipe(Gi(d=>d instanceof Na),(0,Tt.U)(d=>this.route.firstChild),hn(d=>{var m;return null!==(m=null==d?void 0:d.data)&&void 0!==m?m:dt({})})).subscribe(d=>{var m;this.redirect=null!==(m=d.authOnly)&&void 0!==m&&m})}createUser(t){var r=this;return(0,he.Z)(function*(){if(!t.password)throw new Error("Password not provided!");const s=yield r.auth.createUserWithEmailAndPassword(t.email,t.password);if(!s.user)throw new Error("User can't be found");yield r.usersColleciton.doc(s.user.uid).set({name:t.name,email:t.email,age:t.age,phoneNumber:t.phoneNumber}),yield s.user.updateProfile({displayName:t.name})})()}logout(t){var r=this;return(0,he.Z)(function*(){t&&t.preventDefault(),yield r.auth.signOut(),r.redirect&&(yield r.router.navigateByUrl("/"))})()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ua),c.LFG(uA),c.LFG(Ar),c.LFG(vs))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x0=(()=>{class n{constructor(){this.modals=[]}register(t){this.modals.push({id:t,visible:!1})}unregister(t){this.modals=this.modals.filter(r=>r.id!==t)}isModalOpen(t){var r;return Boolean(null===(r=this.modals.find(s=>s.id===t))||void 0===r?void 0:r.visible)}toggleModal(t){const r=this.modals.find(s=>s.id===t);r&&(r.visible=!r.visible)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function tN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li")(1,"a",15),c.NdJ("click",function(s){return c.CHM(t),c.oxw().openModal(s)}),c._uU(2,"Login / Register"),c.qZA()()}}const Xx=function(){return{exact:!0}},nN=function(){return{sort:"1"}};function rN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li")(1,"a",16),c._uU(2," Manage"),c.qZA()(),c.TgZ(3,"li")(4,"a",17),c._uU(5,"Upload"),c.qZA()(),c.TgZ(6,"li")(7,"a",18),c.NdJ("click",function(s){return c.CHM(t),c.oxw().auth.logout(s)}),c._uU(8,"Logout"),c.qZA()()}2&n&&(c.xp6(1),c.Q6J("routerLinkActiveOptions",c.DdM(3,Xx))("queryParams",c.DdM(4,nN)),c.xp6(3),c.Q6J("routerLinkActiveOptions",c.DdM(5,Xx)))}let iN=(()=>{class n{constructor(t,r){this.modal=t,this.auth=r,this.isAuthenticated=!1}ngOnInit(){}openModal(t){t.preventDefault(),this.modal.toggleModal("auth")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(x0),c.Y36(lA))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-nav"]],decls:24,vars:4,consts:[["id","header",1,"bg-secondary","px-8"],[1,"container","mx-auto","flex","justify-start","items-center","py-8","px-4"],["routerLink","/",1,"text-3xl","text-indigo-400","font-bold","uppercase","mr-4"],[1,"flex","flex-grow","items-center"],[1,"flex","flex-row","mt-1"],[4,"ngIf","ngIfElse"],["authLinks",""],["routerLinkActive","text-indigo-400"],["routerLink","/about","routerLinkActive","text-indigo-400",1,"px-2"],[1,"flex","flex-row","ml-auto"],["href","#"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAAA1CAMAAACA7r40AAAA/FBMVEWyIjNPN2Y8O27///8/PnBOTXxycpY9PG9RUX5HR3dIR3dLSnlPTny4uMpWVYFFRHVwb5VlZIx7e52DgqOIh6aIiKc+PXBJSHhTUn9hYYqyIjReXohgX4lYV4Lr6/C2tcjPdYB0c5haWYRYV4Nra5GJiac+PW/FxdTHYG1RUH3eoajltbtOTXvty89BQHHg3+hSUX6GYoC6usyVlbFycZa7u8yUk6+sq8FCQXO0tMe1tMhiYYpMS3pDQnNvbpTExNN8fJ7GxdTGxtWCgqLHx9WXlrLXi5SYl7Kiobrg4Oiiorrn5u3n5+2jo7ukpLvw8PTx8fX09Pf19firqsC5sMNxAAAAAnRSTlPQ9qN1Xw4AAAGlSURBVHhe7ZXFiiRBFEVjznvp5W7t7j3u7m7//y8D1dAMGbnI4jW5KOpsgjibCxFcrrtVEmcBGAGQJHB98d3EgEM/ygsg/nwRAy15rxQ4Ywh3JQX49hVgKA/Ad1hDkkGTMSQJjGkOEmo133FmwAEQyl8FfSj3gFgkzjsQAw6AZ796AP2fGcDBS8/ZQ7ZQlJ2d+bEFqp6zhuh9Cf9/pDtKkTs04KBTD4jgx3eICOodoshz1p7M6UUAUQ+Ap2Pf2UMI5UBBX18/Ut7ZQ84Jui10QKsbcA7dt77jxIBDt+sxMNzrD4HL+rZS4Iw9iTZkCjRFmsBUHkcUOGMI7dkpKezuQsrprM3zR76zN572ekdBX623gaONJ0d5B5sGHAA1+QTwRQJgX2Q/7+w9GZGlDZKERpoxgkbDc8s0WscGSo+WGMiNVlgwWuFNjdafPsDe7wzg3RvP2UNCFGVtbX6EoOo7PhgoO1rGnswHiquB4mqgfIcxpBTGkNslMf2JVMAShRxXgJtUwBKFbFbAqicL4U4qYNWThXCHFbDqyUK4swpY9WQhXBX8A2rVjaQ6HWXmAAAAAElFTkSuQmCC","alt","en","width","22","height","14",1,"inline-block"],[1,"ml-1"],[2,"display","none"],["src","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABDBAMAAACYZb3pAAAAHlBMVEUpQqK2q8384OL3qa/tKTkAI5Wrt9z////5t7ztKTlzpJCAAAAABXRSTlP++vjs1BQWlgsAAAAxSURBVHgBYmRAA4yKaAJCAugqQgHtyzENAAAAAiD7pzaDr4MfRVEURVGU36IoipK5FLWNJ6UFusbWAAAAAElFTkSuQmCC","alt","fr","width","22","height","14",1,"inline-block"],["href","#",1,"px-2",3,"click"],["routerLink","/manage","routerLinkActive","text-indigo-400",1,"px-2",3,"routerLinkActiveOptions","queryParams"],["routerLink","/upload","routerLinkActive","text-indigo-400",1,"px-2",3,"routerLinkActiveOptions"],[1,"px-2",3,"click"]],template:function(t,r){if(1&t&&(c.TgZ(0,"header",0)(1,"nav",1)(2,"a",2),c._uU(3,"Clipz"),c.qZA(),c.TgZ(4,"div",3)(5,"ul",4),c.YNc(6,tN,3,0,"li",5),c.ALo(7,"async"),c.YNc(8,rN,9,6,"ng-template",null,6,c.W1O),c.TgZ(10,"li",7)(11,"a",8),c._uU(12,"About"),c.qZA()()(),c.TgZ(13,"ul",9)(14,"li")(15,"a",10),c._UZ(16,"img",11),c.TgZ(17,"span",12),c._uU(18,"English"),c.qZA()()(),c.TgZ(19,"li",13)(20,"a",10),c._UZ(21,"img",14),c.TgZ(22,"span",12),c._uU(23,"French"),c.qZA()()()()()()()),2&t){const s=c.MAs(9);c.xp6(6),c.Q6J("ngIf",!c.lcZ(7,2,r.auth.isAuthenticated$))("ngIfElse",s)}},directives:[xd,qn,Ky],pipes:[su],styles:["a[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();const sN=[[["","heading",""]],"*"],oN=function(n){return{hidden:n}},aN=["[heading]","*"];let eM=(()=>{class n{constructor(t,r){this.modal=t,this.el=r,this.modalID="",console.log(r)}ngOnInit(){document.body.appendChild(this.el.nativeElement)}ngOnDestroy(){document.body.removeChild(this.el.nativeElement)}closeModal(t){t.preventDefault(),this.modal.toggleModal(this.modalID)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(x0),c.Y36(c.SBq))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-modal"]],inputs:{modalID:"modalID"},ngContentSelectors:aN,decls:13,vars:3,consts:[["id","modal",1,"fixed","z-50","inset-0","overflow-y-auto",3,"ngClass"],[1,"flex","items-end","justify-center","min-h-screen","pt-4","px-4","pb-20","text-center","sm:block","sm:p-0"],[1,"fixed","inset-0","transition-opacity",3,"click"],[1,"absolute","inset-0","bg-gray-800","opacity-75"],[1,"hidden","sm:inline-block","sm:align-middle","sm:h-screen"],[1,"inline-block","align-bottom","bg-secondary","rounded-lg","text-left","overflow-hidden","shadow-xl","transform","transition-all","sm:my-8","sm:align-middle","sm:max-w-lg","sm:w-full"],[1,"py-4","text-left","px-6"],[1,"flex","justify-between","items-center","pb-4"],[1,"modal-close","cursor-pointer","z-50",3,"click"]],template:function(t,r){1&t&&(c.F$t(sN),c.TgZ(0,"div",0)(1,"div",1)(2,"div",2),c.NdJ("click",function(u){return r.closeModal(u)}),c._UZ(3,"div",3),c.qZA(),c.TgZ(4,"span",4),c._uU(5,"\u200b"),c.qZA(),c.TgZ(6,"div",5)(7,"div",6)(8,"div",7),c.Hsn(9),c.TgZ(10,"div",8),c.NdJ("click",function(u){return r.closeModal(u)}),c._uU(11," \u2715 "),c.qZA()(),c.Hsn(12,1),c.qZA()()()()),2&t&&c.Q6J("ngClass",c.VKq(1,oN,!r.modal.isModalOpen(r.modalID)))},directives:[oi],styles:[""]}),n})();const uN=["*"];let tM=(()=>{class n{constructor(){this.tabTitle="",this.active=!1}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-tab"]],inputs:{tabTitle:"tabTitle",active:"active"},ngContentSelectors:uN,decls:2,vars:2,template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div"),c.Hsn(1),c.qZA()),2&t&&c.ekj("hidden",!r.active)},styles:[""]}),n})();const lN=function(n,e){return{"hover:text-indigo-400":n,"hover:text-white text-white bg-indigo-400":e}};function cN(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"li",2)(1,"a",3),c.NdJ("click",function(){const u=c.CHM(t).$implicit;return c.oxw().selectTab(u)}),c._uU(2),c.qZA()()}if(2&n){const t=e.$implicit;c.xp6(1),c.Q6J("ngClass",c.WLB(2,lN,!t.active,t.active)),c.xp6(1),c.Oqu(t.tabTitle)}}const dN=["*"];let hN=(()=>{class n{constructor(){this.tabs=new c.n_E}ngAfterContentInit(){var t;const r=null===(t=this.tabs)||void 0===t?void 0:t.filter(s=>s.active);(!r||0===r.length)&&this.selectTab(this.tabs.first)}selectTab(t){var r;return null===(r=this.tabs)||void 0===r||r.forEach(s=>s.active=!1),t.active=!0,!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-tabs-container"]],contentQueries:function(t,r,s){if(1&t&&c.Suo(s,tM,4),2&t){let u;c.iGM(u=c.CRH())&&(r.tabs=u)}},ngContentSelectors:dN,decls:3,vars:1,consts:[[1,"flex","flex-wrap","mb-4"],["class","flex-auto text-center",4,"ngFor","ngForOf"],[1,"flex-auto","text-center"],["href","#",1,"block","rounded","py-3","px-4","transition","hover:text-white","text-white","bg-indigo-400",3,"ngClass","click"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"ul",0),c.YNc(1,cN,3,5,"li",1),c.qZA(),c.Hsn(2)),2&t&&(c.xp6(1),c.Q6J("ngForOf",r.tabs))},directives:[er,oi],styles:[""]}),n})();const fN=["*"];let IC=(()=>{class n{constructor(){this.color="blue"}get bgColor(){return`bg-${this.color}-400`}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-alert"]],inputs:{color:"color"},ngContentSelectors:fN,decls:2,vars:1,consts:[[1,"text-white","text-center","font-bold","p-4","mb-4","rounded-md",3,"ngClass"]],template:function(t,r){1&t&&(c.F$t(),c.TgZ(0,"div",0),c.Hsn(1),c.qZA()),2&t&&c.Q6J("ngClass",r.bgColor)},directives:[oi],styles:[""]}),n})(),nM=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq))},n.\u0275dir=c.lG2({type:n}),n})(),Mp=(()=>{class n extends nM{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,features:[c.qOj]}),n})();const Ja=new c.OlP("NgValueAccessor"),mN={provide:Ja,useExisting:(0,c.Gpc)(()=>M0),multi:!0},_N=new c.OlP("CompositionEventMode");let M0=(()=>{class n extends nM{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function yN(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.Qsj),c.Y36(c.SBq),c.Y36(_N,8))},n.\u0275dir=c.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&c.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[c._Bn([mN]),c.qOj]}),n})();function bh(n){return null==n||0===n.length}function iM(n){return null!=n&&"number"==typeof n.length}const Fi=new c.OlP("NgValidators"),Ch=new c.OlP("NgAsyncValidators"),vN=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Li{static min(e){return function sM(n){return e=>{if(bh(e.value)||bh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function oM(n){return e=>{if(bh(e.value)||bh(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return aM(e)}static requiredTrue(e){return function uM(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function lM(n){return bh(n.value)||vN.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function cM(n){return e=>bh(e.value)||!iM(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function dM(n){return e=>iM(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return hM(e)}static nullValidator(e){return null}static compose(e){return _M(e)}static composeAsync(e){return vM(e)}}function aM(n){return bh(n.value)?{required:!0}:null}function hM(n){if(!n)return DC;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(bh(r.value))return null;const s=r.value;return e.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}function DC(n){return null}function fM(n){return null!=n}function pM(n){const e=(0,c.QGY)(n)?(0,pn.D)(n):n;return(0,c.CqO)(e),e}function gM(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function mM(n,e){return e.map(t=>t(n))}function yM(n){return n.map(e=>function wN(n){return!n.validate}(e)?e:t=>e.validate(t))}function _M(n){if(!n)return null;const e=n.filter(fM);return 0==e.length?null:function(t){return gM(mM(t,e))}}function cA(n){return null!=n?_M(yM(n)):null}function vM(n){if(!n)return null;const e=n.filter(fM);return 0==e.length?null:function(t){return function pN(...n){const e=(0,Nn.jO)(n),{args:t,keys:r}=Di(n),s=new Cr.y(u=>{const{length:d}=t;if(!d)return void u.complete();const m=new Array(d);let w=d,I=d;for(let T=0;T<d;T++){let M=!1;(0,Yo.Xf)(t[T]).subscribe((0,Cn.x)(u,U=>{M||(M=!0,I--),m[T]=U},()=>w--,void 0,()=>{(!w||!M)&&(I||u.next(r?Co(r,m):m),u.complete())}))}});return e?s.pipe(ld(e)):s}(mM(t,e).map(pM)).pipe((0,Tt.U)(gM))}}function dA(n){return null!=n?vM(yM(n)):null}function wM(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function EM(n){return n._rawValidators}function bM(n){return n._rawAsyncValidators}function hA(n){return n?Array.isArray(n)?n:[n]:[]}function TC(n,e){return Array.isArray(n)?n.includes(e):n===e}function CM(n,e){const t=hA(e);return hA(n).forEach(s=>{TC(t,s)||t.push(s)}),t}function IM(n,e){return hA(e).filter(t=>!TC(n,t))}class DM{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=cA(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=dA(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ih extends DM{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ms extends DM{get formDirective(){return null}get path(){return null}}class TM{constructor(e){this._cd=e}is(e){var t,r,s;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(s=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===s?void 0:s[e])}}let fA=(()=>{class n extends TM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ih,2))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[c.qOj]}),n})(),R0=(()=>{class n extends TM{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ms,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&c.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[c.qOj]}),n})();function k0(n,e){mA(n,e),e.valueAccessor.writeValue(n.value),function SN(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&SM(n,e)})}(n,e),function MN(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function xN(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&SM(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function AN(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function xC(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),RC(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function MC(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mA(n,e){const t=EM(n);null!==e.validator?n.setValidators(wM(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=bM(n);null!==e.asyncValidator?n.setAsyncValidators(wM(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();MC(e._rawValidators,s),MC(e._rawAsyncValidators,s)}function RC(n,e){let t=!1;if(null!==n){if(null!==e.validator){const s=EM(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(d=>d!==e.validator);u.length!==s.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const s=bM(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(d=>d!==e.asyncValidator);u.length!==s.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return MC(e._rawValidators,r),MC(e._rawAsyncValidators,r),t}function SM(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xM(n,e){mA(n,e)}function yA(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function RM(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function _A(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===M0?t=u:function NN(n){return Object.getPrototypeOf(n.constructor)===Mp}(u)?r=u:s=u}),s||r||t||null}function vA(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const N0="VALID",kC="INVALID",dy="PENDING",O0="DISABLED";function EA(n){return(NC(n)?n.validators:n)||null}function kM(n){return Array.isArray(n)?cA(n):n||null}function bA(n,e){return(NC(e)?e.asyncValidators:n)||null}function NM(n){return Array.isArray(n)?dA(n):n||null}function NC(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const OM=n=>n instanceof va,CA=n=>n instanceof hy;function PM(n){return OM(n)?n.value:n.getRawValue()}function FM(n,e){const t=CA(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new c.vHH(1e3,"");if(!r[e])throw new c.vHH(1001,"")}function LM(n,e){CA(n),n._forEachChild((r,s)=>{if(void 0===e[s])throw new c.vHH(1002,"")})}class IA{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=kM(this._rawValidators),this._composedAsyncValidatorFn=NM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===N0}get invalid(){return this.status===kC}get pending(){return this.status==dy}get disabled(){return this.status===O0}get enabled(){return this.status!==O0}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=kM(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=NM(e)}addValidators(e){this.setValidators(CM(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(CM(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(IM(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(IM(e,this._rawAsyncValidators))}hasValidator(e){return TC(this._rawValidators,e)}hasAsyncValidator(e){return TC(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=dy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=O0,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=N0,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===N0||this.status===dy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?O0:N0}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=dy,this._hasOwnPendingAsyncValidator=!0;const t=pM(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function ON(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(s=>{r=CA(r)?r.controls.hasOwnProperty(s)?r.controls[s]:null:(n=>n instanceof FN)(r)&&r.at(s)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new c.vpe,this.statusChanges=new c.vpe}_calculateStatus(){return this._allControlsDisabled()?O0:this.errors?kC:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(dy)?dy:this._anyControlsHaveStatus(kC)?kC:N0}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){NC(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class va extends IA{constructor(e=null,t,r){super(EA(t),bA(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),NC(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){vA(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){vA(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class hy extends IA{constructor(e,t,r){super(EA(t),bA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){LM(this,e),Object.keys(e).forEach(r=>{FM(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=PM(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class FN extends IA{constructor(e,t,r){super(EA(t),bA(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){LM(this,e),e.forEach((r,s)=>{FM(this,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>PM(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const LN={provide:Ms,useExisting:(0,c.Gpc)(()=>OC)},P0=(()=>Promise.resolve(null))();let OC=(()=>{class n extends Ms{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new c.vpe,this.form=new hy({},cA(t),dA(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){P0.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),k0(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){P0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){P0.then(()=>{const r=this._findContainer(t.path),s=new hy({});xM(s,t),r.registerControl(t.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){P0.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){P0.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,RM(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Fi,10),c.Y36(Ch,10))},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([LN]),c.qOj]}),n})();const VN={provide:Ih,useExisting:(0,c.Gpc)(()=>DA)},BM=(()=>Promise.resolve(null))();let DA=(()=>{class n extends Ih{constructor(t,r,s,u,d){super(),this._changeDetectorRef=d,this.control=new va,this._registered=!1,this.update=new c.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=_A(0,u)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),yA(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){k0(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){BM.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,s=""===r||r&&"false"!==r;BM.then(()=>{var u;s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),null===(u=this._changeDetectorRef)||void 0===u||u.markForCheck()})}_getPath(t){return this._parent?function SC(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ms,9),c.Y36(Fi,10),c.Y36(Ch,10),c.Y36(Ja,10),c.Y36(c.sBO,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[c._Bn([VN]),c.qOj,c.TTD]}),n})(),F0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),$M=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const TA=new c.OlP("NgModelWithFormControlWarning"),GN={provide:Ih,useExisting:(0,c.Gpc)(()=>AA)};let AA=(()=>{class n extends Ih{constructor(t,r,s,u){super(),this._ngModelWarningConfig=u,this.update=new c.vpe,this._ngModelWarningSent=!1,this._setValidators(t),this._setAsyncValidators(r),this.valueAccessor=_A(0,s)}set isDisabled(t){}ngOnChanges(t){if(this._isControlChanged(t)){const r=t.form.previousValue;r&&xC(r,this,!1),k0(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}yA(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&xC(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(c.Y36(Fi,10),c.Y36(Ch,10),c.Y36(Ja,10),c.Y36(TA,8))},n.\u0275dir=c.lG2({type:n,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[c._Bn([GN]),c.qOj,c.TTD]}),n})();const qN={provide:Ms,useExisting:(0,c.Gpc)(()=>fy)};let fy=(()=>{class n extends Ms{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new c.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(RC(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return k0(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){xC(t.control||null,t,!1),vA(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,RM(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,s=this.form.get(t.path);r!==s&&(xC(r||null,t),OM(s)&&(k0(s,t),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);xM(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function RN(n,e){return RC(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){mA(this.form,this),this._oldForm&&RC(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Fi,10),c.Y36(Ch,10))},n.\u0275dir=c.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&c.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[c._Bn([qN]),c.qOj,c.TTD]}),n})();const KN={provide:Ja,useExisting:(0,c.Gpc)(()=>MA),multi:!0};function zM(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let MA=(()=>{class n extends Mp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const s=zM(this._getOptionId(t),t);this.setProperty("value",s)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function YN(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([KN]),c.qOj]}),n})(),WM=(()=>{class n{constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(zM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(MA,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const QN={provide:Ja,useExisting:(0,c.Gpc)(()=>RA),multi:!0};function KM(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let RA=(()=>{class n extends Mp{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const s=t.map(u=>this._getOptionId(u));r=(u,d)=>{u._setSelected(s.indexOf(d.toString())>-1)}}else r=(s,u)=>{s._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const s=[],u=r.selectedOptions;if(void 0!==u){const d=u;for(let m=0;m<d.length;m++){const I=this._getOptionValue(d[m].value);s.push(I)}}else{const d=r.options;for(let m=0;m<d.length;m++){const w=d[m];if(w.selected){const I=this._getOptionValue(w.value);s.push(I)}}}this.value=s,t(s)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function JN(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&c.NdJ("change",function(u){return r.onChange(u.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[c._Bn([QN]),c.qOj]}),n})(),YM=(()=>{class n{constructor(t,r,s){this._element=t,this._renderer=r,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(KM(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(KM(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(c.SBq),c.Y36(c.Qsj),c.Y36(RA,9))},n.\u0275dir=c.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Rp=(()=>{class n{constructor(){this._validator=DC}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):DC,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,features:[c.TTD]}),n})();const nO={provide:Fi,useExisting:(0,c.Gpc)(()=>PC),multi:!0};let PC=(()=>{class n extends Rp{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=t=>function XN(n){return null!=n&&!1!==n&&"false"!=`${n}`}(t),this.createValidator=t=>aM}enabled(t){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("required",r._enabled?"":null)},inputs:{required:"required"},features:[c._Bn([nO]),c.qOj]}),n})();const aO={provide:Fi,useExisting:(0,c.Gpc)(()=>kA),multi:!0};let kA=(()=>{class n extends Rp{constructor(){super(...arguments),this.inputName="pattern",this.normalizeInput=t=>t,this.createValidator=t=>hM(t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=c.n5z(n)))(r||n)}}(),n.\u0275dir=c.lG2({type:n,selectors:[["","pattern","","formControlName",""],["","pattern","","formControl",""],["","pattern","","ngModel",""]],hostVars:1,hostBindings:function(t,r){2&t&&c.uIk("pattern",r._enabled?r.pattern:null)},inputs:{pattern:"pattern"},features:[c._Bn([aO]),c.qOj]}),n})(),s1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[$M]]}),n})(),uO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[s1]}),n})(),NA=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:TA,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[s1]}),n})();function lO(n,e){if(1&n&&(c.TgZ(0,"app-alert",11),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Q6J("color",t.alertColor),c.xp6(1),c.Oqu(t.alertMsg)}}function cO(n,e){1&n&&(c.TgZ(0,"p",12),c._uU(1," Email is invalid "),c.qZA())}function dO(n,e){1&n&&(c.TgZ(0,"p",12),c._uU(1," Password is invalid "),c.qZA())}let hO=(()=>{class n{constructor(t){this.auth=t,this.credentials={email:"",password:""},this.showAlert=!1,this.alertMsg="Please wait till we log you in...",this.alertColor="blue",this.inSubmission=!1}ngOnInit(){}login(){var t=this;return(0,he.Z)(function*(){t.showAlert=!0,t.alertMsg="Please wait till we log you in...",t.alertColor="blue",t.inSubmission=!0;try{yield t.auth.signInWithEmailAndPassword(t.credentials.email,t.credentials.password)}catch(r){return t.inSubmission=!1,t.alertMsg="An unexpected error has occured. Plz try again later",t.alertColor="red",void console.error(r)}t.alertMsg="You're now successfully logged in.",t.alertColor="green"})()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(ua))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-login"]],decls:17,vars:6,consts:[[3,"color",4,"ngIf"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"mb-3"],[1,"inline-block","mb-2"],["type","email","name","email","placeholder","Enter Email","required","","pattern","[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400",3,"ngModel","ngModelChange"],["email","ngModel"],["class","text-red-400",4,"ngIf"],["name","password","type","password","placeholder","Password","required","","pattern","^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)[a-zA-Z\\d]{8,}$",1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400",3,"ngModel","ngModelChange"],["password","ngModel"],["type","submit",1,"block","w-full","bg-indigo-400","text-white","py-1.5","px-3","rounded","transition","hover:bg-indigo-500","disabled:opacity-50","disabled:bg-indigo-400",3,"disabled"],[3,"color"],[1,"text-red-400"]],template:function(t,r){if(1&t&&(c.YNc(0,lO,2,2,"app-alert",0),c.TgZ(1,"form",1,2),c.NdJ("ngSubmit",function(){return r.login()}),c.TgZ(3,"div",3)(4,"label",4),c._uU(5,"Email"),c.qZA(),c.TgZ(6,"input",5,6),c.NdJ("ngModelChange",function(u){return r.credentials.email=u}),c.qZA(),c.YNc(8,cO,2,0,"p",7),c.qZA(),c.TgZ(9,"div",3)(10,"label",4),c._uU(11,"Password"),c.qZA(),c.TgZ(12,"input",8,9),c.NdJ("ngModelChange",function(u){return r.credentials.password=u}),c.qZA(),c.YNc(14,dO,2,0,"p",7),c.qZA(),c.TgZ(15,"button",10),c._uU(16," Submit "),c.qZA()()),2&t){const s=c.MAs(2),u=c.MAs(7),d=c.MAs(13);c.Q6J("ngIf",r.showAlert),c.xp6(6),c.Q6J("ngModel",r.credentials.email),c.xp6(2),c.Q6J("ngIf",u.errors&&u.touched&&u.dirty),c.xp6(4),c.Q6J("ngModel",r.credentials.password),c.xp6(2),c.Q6J("ngIf",d.errors&&d.touched&&d.dirty),c.xp6(1),c.Q6J("disabled",s.invalid||r.inSubmission)}},directives:[qn,IC,F0,R0,OC,M0,PC,kA,fA,DA],styles:[""]}),n})();class fO{static match(e,t){return r=>{const s=r.get(e),u=r.get(t);if(!s||!u)return console.error("Form controls can't be found in the form group"),{controlNotFound:!1};const d=s.value===u.value?null:{noMatch:!0};return u.setErrors(d),d}}}let pO=(()=>{class n{constructor(t){this.auth=t,this.validate=r=>this.auth.fetchSignInMethodsForEmail(r.value).then(s=>s.length?{emailTaken:!0}:null)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(ua))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var gO=N(655);const FC=new c.OlP("ngx-mask config"),o1=new c.OlP("new ngx-mask config"),a1=new c.OlP("initial ngx-mask config"),mO={suffix:"",prefix:"",thousandSeparator:" ",decimalMarker:[".",","],clearIfNotMatch:!1,showTemplate:!1,showMaskTyped:!1,placeHolderCharacter:"_",dropSpecialCharacters:!0,hiddenInput:void 0,shownMaskExpression:"",separatorLimit:"",allowNegativeNumbers:!1,validation:!0,specialCharacters:["-","/","(",")",".",":"," ","+",",","@","[","]",'"',"'"],leadZeroDateTime:!1,triggerOnMaskChange:!1,maskFilled:new c.vpe,patterns:{0:{pattern:new RegExp("\\d")},9:{pattern:new RegExp("\\d"),optional:!0},X:{pattern:new RegExp("\\d"),symbol:"*"},A:{pattern:new RegExp("[a-zA-Z0-9]")},S:{pattern:new RegExp("[a-zA-Z]")},d:{pattern:new RegExp("\\d")},m:{pattern:new RegExp("\\d")},M:{pattern:new RegExp("\\d")},H:{pattern:new RegExp("\\d")},h:{pattern:new RegExp("\\d")},s:{pattern:new RegExp("\\d")}}},yO=["Hh:m0:s0","Hh:m0","m0:s0"],_O=["percent","Hh","s0","m0","separator","d0/M0/0000","d0/M0","d0","M0"];let u1=(()=>{class n{constructor(t){this._config=t,this.maskExpression="",this.actualValue="",this.shownMaskExpression="",this._formatWithSeparators=(r,s,u,d)=>{var m,w;let I=[],T="";if(Array.isArray(u)){const Ae=new RegExp(u.map(Re=>"[\\^$.|?*+()".indexOf(Re)>=0?`\\${Re}`:Re).join("|"));I=r.split(Ae),T=null!==(w=null===(m=r.match(Ae))||void 0===m?void 0:m[0])&&void 0!==w?w:""}else I=r.split(u),T=u;const M=I.length>1?`${T}${I[1]}`:"";let U=I[0];const j=this.separatorLimit.replace(/\s/g,"");j&&+j&&(U="-"===U[0]?`-${U.slice(1,U.length).slice(0,j.length)}`:U.slice(0,j.length));const J=/(\d+)(\d{3})/;for(;s&&J.test(U);)U=U.replace(J,"$1"+s+"$2");return void 0===d?U+M:0===d?U:U+M.substr(0,d+1)},this.percentage=r=>Number(r)>=0&&Number(r)<=100,this.getPrecision=r=>{const s=r.split(".");return s.length>1?Number(s[s.length-1]):1/0},this.checkAndRemoveSuffix=r=>{var s,u,d;for(let m=(null===(s=this.suffix)||void 0===s?void 0:s.length)-1;m>=0;m--){const w=this.suffix.substr(m,null===(u=this.suffix)||void 0===u?void 0:u.length);if(r.includes(w)&&(m-1<0||!r.includes(this.suffix.substr(m-1,null===(d=this.suffix)||void 0===d?void 0:d.length))))return r.replace(w,"")}return r},this.checkInputPrecision=(r,s,u)=>{if(s<1/0){if(Array.isArray(u)){const w=u.find(I=>I!==this.thousandSeparator);u=w||u[0]}const d=new RegExp(this._charToRegExpExpression(u)+`\\d{${s}}.*$`),m=r.match(d);m&&m[0].length-1>s&&(r=r.substring(0,r.length-(m[0].length-1-s))),0===s&&this._compareOrIncludes(r[r.length-1],u,this.thousandSeparator)&&(r=r.substring(0,r.length-1))}return r},this._shift=new Set,this.clearIfNotMatch=this._config.clearIfNotMatch,this.dropSpecialCharacters=this._config.dropSpecialCharacters,this.maskSpecialCharacters=this._config.specialCharacters,this.maskAvailablePatterns=this._config.patterns,this.prefix=this._config.prefix,this.suffix=this._config.suffix,this.thousandSeparator=this._config.thousandSeparator,this.decimalMarker=this._config.decimalMarker,this.hiddenInput=this._config.hiddenInput,this.showMaskTyped=this._config.showMaskTyped,this.placeHolderCharacter=this._config.placeHolderCharacter,this.validation=this._config.validation,this.separatorLimit=this._config.separatorLimit,this.allowNegativeNumbers=this._config.allowNegativeNumbers,this.leadZeroDateTime=this._config.leadZeroDateTime}applyMaskWithPattern(t,r){const[s,u]=r;return this.customPattern=u,this.applyMask(t,s)}applyMask(t,r,s=0,u=!1,d=!1,m=(()=>{})){var w,I;if(!r||"string"!=typeof t)return"";let T=0,M="",U=!1,j=!1,J=1,Ae=!1;t.slice(0,this.prefix.length)===this.prefix&&(t=t.slice(this.prefix.length,t.length)),this.suffix&&(null==t?void 0:t.length)>0&&(t=this.checkAndRemoveSuffix(t));const Re=t.toString().split("");"IP"===r&&(this.ipError=Re.filter(Ze=>"."===Ze).length<3&&Re.length<7,r="099.099.099.099");const vt=[];for(let Ze=0;Ze<t.length;Ze++)(null===(w=t[Ze])||void 0===w?void 0:w.match("\\d"))&&vt.push(t[Ze]);if("CPF_CNPJ"===r&&(this.cpfCnpjError=11!==vt.length&&14!==vt.length,r=vt.length>11?"00.000.000/0000-00":"000.000.000-00"),r.startsWith("percent")){if(t.match("[a-z]|[A-Z]")||t.match(/[-!$%^&*()_+|~=`{}\[\]:";'<>?,\/.]/)){t=this._stripToDecimal(t);const Ze=this.getPrecision(r);t=this.checkInputPrecision(t,Ze,this.decimalMarker)}t.indexOf(".")>0&&!this.percentage(t.substring(0,t.indexOf(".")))&&(t=`${t.substring(0,t.indexOf(".")-1)}${t.substring(t.indexOf("."),t.length)}`),M=this.percentage(t)?t:t.substring(0,t.length-1)}else if(r.startsWith("separator")){(t.match("[w\u0430-\u044f\u0410-\u042f]")||t.match("[\u0401\u0451\u0410-\u044f]")||t.match("[a-z]|[A-Z]")||t.match(/[-@#!$%\\^&*()_\xa3\xac'+|~=`{}\[\]:";<>.?\/]/)||t.match("[^A-Za-z0-9,]"))&&(t=this._stripToDecimal(t)),t=t.length>1&&"0"===t[0]&&!this._compareOrIncludes(t[1],this.decimalMarker,this.thousandSeparator)&&!d?t.slice(1,t.length):t,d&&(t=this._compareOrIncludes(t[t.length-1],this.decimalMarker,this.thousandSeparator)?t.slice(0,t.length-1):t);const Ze=this._charToRegExpExpression(this.thousandSeparator);let Mt='@#!$%^&*()_+|~=`{}\\[\\]:\\s,\\.";<>?\\/'.replace(Ze,"");if(Array.isArray(this.decimalMarker))for(const Np of this.decimalMarker)Mt=Mt.replace(this._charToRegExpExpression(Np),"");else Mt=Mt.replace(this._charToRegExpExpression(this.decimalMarker),"");const On=new RegExp("["+Mt+"]");(t.match(On)||1===t.length&&this._compareOrIncludes(t,this.decimalMarker,this.thousandSeparator))&&(t=t.substring(0,t.length-1));const Ns=this.getPrecision(r),nr=(t=this.checkInputPrecision(t,Ns,this.decimalMarker)).replace(new RegExp(Ze,"g"),"");M=this._formatWithSeparators(nr,this.thousandSeparator,this.decimalMarker,Ns);const xn=M.indexOf(",")-t.indexOf(","),co=M.length-t.length;if(co>0&&","!==M[s]){j=!0;let Np=0;do{this._shift.add(s+Np),Np++}while(Np<co)}else 0!==xn&&s>0&&!(M.indexOf(",")>=s&&s>3)||!(M.indexOf(".")>=s&&s>3)&&co<=0?(this._shift.clear(),j=!0,J=co,this._shift.add(s+=co)):this._shift.clear()}else for(let Ze=0,Mt=Re[0];Ze<Re.length&&T!==r.length;Ze++,Mt=Re[Ze])if(this._checkSymbolMask(Mt,r[T])&&"?"===r[T+1])M+=Mt,T+=2;else if("*"===r[T+1]&&U&&this._checkSymbolMask(Mt,r[T+2]))M+=Mt,T+=3,U=!1;else if(this._checkSymbolMask(Mt,r[T])&&"*"===r[T+1])M+=Mt,U=!0;else if("?"===r[T+1]&&this._checkSymbolMask(Mt,r[T+2]))M+=Mt,T+=3;else if(this._checkSymbolMask(Mt,r[T])){if("H"===r[T]&&Number(Mt)>2){T+=1,this._shiftStep(r,T,Re.length),Ze--,this.leadZeroDateTime&&(M+="0");continue}if("h"===r[T]&&"2"===M&&Number(Mt)>3){T+=1,Ze--;continue}if("m"===r[T]&&Number(Mt)>5){T+=1,this._shiftStep(r,T,Re.length),Ze--,this.leadZeroDateTime&&(M+="0");continue}if("s"===r[T]&&Number(Mt)>5){T+=1,this._shiftStep(r,T,Re.length),Ze--,this.leadZeroDateTime&&(M+="0");continue}const On=31;if("d"===r[T]&&(Number(Mt)>3&&this.leadZeroDateTime||Number(t.slice(T,T+2))>On||"/"===t[T+1])){T+=1,this._shiftStep(r,T,Re.length),Ze--,this.leadZeroDateTime&&(M+="0");continue}if("M"===r[T]){const nr=0===T&&(Number(Mt)>2||Number(t.slice(T,T+2))>12||"/"===t[T+1]),xn=t.slice(T-3,T-1).includes("/")&&("/"===t[T-2]&&Number(t.slice(T-1,T+1))>12&&"/"!==t[T]||"/"===t[T]||"/"===t[T-3]&&Number(t.slice(T-2,T))>12&&"/"!==t[T-1]||"/"===t[T-1]),co=Number(t.slice(T-3,T-1))<=On&&!t.slice(T-3,T-1).includes("/")&&"/"===t[T-1]&&(Number(t.slice(T,T+2))>12||"/"===t[T+1]),Np=Number(t.slice(T-3,T-1))>On&&!t.slice(T-3,T-1).includes("/")&&!t.slice(T-2,T).includes("/")&&Number(t.slice(T-2,T))>12,tL=Number(t.slice(T-3,T-1))<=On&&!t.slice(T-3,T-1).includes("/")&&"/"!==t[T-1]&&Number(t.slice(T-1,T+1))>12;if(Number(Mt)>1&&this.leadZeroDateTime||nr||xn||co||Np||tL){T+=1,this._shiftStep(r,T,Re.length),Ze--,this.leadZeroDateTime&&(M+="0");continue}}M+=Mt,T++}else-1!==this.maskSpecialCharacters.indexOf(r[T])?(M+=r[T],T++,this._shiftStep(r,T,Re.length),Ze--):this.maskSpecialCharacters.indexOf(Mt)>-1&&this.maskAvailablePatterns[r[T]]&&(null===(I=this.maskAvailablePatterns[r[T]])||void 0===I?void 0:I.optional)?(!!Re[T]&&"099.099.099.099"!==r&&"000.000.000-00"!==r&&"00.000.000/0000-00"!==r&&!r.match(/^9+\.0+$/)&&(M+=Re[T]),T++,Ze--):"*"===this.maskExpression[T+1]&&this._findSpecialChar(this.maskExpression[T+2])&&this._findSpecialChar(Mt)===this.maskExpression[T+2]&&U||"?"===this.maskExpression[T+1]&&this._findSpecialChar(this.maskExpression[T+2])&&this._findSpecialChar(Mt)===this.maskExpression[T+2]&&U?(T+=3,M+=Mt):this.showMaskTyped&&this.maskSpecialCharacters.indexOf(Mt)<0&&Mt!==this.placeHolderCharacter&&(Ae=!0);M.length+1===r.length&&-1!==this.maskSpecialCharacters.indexOf(r[r.length-1])&&(M+=r[r.length-1]);let We=s+1;for(;this._shift.has(We);)J++,We++;let At=u?T:this._shift.has(s)?J:0;Ae&&At--,m(At,j),J<0&&this._shift.clear();let Ke=!1;d&&(Ke=Re.every(Ze=>this.maskSpecialCharacters.includes(Ze)));let It=`${this.prefix}${Ke?"":M}${this.suffix}`;return 0===M.length&&(It=`${this.prefix}${M}`),It}_findSpecialChar(t){return this.maskSpecialCharacters.find(r=>r===t)}_checkSymbolMask(t,r){return this.maskAvailablePatterns=this.customPattern?this.customPattern:this.maskAvailablePatterns,this.maskAvailablePatterns[r]&&this.maskAvailablePatterns[r].pattern&&this.maskAvailablePatterns[r].pattern.test(t)}_stripToDecimal(t){return t.split("").filter((r,s)=>r.match("^-?\\d")||r.match("\\s")||"."===r||","===r||"-"===r&&0===s&&this.allowNegativeNumbers).join("")}_charToRegExpExpression(t){return t&&(" "===t?"\\s":"[\\^$.|?*+()".indexOf(t)>=0?`\\${t}`:t)}_shiftStep(t,r,s){const u=/[*?]/g.test(t.slice(0,r))?s:r;this._shift.add(u+this.prefix.length||0)}_compareOrIncludes(t,r,s){return Array.isArray(r)?r.filter(u=>u!==s).includes(t):t===r}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(FC))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),l1=(()=>{class n extends u1{constructor(t,r,s,u){super(r),this.document=t,this._config=r,this._elementRef=s,this._renderer=u,this.maskExpression="",this.isNumberValue=!1,this.placeHolderCharacter="_",this.maskIsShown="",this.selStart=null,this.selEnd=null,this.writingValue=!1,this.maskChanged=!1,this.triggerOnMaskChange=!1,this.onChange=d=>{}}applyMask(t,r,s=0,u=!1,d=!1,m=(()=>{})){if(!r)return t!==this.actualValue?this.actualValue:t;if(this.maskIsShown=this.showMaskTyped?this.showMaskInInput():"","IP"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||"#")),"CPF_CNPJ"===this.maskExpression&&this.showMaskTyped&&(this.maskIsShown=this.showMaskInInput(t||"#")),!t&&this.showMaskTyped)return this.formControlResult(this.prefix),this.prefix+this.maskIsShown;const w=t&&"number"==typeof this.selStart?t[this.selStart]:"";let I="";if(this.hiddenInput&&!this.writingValue){let j=this.actualValue.split("");""!==t&&j.length?"number"==typeof this.selStart&&"number"==typeof this.selEnd&&(t.length>j.length?j.splice(this.selStart,0,w):t.length<j.length&&(j.length-t.length==1?j.splice(this.selStart-1,1):j.splice(this.selStart,this.selEnd-this.selStart))):j=[],this.showMaskTyped&&(t=this.removeMask(t)),I=this.actualValue.length&&j.length<=t.length?this.shiftTypedSymbols(j.join("")):t}I=Boolean(I)&&I.length?I:t;const T=super.applyMask(I,r,s,u,d,m);if(this.actualValue=this.getActualValue(T),"."===this.thousandSeparator&&"."===this.decimalMarker&&(this.decimalMarker=","),this.maskExpression.startsWith("separator")&&!0===this.dropSpecialCharacters&&(this.maskSpecialCharacters=this.maskSpecialCharacters.filter(j=>!this._compareOrIncludes(j,this.decimalMarker,this.thousandSeparator))),this.formControlResult(T),!this.showMaskTyped)return this.hiddenInput&&T&&T.length?this.hideInput(T,this.maskExpression):T;const M=T.length,U=this.prefix+this.maskIsShown;if(this.maskExpression.includes("H")){const j=this._numberSkipedSymbols(T);return T+U.slice(M+j)}return"IP"===this.maskExpression||"CPF_CNPJ"===this.maskExpression?T+U:T+U.slice(M)}_numberSkipedSymbols(t){const r=/(^|\D)(\d\D)/g;let s=r.exec(t),u=0;for(;null!=s;)u+=1,s=r.exec(t);return u}applyValueChanges(t,r,s,u=(()=>{})){const d=this._elementRef.nativeElement;d.value=this.applyMask(d.value,this.maskExpression,t,r,s,u),d!==this.document.activeElement&&this.clearIfNotMatchFn()}hideInput(t,r){return t.split("").map((s,u)=>{var d,m;return this.maskAvailablePatterns&&this.maskAvailablePatterns[r[u]]&&(null===(d=this.maskAvailablePatterns[r[u]])||void 0===d?void 0:d.symbol)?null===(m=this.maskAvailablePatterns[r[u]])||void 0===m?void 0:m.symbol:s}).join("")}getActualValue(t){const r=t.split("").filter((s,u)=>this._checkSymbolMask(s,this.maskExpression[u])||this.maskSpecialCharacters.includes(this.maskExpression[u])&&s===this.maskExpression[u]);return r.join("")===t?r.join(""):t}shiftTypedSymbols(t){let r="";return(t&&t.split("").map((u,d)=>{if(this.maskSpecialCharacters.includes(t[d+1])&&t[d+1]!==this.maskExpression[d+1])return r=u,t[d+1];if(r.length){const m=r;return r="",m}return u})||[]).join("")}showMaskInInput(t){if(this.showMaskTyped&&this.shownMaskExpression){if(this.maskExpression.length!==this.shownMaskExpression.length)throw new Error("Mask expression must match mask placeholder length");return this.shownMaskExpression}if(this.showMaskTyped){if(t){if("IP"===this.maskExpression)return this._checkForIp(t);if("CPF_CNPJ"===this.maskExpression)return this._checkForCpfCnpj(t)}return this.maskExpression.replace(/\w/g,this.placeHolderCharacter)}return""}clearIfNotMatchFn(){const t=this._elementRef.nativeElement;this.clearIfNotMatch&&this.prefix.length+this.maskExpression.length+this.suffix.length!==t.value.replace(/_/g,"").length&&(this.formElementProperty=["value",""],this.applyMask(t.value,this.maskExpression))}set formElementProperty([t,r]){Promise.resolve().then(()=>this._renderer.setProperty(this._elementRef.nativeElement,t,r))}checkSpecialCharAmount(t){return t.split("").filter(s=>this._findSpecialChar(s)).length}removeMask(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.maskSpecialCharacters.concat("_").concat(this.placeHolderCharacter))}_checkForIp(t){var r;if("#"===t)return`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`;const s=[];for(let u=0;u<t.length;u++)(null===(r=t[u])||void 0===r?void 0:r.match("\\d"))&&s.push(t[u]);return s.length<=3?`${this.placeHolderCharacter}.${this.placeHolderCharacter}.${this.placeHolderCharacter}`:s.length>3&&s.length<=6?`${this.placeHolderCharacter}.${this.placeHolderCharacter}`:s.length>6&&s.length<=9?this.placeHolderCharacter:""}_checkForCpfCnpj(t){var r;const s=`${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`,u=`${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}.${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}/${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}${this.placeHolderCharacter}-${this.placeHolderCharacter}${this.placeHolderCharacter}`;if("#"===t)return s;const d=[];for(let m=0;m<t.length;m++)(null===(r=t[m])||void 0===r?void 0:r.match("\\d"))&&d.push(t[m]);return d.length<=3?s.slice(d.length,s.length):d.length>3&&d.length<=6?s.slice(d.length+1,s.length):d.length>6&&d.length<=9?s.slice(d.length+2,s.length):d.length>9&&d.length<11?s.slice(d.length+3,s.length):11===d.length?"":12===d.length?u.slice(17===t.length?16:15,u.length):d.length>12&&d.length<=14?u.slice(d.length+4,u.length):""}formControlResult(t){this.writingValue||!this.triggerOnMaskChange&&this.maskChanged?this.maskChanged=!1:Array.isArray(this.dropSpecialCharacters)?this.onChange(this._toNumber(this._removeMask(this._removeSuffix(this._removePrefix(t)),this.dropSpecialCharacters))):this.onChange(this.dropSpecialCharacters?this._toNumber(this._checkSymbols(t)):this._removeSuffix(t))}_toNumber(t){if(!this.isNumberValue||""===t)return t;const r=Number(t);return Number.isNaN(r)?t:r}_removeMask(t,r){return t&&t.replace(this._regExpForRemove(r),"")}_removePrefix(t){return this.prefix?t&&t.replace(this.prefix,""):t}_removeSuffix(t){return this.suffix?t&&t.replace(this.suffix,""):t}_retrieveSeparatorValue(t){return this._removeMask(this._removeSuffix(this._removePrefix(t)),this.maskSpecialCharacters)}_regExpForRemove(t){return new RegExp(t.map(r=>`\\${r}`).join("|"),"gi")}_checkSymbols(t){if(""===t)return t;const r=this._retrieveSeparatorPrecision(this.maskExpression);let s=this._retrieveSeparatorValue(t);return"."!==this.decimalMarker&&!Array.isArray(this.decimalMarker)&&(s=s.replace(this.decimalMarker,".")),this.isNumberValue?r?t===this.decimalMarker?null:this._checkPrecision(this.maskExpression,s):Number(s):s}_retrieveSeparatorPrecision(t){const r=t.match(new RegExp("^separator\\.([^d]*)"));return r?Number(r[1]):null}_checkPrecision(t,r){return t.indexOf("2")>0?Number(r).toFixed(2):Number(r)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(se),c.LFG(FC),c.LFG(c.SBq),c.LFG(c.Qsj))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac}),n})(),vO=(()=>{class n{constructor(t,r,s){this.document=t,this._maskService=r,this._config=s,this.maskExpression="",this.specialCharacters=[],this.patterns={},this.prefix="",this.suffix="",this.thousandSeparator=" ",this.decimalMarker=".",this.dropSpecialCharacters=null,this.hiddenInput=null,this.showMaskTyped=null,this.placeHolderCharacter=null,this.shownMaskExpression=null,this.showTemplate=null,this.clearIfNotMatch=null,this.validation=null,this.separatorLimit=null,this.allowNegativeNumbers=null,this.leadZeroDateTime=null,this.triggerOnMaskChange=null,this.maskFilled=new c.vpe,this._maskValue="",this._position=null,this._maskExpressionArray=[],this._justPasted=!1,this.onChange=u=>{},this.onTouch=()=>{}}ngOnChanges(t){const{maskExpression:r,specialCharacters:s,patterns:u,prefix:d,suffix:m,thousandSeparator:w,decimalMarker:I,dropSpecialCharacters:T,hiddenInput:M,showMaskTyped:U,placeHolderCharacter:j,shownMaskExpression:J,showTemplate:Ae,clearIfNotMatch:Re,validation:vt,separatorLimit:We,allowNegativeNumbers:At,leadZeroDateTime:Ke,triggerOnMaskChange:It}=t;if(r&&(r.currentValue!==r.previousValue&&!r.firstChange&&(this._maskService.maskChanged=!0),r.currentValue&&r.currentValue.split("||").length>1?(this._maskExpressionArray=r.currentValue.split("||").sort((Ze,Mt)=>Ze.length-Mt.length),this._maskValue=this._maskExpressionArray[0],this.maskExpression=this._maskExpressionArray[0],this._maskService.maskExpression=this._maskExpressionArray[0]):(this._maskExpressionArray=[],this._maskValue=r.currentValue||"",this._maskService.maskExpression=this._maskValue)),s){if(!s.currentValue||!Array.isArray(s.currentValue))return;this._maskService.maskSpecialCharacters=s.currentValue||[]}u&&u.currentValue&&(this._maskService.maskAvailablePatterns=u.currentValue),d&&(this._maskService.prefix=d.currentValue),m&&(this._maskService.suffix=m.currentValue),w&&(this._maskService.thousandSeparator=w.currentValue),I&&(this._maskService.decimalMarker=I.currentValue),T&&(this._maskService.dropSpecialCharacters=T.currentValue),M&&(this._maskService.hiddenInput=M.currentValue),U&&(this._maskService.showMaskTyped=U.currentValue),j&&(this._maskService.placeHolderCharacter=j.currentValue),J&&(this._maskService.shownMaskExpression=J.currentValue),Ae&&(this._maskService.showTemplate=Ae.currentValue),Re&&(this._maskService.clearIfNotMatch=Re.currentValue),vt&&(this._maskService.validation=vt.currentValue),We&&(this._maskService.separatorLimit=We.currentValue),At&&(this._maskService.allowNegativeNumbers=At.currentValue,this._maskService.allowNegativeNumbers&&(this._maskService.maskSpecialCharacters=this._maskService.maskSpecialCharacters.filter(Ze=>"-"!==Ze))),Ke&&(this._maskService.leadZeroDateTime=Ke.currentValue),It&&(this._maskService.triggerOnMaskChange=It.currentValue),this._applyMask()}validate({value:t}){if(!this._maskService.validation||!this._maskValue)return null;if(this._maskService.ipError)return this._createValidationError(t);if(this._maskService.cpfCnpjError)return this._createValidationError(t);if(this._maskValue.startsWith("separator")||_O.includes(this._maskValue)||this._maskService.clearIfNotMatch)return null;if(yO.includes(this._maskValue))return this._validateTime(t);if(t&&t.toString().length>=1){let r=0;for(const s in this._maskService.maskAvailablePatterns)if(this._maskService.maskAvailablePatterns[s].optional&&(this._maskValue.indexOf(s)!==this._maskValue.lastIndexOf(s)?r+=this._maskValue.split("").filter(d=>d===s).join("").length:-1!==this._maskValue.indexOf(s)&&r++,-1!==this._maskValue.indexOf(s)&&t.toString().length>=this._maskValue.indexOf(s)||r===this._maskValue.length))return null;if(1===this._maskValue.indexOf("{")&&t.toString().length===this._maskValue.length+Number(this._maskValue.split("{")[1].split("}")[0])-4||1===this._maskValue.indexOf("*")||1===this._maskValue.indexOf("?"))return null;if(this._maskValue.indexOf("*")>1&&t.toString().length<this._maskValue.indexOf("*")||this._maskValue.indexOf("?")>1&&t.toString().length<this._maskValue.indexOf("?")||1===this._maskValue.indexOf("{"))return this._createValidationError(t);if(-1===this._maskValue.indexOf("*")||-1===this._maskValue.indexOf("?")){const s=this._maskService.dropSpecialCharacters?this._maskValue.length-this._maskService.checkSpecialCharAmount(this._maskValue)-r:this._maskValue.length-r;if(t.toString().length<s)return this._createValidationError(t)}}return t&&this.maskFilled.emit(),null}onPaste(){this._justPasted=!0}onModelChange(t){!t&&this._maskService.actualValue&&(this._maskService.actualValue=this._maskService.getActualValue(""))}onInput(t){const r=t.target;if(this._inputValue=r.value,this._setMask(),!this._maskValue)return void this.onChange(r.value);const s=1===r.selectionStart?r.selectionStart+this._maskService.prefix.length:r.selectionStart;let u=0,d=!1;if(this._maskService.applyValueChanges(s,this._justPasted,"Backspace"===this._code||"Delete"===this._code,(w,I)=>{this._justPasted=!1,u=w,d=I}),this.document.activeElement!==r)return;this._position=1===this._position&&1===this._inputValue.length?null:this._position;let m=this._position?this._inputValue.length+s+u:s+("Backspace"!==this._code||d?u:0);m>this._getActualInputLength()&&(m=this._getActualInputLength()),m<0&&(m=0),r.setSelectionRange(m,m),this._position=null}onBlur(){this._maskValue&&this._maskService.clearIfNotMatchFn(),this.onTouch()}onClick(t){if(!this._maskValue)return;const r=t.target;null!==r&&null!==r.selectionStart&&r.selectionStart===r.selectionEnd&&r.selectionStart>this._maskService.prefix.length&&38!==t.keyCode&&this._maskService.showMaskTyped&&(this._maskService.maskIsShown=this._maskService.showMaskInInput(),r.setSelectionRange&&this._maskService.prefix+this._maskService.maskIsShown===r.value?(r.focus(),r.setSelectionRange(0,0)):r.selectionStart>this._maskService.actualValue.length&&r.setSelectionRange(this._maskService.actualValue.length,this._maskService.actualValue.length));const d=r.value&&r.value!==this._maskService.prefix?r.value:this._maskService.prefix+this._maskService.maskIsShown;r.value!==d&&(r.value=d),(r.selectionStart||r.selectionEnd)<=this._maskService.prefix.length?r.selectionStart=this._maskService.prefix.length:r.selectionEnd>this._getActualInputLength()&&(r.selectionEnd=this._getActualInputLength())}onKeyDown(t){var r;if(!this._maskValue)return;this._code=t.code?t.code:t.key;const s=t.target;if(this._inputValue=s.value,this._setMask(),38===t.keyCode&&t.preventDefault(),37===t.keyCode||8===t.keyCode||46===t.keyCode){if(8===t.keyCode&&0===s.value.length&&(s.selectionStart=s.selectionEnd),8===t.keyCode&&0!==s.selectionStart)if(this.specialCharacters=(null===(r=this.specialCharacters)||void 0===r?void 0:r.length)?this.specialCharacters:this._config.specialCharacters,this.prefix.length>1&&s.selectionStart<=this.prefix.length)s.setSelectionRange(this.prefix.length,s.selectionEnd);else if(this._inputValue.length!==s.selectionStart&&1!==s.selectionStart)for(;this.specialCharacters.includes(this._inputValue[s.selectionStart-1].toString())&&(this.prefix.length>=1&&s.selectionStart>this.prefix.length||0===this.prefix.length);)s.setSelectionRange(s.selectionStart-1,s.selectionEnd);this.checkSelectionOnDeletion(s),this._maskService.prefix.length&&s.selectionStart<=this._maskService.prefix.length&&s.selectionEnd<=this._maskService.prefix.length&&t.preventDefault();const u=s.selectionStart;8===t.keyCode&&!s.readOnly&&0===u&&s.selectionEnd===s.value.length&&0!==s.value.length&&(this._position=this._maskService.prefix?this._maskService.prefix.length:0,this._maskService.applyMask(this._maskService.prefix,this._maskService.maskExpression,this._position))}this.suffix&&this.suffix.length>1&&this._inputValue.length-this.suffix.length<s.selectionStart?s.setSelectionRange(this._inputValue.length-this.suffix.length,this._inputValue.length):(65===t.keyCode&&t.ctrlKey||65===t.keyCode&&t.metaKey)&&(s.setSelectionRange(0,this._getActualInputLength()),t.preventDefault()),this._maskService.selStart=s.selectionStart,this._maskService.selEnd=s.selectionEnd}writeValue(t){return(0,gO.mG)(this,void 0,void 0,function*(){"object"==typeof t&&null!==t&&"value"in t&&("disable"in t&&this.setDisabledState(Boolean(t.disable)),t=t.value),"number"==typeof t&&(t=String(t),Array.isArray(this.decimalMarker)||(t="."!==this.decimalMarker?t.replace(".",this.decimalMarker):t),this._maskService.isNumberValue=!0),"string"!=typeof t&&(t=""),this._inputValue=t,this._setMask(),t&&this._maskService.maskExpression||this._maskService.maskExpression&&(this._maskService.prefix||this._maskService.showMaskTyped)?(this._maskService.writingValue=!0,this._maskService.formElementProperty=["value",this._maskService.applyMask(t,this._maskService.maskExpression)],this._maskService.writingValue=!1):this._maskService.formElementProperty=["value",t],this._inputValue=t})}registerOnChange(t){this.onChange=t,this._maskService.onChange=this.onChange}registerOnTouched(t){this.onTouch=t}checkSelectionOnDeletion(t){t.selectionStart=Math.min(Math.max(this.prefix.length,t.selectionStart),this._inputValue.length-this.suffix.length),t.selectionEnd=Math.min(Math.max(this.prefix.length,t.selectionEnd),this._inputValue.length-this.suffix.length)}setDisabledState(t){this._maskService.formElementProperty=["disabled",t]}_repeatPatternSymbols(t){return t.match(/{[0-9]+}/)&&t.split("").reduce((r,s,u)=>{if(this._start="{"===s?u:this._start,"}"!==s)return this._maskService._findSpecialChar(s)?r+s:r;this._end=u;const d=Number(t.slice(this._start+1,this._end));return r+new Array(d+1).join(t[this._start-1])},"")||t}_applyMask(){this._maskService.maskExpression=this._repeatPatternSymbols(this._maskValue||""),this._maskService.formElementProperty=["value",this._maskService.applyMask(this._inputValue,this._maskService.maskExpression)]}_validateTime(t){const r=this._maskValue.split("").filter(s=>":"!==s).length;return t&&(0==+t[t.length-1]&&t.length<r||t.length<=r-2)?this._createValidationError(t):null}_getActualInputLength(){return this._maskService.actualValue.length||this._maskService.actualValue.length+this._maskService.prefix.length}_createValidationError(t){return{mask:{requiredMask:this._maskValue,actualValue:t}}}_setMask(){this._maskExpressionArray.length>0&&this._maskExpressionArray.some(t=>{var r,s;const u=(null===(r=this._maskService.removeMask(this._inputValue))||void 0===r?void 0:r.length)<=(null===(s=this._maskService.removeMask(t))||void 0===s?void 0:s.length);if(this._inputValue&&u)return this._maskValue=t,this.maskExpression=t,this._maskService.maskExpression=t,u;this._maskValue=this._maskExpressionArray[this._maskExpressionArray.length-1],this.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1],this._maskService.maskExpression=this._maskExpressionArray[this._maskExpressionArray.length-1]})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(se),c.Y36(l1),c.Y36(FC))},n.\u0275dir=c.lG2({type:n,selectors:[["input","mask",""],["textarea","mask",""]],hostBindings:function(t,r){1&t&&c.NdJ("paste",function(){return r.onPaste()})("ngModelChange",function(u){return r.onModelChange(u)})("input",function(u){return r.onInput(u)})("blur",function(){return r.onBlur()})("click",function(u){return r.onClick(u)})("keydown",function(u){return r.onKeyDown(u)})},inputs:{maskExpression:["mask","maskExpression"],specialCharacters:"specialCharacters",patterns:"patterns",prefix:"prefix",suffix:"suffix",thousandSeparator:"thousandSeparator",decimalMarker:"decimalMarker",dropSpecialCharacters:"dropSpecialCharacters",hiddenInput:"hiddenInput",showMaskTyped:"showMaskTyped",placeHolderCharacter:"placeHolderCharacter",shownMaskExpression:"shownMaskExpression",showTemplate:"showTemplate",clearIfNotMatch:"clearIfNotMatch",validation:"validation",separatorLimit:"separatorLimit",allowNegativeNumbers:"allowNegativeNumbers",leadZeroDateTime:"leadZeroDateTime",triggerOnMaskChange:"triggerOnMaskChange"},outputs:{maskFilled:"maskFilled"},exportAs:["mask","ngxMask"],features:[c._Bn([{provide:Ja,useExisting:(0,c.Gpc)(()=>n),multi:!0},{provide:Fi,useExisting:(0,c.Gpc)(()=>n),multi:!0},l1]),c.TTD]}),n})();function wO(n,e){return Object.assign(Object.assign({},n),e instanceof Function?e():e)}let EO=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:o1,useValue:t},{provide:a1,useValue:mO},{provide:FC,useFactory:wO,deps:[a1,o1]},u1]}}static forChild(){return{ngModule:n}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})();const c1="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function bO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1," Password must be at least 8 characters, must contain at least 1 uppercase letter, 1 lowercase letter, and 1 number "),c.qZA())}function CO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1," Please fill the field "),c.qZA())}function IO(n,e){if(1&n&&(c.TgZ(0,"p",3),c._uU(1),c.qZA()),2&n){const t=c.oxw(2);c.xp6(1),c.AsE(" The input that you've passed in is ",null==t.control.errors?null:t.control.errors.minlength.actualLength," chars long. Plz type at least ",null==t.control.errors?null:t.control.errors.minlength.requiredLength," chars. ")}}function DO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1," You shall enter a valid email. "),c.qZA())}function TO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1,"Value too low."),c.qZA())}function AO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1,"Value too high."),c.qZA())}function SO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1," Passwords don't match. "),c.qZA())}function xO(n,e){1&n&&(c.TgZ(0,"p",3),c._uU(1," Email was taken. Please try to register with another email. "),c.qZA())}function MO(n,e){if(1&n&&(c.ynx(0),c.YNc(1,bO,2,0,"p",2),c.YNc(2,CO,2,0,"p",2),c.YNc(3,IO,2,2,"p",2),c.YNc(4,DO,2,0,"p",2),c.YNc(5,TO,2,0,"p",2),c.YNc(6,AO,2,0,"p",2),c.YNc(7,SO,2,0,"p",2),c.YNc(8,xO,2,0,"p",2),c.BQk()),2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.pattern),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.required),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.minlength),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.email),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.min),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.max),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.noMatch),c.xp6(1),c.Q6J("ngIf",null==t.control.errors?null:t.control.errors.emailTaken)}}c1.KeyboardEvent||(c1.KeyboardEvent=function(n,e){});let OA=(()=>{class n{constructor(){this.control=new va,this.type="text",this.placeholder="",this.format=""}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-input"]],inputs:{control:"control",type:"type",placeholder:"placeholder",format:"format"},decls:2,vars:6,consts:[[1,"block","w-full","py-1.5","px-3","text-gray-200","border","border-gray-400","transition","duration-500","focus:outline-none","rounded","bg-transparent","focus:border-indigo-400",3,"formControl","type","placeholder","mask","dropSpecialCharacters"],[4,"ngIf"],["class","text-red-400",4,"ngIf"],[1,"text-red-400"]],template:function(t,r){1&t&&(c._UZ(0,"input",0),c.YNc(1,MO,9,8,"ng-container",1)),2&t&&(c.Q6J("formControl",r.control)("type",r.type)("placeholder",r.placeholder)("mask",r.format)("dropSpecialCharacters",!1),c.xp6(1),c.Q6J("ngIf",r.control.touched&&r.control.dirty))},directives:[M0,vO,fA,AA,qn],styles:[""]}),n})();function RO(n,e){if(1&n&&(c.TgZ(0,"app-alert",11),c._uU(1),c.qZA()),2&n){const t=c.oxw();c.Q6J("color",t.alertColor),c.xp6(1),c.hij(" ",t.alertMsg,"\n")}}let kO=(()=>{class n{constructor(t,r){this.auth=t,this.emailTaken=r,this.inSubmittion=!1,this.name=new va("",[Li.required,Li.minLength(3)]),this.email=new va("",[Li.required,Li.email],[this.emailTaken.validate]),this.age=new va("",[Li.required,Li.min(18),Li.max(128)]),this.password=new va("",[Li.required,Li.pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/)]),this.confirm_password=new va("",[Li.required]),this.phoneNumber=new va("",[Li.required,Li.minLength(13),Li.maxLength(13)]),this.showAlert=!1,this.alertMsg="Creating your account...",this.alertColor="blue",this.registerForm=new hy({name:this.name,email:this.email,age:this.age,password:this.password,confirm_password:this.confirm_password,phoneNumber:this.phoneNumber},[fO.match("password","confirm_password")])}register(){var t=this;return(0,he.Z)(function*(){t.inSubmittion=!0,t.showAlert=!0,t.alertMsg="Creating your account...",t.alertColor="blue";try{yield t.auth.createUser(t.registerForm.value)}catch(r){return console.error(r),t.alertMsg="An unexpected error occured. Plz try again later",t.alertColor="red",void(t.inSubmittion=!1)}t.alertMsg="Success! Your account has been created",t.alertColor="green"})()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(lA),c.Y36(pO))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-register"]],decls:28,vars:9,consts:[[3,"color",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"inline-block","mb-2"],["placeholder","Enter name",3,"control"],["type","email","placeholder","Enter Email",3,"control"],["type","number","placeholder","Enter Age",3,"control"],["type","password","placeholder","Type Password",3,"control"],["type","password","placeholder","Retype password",3,"control"],["placeholder","Enter Phone Number","format","(000)00-00-00",3,"control"],["type","submit",1,"block","w-full","bg-indigo-400","text-white","py-1.5","px-3","rounded","transition","hover:bg-indigo-500","disabled:opacity-50","disabled:bg-indigo-400",3,"disabled"],[3,"color"]],template:function(t,r){1&t&&(c.YNc(0,RO,2,2,"app-alert",0),c.TgZ(1,"form",1),c.NdJ("ngSubmit",function(){return r.register()}),c.TgZ(2,"div",2)(3,"label",3),c._uU(4,"Name"),c.qZA(),c._UZ(5,"app-input",4),c.qZA(),c.TgZ(6,"div",2)(7,"label",3),c._uU(8,"Email"),c.qZA(),c._UZ(9,"app-input",5),c.qZA(),c.TgZ(10,"div",2)(11,"label",3),c._uU(12,"Age"),c.qZA(),c._UZ(13,"app-input",6),c.qZA(),c.TgZ(14,"div",2)(15,"label",3),c._uU(16,"Password"),c.qZA(),c._UZ(17,"app-input",7),c.qZA(),c.TgZ(18,"div",2)(19,"label",3),c._uU(20,"Confirm Password"),c.qZA(),c._UZ(21,"app-input",8),c.qZA(),c.TgZ(22,"div",2)(23,"label",3),c._uU(24,"Phone Number"),c.qZA(),c._UZ(25,"app-input",9),c.qZA(),c.TgZ(26,"button",10),c._uU(27," Submit "),c.qZA()()),2&t&&(c.Q6J("ngIf",r.showAlert),c.xp6(1),c.Q6J("formGroup",r.registerForm),c.xp6(4),c.Q6J("control",r.name),c.xp6(4),c.Q6J("control",r.email),c.xp6(4),c.Q6J("control",r.age),c.xp6(4),c.Q6J("control",r.password),c.xp6(4),c.Q6J("control",r.confirm_password),c.xp6(4),c.Q6J("control",r.phoneNumber),c.xp6(1),c.Q6J("disabled",r.registerForm.invalid||r.inSubmittion))},directives:[qn,IC,F0,R0,fy,OA],styles:[""]}),n})(),NO=(()=>{class n{constructor(t){this.modal=t}ngOnInit(){this.modal.register("auth")}ngOnDestroy(){this.modal.unregister("auth")}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(x0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-auth-modal"]],decls:8,vars:0,consts:[["modalID","auth"],["heading","",1,"text-2xl","font-bold"],["tabTitle","Login"],["tabTitle","Register"]],template:function(t,r){1&t&&(c.TgZ(0,"app-modal",0)(1,"p",1),c._uU(2,"Your Account"),c.qZA(),c.TgZ(3,"app-tabs-container")(4,"app-tab",2),c._UZ(5,"app-login"),c.qZA(),c.TgZ(6,"app-tab",3),c._UZ(7,"app-register"),c.qZA()()())},directives:[eM,hN,tM,hO,kO],styles:[""]}),n})();function OO(n,e){1&n&&c._UZ(0,"app-auth-modal")}let PO=(()=>{class n{constructor(t){this.auth=t}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(lA))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-root"]],decls:4,vars:3,consts:[[4,"ngIf"]],template:function(t,r){1&t&&(c._UZ(0,"app-nav")(1,"router-outlet"),c.YNc(2,OO,1,0,"app-auth-modal",0),c.ALo(3,"async")),2&t&&(c.xp6(2),c.Q6J("ngIf",!c.lcZ(3,1,r.auth.isAuthenticatedWithDelay$)))},directives:[iN,Xl,qn,NO],pipes:[su],styles:[""]}),n})(),d1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ls,NA,EO.forRoot()]]}),n})(),FO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ls,d1,NA,uO]]}),n})();const PA_firebase={apiKey:"AIzaSyAaapwLuJHwgfSTd69HCvVOEw0qXewodlk",authDomain:"clips-42.firebaseapp.com",projectId:"clips-42",storageBucket:"clips-42.appspot.com",messagingSenderId:"107676987763",appId:"1:107676987763:web:425ddf7115e5e99a495506",measurementId:"G-2LK24R1FYZ"},h1="firebasestorage.googleapis.com",f1="storageBucket";class mr extends xt.ZR{constructor(e,t){super(FA(e),`Firebase Storage: ${t} (${FA(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,mr.prototype)}_codeEquals(e){return FA(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function FA(n){return"storage/"+n}function LA(){return new mr("unknown","An unknown error occurred, please check the error payload for server response.")}function p1(){return new mr("canceled","User canceled the upload/download.")}function g1(){return new mr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function py(n){return new mr("invalid-argument",n)}function m1(){return new mr("app-deleted","The Firebase app was deleted.")}function y1(n){return new mr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function L0(n,e){return new mr("invalid-format","String does not match format '"+n+"': "+e)}function U0(n){throw new mr("internal-error","Internal error: "+n)}class ts{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ts.makeFromUrl(e,t)}catch(s){return new ts(e,"")}if(""===r.path)return r;throw function zO(n){return new mr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)",m=new RegExp("^gs://"+s+"(/(.*))?$","i");function I(Ke){Ke.path_=decodeURIComponent(Ke.path)}const M=t.replace(/[.]/g,"\\."),At=[{regex:m,indices:{bucket:1,path:3},postModify:function u(Ke){"/"===Ke.path.charAt(Ke.path.length-1)&&(Ke.path_=Ke.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${M}/v[A-Za-z0-9_]+/b/${s}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:I},{regex:new RegExp(`^https?://${t===h1?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${s}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:I}];for(let Ke=0;Ke<At.length;Ke++){const It=At[Ke],Ze=It.regex.exec(e);if(Ze){let On=Ze[It.indices.path];On||(On=""),r=new ts(Ze[It.indices.bucket],On),It.postModify(r);break}}if(null==r)throw function ZO(n){return new mr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class QO{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function LC(n){return"string"==typeof n||n instanceof String}function _1(n){return UA()&&n instanceof Blob}function UA(){return"undefined"!=typeof Blob}function VA(n,e,t,r){if(r<e)throw py(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw py(`Invalid value for '${n}'. Expected ${t} or less.`)}function $c(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function v1(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var Dh=(()=>(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"}(Dh||(Dh={})),Dh))();class rP{constructor(e,t,r,s,u,d,m,w,I,T,M){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=u,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=w,this.timeout_=I,this.progressCallback_=T,this.connectionFactory_=M,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((U,j)=>{this.resolve_=U,this.reject_=j,this.start_()})}start_(){const t=(r,s)=>{const u=this.resolve_,d=this.reject_,m=s.connection;if(s.wasSuccessCode)try{const w=this.callback_(m,m.getResponse());!function eP(n){return void 0!==n}(w)?u():u(w)}catch(w){d(w)}else if(null!==m){const w=LA();w.serverResponse=m.getErrorText(),d(this.errorCallback_?this.errorCallback_(m,w):w)}else d(s.canceled?this.appDelete_?m1():p1():function qO(){return new mr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new UC(!1,null,!0)):this.backoffId_=function JO(n,e,t){let r=1,s=null,u=null,d=!1,m=0;function w(){return 2===m}let I=!1;function T(...Re){I||(I=!0,e.apply(null,Re))}function M(Re){s=setTimeout(()=>{s=null,n(j,w())},Re)}function U(){u&&clearTimeout(u)}function j(Re,...vt){if(I)return void U();if(Re)return U(),void T.call(null,Re,...vt);if(w()||d)return U(),void T.call(null,Re,...vt);let At;r<64&&(r*=2),1===m?(m=2,At=0):At=1e3*(r+Math.random()),M(At)}let J=!1;function Ae(Re){J||(J=!0,U(),!I&&(null!==s?(Re||(m=2),clearTimeout(s),M(0)):Re||(m=1)))}return M(0),u=setTimeout(()=>{d=!0,Ae(!0)},t),Ae}((r,s)=>{if(s)return void r(!1,new UC(!1,null,!0));const u=this.connectionFactory_();this.pendingConnection_=u;const d=m=>{null!==this.progressCallback_&&this.progressCallback_(m.loaded,m.lengthComputable?m.total:-1)};null!==this.progressCallback_&&u.addUploadProgressListener(d),u.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&u.removeUploadProgressListener(d),this.pendingConnection_=null;const m=u.getErrorCode()===Dh.NO_ERROR,w=u.getStatus();if(!m||this.isRetryStatusCode_(w)){const T=u.getErrorCode()===Dh.ABORT;return void r(!1,new UC(!1,null,T))}const I=-1!==this.successCodes_.indexOf(w);r(!0,new UC(I,u))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function XO(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,s=-1!==[408,429].indexOf(e),u=-1!==this.additionalRetryCodes_.indexOf(e);return t||s||u}}class UC{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function cP(...n){const e=function lP(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(UA())return new Blob(n);throw new mr("unsupported-environment","This browser doesn't seem to support creating Blobs")}const jo={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class BA{constructor(e,t){this.data=e,this.contentType=t||null}}function jA(n,e){switch(n){case jo.RAW:return new BA(w1(e));case jo.BASE64:case jo.BASE64URL:return new BA(E1(n,e));case jo.DATA_URL:return new BA(function pP(n){const e=new b1(n);return e.base64?E1(jo.BASE64,e.rest):function fP(n){let e;try{e=decodeURIComponent(n)}catch(t){throw L0(jo.DATA_URL,"Malformed data URL.")}return w1(e)}(e.rest)}(e),function gP(n){return new b1(n).contentType}(e))}throw LA()}function w1(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function E1(n,e){switch(n){case jo.BASE64:{const s=-1!==e.indexOf("-"),u=-1!==e.indexOf("_");if(s||u)throw L0(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case jo.BASE64URL:{const s=-1!==e.indexOf("+"),u=-1!==e.indexOf("/");if(s||u)throw L0(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function hP(n){return atob(n)}(e)}catch(s){throw L0(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class b1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw L0(jo.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function mP(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class fl{constructor(e,t){let r=0,s="";_1(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(_1(this.data_)){const s=function dP(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===s?null:new fl(s)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new fl(r,!0)}}static getBlob(...e){if(UA()){const t=e.map(r=>r instanceof fl?r.data_:r);return new fl(cP.apply(null,t))}{const t=e.map(d=>LC(d)?jA(jo.RAW,d).data:d.data_);let r=0;t.forEach(d=>{r+=d.byteLength});const s=new Uint8Array(r);let u=0;return t.forEach(d=>{for(let m=0;m<d.length;m++)s[u++]=d[m]}),new fl(s,!0)}}uploadData(){return this.data_}}function $A(n){let e;try{e=JSON.parse(n)}catch(t){return null}return function nP(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function C1(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function vP(n,e){return e}class Rs{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||vP}}let VC=null;function V0(){if(VC)return VC;const n=[];n.push(new Rs("bucket")),n.push(new Rs("generation")),n.push(new Rs("metageneration")),n.push(new Rs("name","fullPath",!0));const t=new Rs("name");t.xform=function e(u,d){return function wP(n){return!LC(n)||n.length<2?n:C1(n)}(d)},n.push(t);const s=new Rs("size");return s.xform=function r(u,d){return void 0!==d?Number(d):d},n.push(s),n.push(new Rs("timeCreated")),n.push(new Rs("updated")),n.push(new Rs("md5Hash",null,!0)),n.push(new Rs("cacheControl",null,!0)),n.push(new Rs("contentDisposition",null,!0)),n.push(new Rs("contentEncoding",null,!0)),n.push(new Rs("contentLanguage",null,!0)),n.push(new Rs("contentType",null,!0)),n.push(new Rs("metadata","customMetadata",!0)),VC=n,VC}function I1(n,e,t){const r=$A(e);return null===r?null:function bP(n,e,t){const r={type:"file"},s=t.length;for(let u=0;u<s;u++){const d=t[u];r[d.local]=d.xform(r,e[d.server])}return function EP(n,e){Object.defineProperty(n,"ref",{get:function t(){const u=new ts(n.bucket,n.fullPath);return e._makeStorageReference(u)}})}(r,n),r}(n,r,t)}function HA(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const u=e[s];u.writable&&(t[u.server]=n[u.local])}return JSON.stringify(t)}const D1="prefixes";class pl{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function gl(n){if(!n)throw LA()}function BC(n,e){return function t(r,s){const u=I1(n,s,e);return gl(null!==u),u}}function gy(n){return function e(t,r){let s;return s=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function HO(){return new mr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function $O(){return new mr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function jO(n){return new mr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function GO(n){return new mr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,s.serverResponse=r.serverResponse,s}}function B0(n){const e=gy(n);return function t(r,s){let u=e(r,s);return 404===r.getStatus()&&(u=function BO(n){return new mr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),u.serverResponse=s.serverResponse,u}}function A1(n,e,t){const s=$c(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,m=new pl(s,"GET",BC(n,t),d);return m.errorHandler=B0(e),m}function SP(n,e,t,r,s){const u={};u.prefix=e.isRoot?"":e.path+"/",t&&t.length>0&&(u.delimiter=t),r&&(u.pageToken=r),s&&(u.maxResults=s);const m=$c(e.bucketOnlyServerUrl(),n.host,n._protocol),I=n.maxOperationRetryTime,T=new pl(m,"GET",function TP(n,e){return function t(r,s){const u=function DP(n,e,t){const r=$A(t);return null===r?null:function IP(n,e,t){const r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[D1])for(const s of t[D1]){const u=s.replace(/\/$/,""),d=n._makeStorageReference(new ts(e,u));r.prefixes.push(d)}if(t.items)for(const s of t.items){const u=n._makeStorageReference(new ts(e,s.name));r.items.push(u)}return r}(n,e,r)}(n,e,s);return gl(null!==u),u}}(n,e.bucket),I);return T.urlParams=u,T.errorHandler=gy(e),T}function x1(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function kP(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class jC{constructor(e,t,r,s){this.current=e,this.total=t,this.finalized=!!r,this.metadata=s||null}}function GA(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(s){gl(!1)}return gl(!!t&&-1!==(e||["active"]).indexOf(t)),t}const FP={STATE_CHANGED:"state_changed"},ks={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function qA(n){switch(n){case"running":case"pausing":case"canceling":return ks.RUNNING;case"paused":return ks.PAUSED;case"success":return ks.SUCCESS;case"canceled":return ks.CANCELED;default:return ks.ERROR}}class LP{constructor(e,t,r){if(function tP(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=r?r:void 0;else{const u=e;this.next=u.next,this.error=u.error,this.complete=u.complete}}}function my(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class VP extends class UP{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Dh.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Dh.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Dh.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s){if(this.sent_)throw U0("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==s)for(const u in s)s.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,s[u].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw U0("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw U0("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw U0("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw U0("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function Xa(){return new VP}class N1{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=V0(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{this._request=void 0,this._chunkMultiplier=1,s._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=s,this._transition("error"))},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals("canceled")?this.completeTransitions_():(this._error=s,this._transition("error"))},this._promise=new Promise((s,u)=>{this._resolve=s,this._reject=u,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function NP(n,e,t,r,s){const u=e.bucketOnlyServerUrl(),d=x1(e,r,s),m={name:d.fullPath},w=$c(u,n.host,n._protocol),T={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":d.contentType,"Content-Type":"application/json; charset=utf-8"},M=HA(d,t),J=new pl(w,"POST",function j(Ae){let Re;GA(Ae);try{Re=Ae.getResponseHeader("X-Goog-Upload-URL")}catch(vt){gl(!1)}return gl(LC(Re)),Re},n.maxUploadRetryTime);return J.urlParams=m,J.headers=T,J.body=M,J.errorHandler=gy(e),J}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Xa,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._uploadUrl=u,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const s=function OP(n,e,t,r){const w=new pl(t,"POST",function u(I){const T=GA(I,["active","final"]);let M=null;try{M=I.getResponseHeader("X-Goog-Upload-Size-Received")}catch(j){gl(!1)}M||gl(!1);const U=Number(M);return gl(!isNaN(U)),new jC(U,r.size(),"final"===T)},n.maxUploadRetryTime);return w.headers={"X-Goog-Upload-Command":"query"},w.errorHandler=gy(e),w}(this._ref.storage,this._ref._location,e,this._blob),u=this._ref.storage._makeRequest(s,Xa,t,r);this._request=u,u.getPromise().then(d=>{d=d,this._request=void 0,this._updateProgress(d.current),this._needToFetchStatus=!1,d.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new jC(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,u)=>{let d;try{d=function PP(n,e,t,r,s,u,d,m){const w=new jC(0,0);if(d?(w.current=d.current,w.total=d.total):(w.current=0,w.total=r.size()),r.size()!==w.total)throw function KO(){return new mr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const I=w.total-w.current;let T=I;s>0&&(T=Math.min(T,s));const M=w.current,J={"X-Goog-Upload-Command":T===I?"upload, finalize":"upload","X-Goog-Upload-Offset":`${w.current}`},Ae=r.slice(M,M+T);if(null===Ae)throw g1();const At=new pl(t,"POST",function Re(Ke,It){const Ze=GA(Ke,["active","final"]),Mt=w.current+T,On=r.size();let Ns;return Ns="final"===Ze?BC(e,u)(Ke,It):null,new jC(Mt,On,"final"===Ze,Ns)},e.maxUploadRetryTime);return At.headers=J,At.body=Ae.uploadData(),At.progressCallback=m||null,At.errorHandler=gy(n),At}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(w){return this._error=w,void this._transition("error")}const m=this._ref.storage._makeRequest(d,Xa,s,u);this._request=m,m.getPromise().then(w=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(w.current),w.finalized?(this._metadata=w.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=A1(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,Xa,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function M1(n,e,t,r,s){const u=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"},w=function m(){let At="";for(let Ke=0;Ke<2;Ke++)At+=Math.random().toString().slice(2);return At}();d["Content-Type"]="multipart/related; boundary="+w;const I=x1(e,r,s),T=HA(I,t),j=fl.getBlob("--"+w+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+T+"\r\n--"+w+"\r\nContent-Type: "+I.contentType+"\r\n\r\n",r,"\r\n--"+w+"--");if(null===j)throw g1();const J={name:I.fullPath},Ae=$c(u,n.host,n._protocol),vt=n.maxUploadRetryTime,We=new pl(Ae,"POST",BC(n,t),vt);return We.urlParams=J,We.headers=d,We.body=j.uploadData(),We.errorHandler=gy(e),We}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,Xa,e,t);this._request=s,s.getPromise().then(u=>{this._request=void 0,this._metadata=u,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=p1(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=qA(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,s){const u=new LP(t||void 0,r||void 0,s||void 0);return this._addObserver(u),()=>{this._removeObserver(u)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(qA(this._state)){case ks.SUCCESS:my(this._resolve.bind(null,this.snapshot))();break;case ks.CANCELED:case ks.ERROR:my(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(qA(this._state)){case ks.RUNNING:case ks.PAUSED:e.next&&my(e.next.bind(e,this.snapshot))();break;case ks.SUCCESS:e.complete&&my(e.complete.bind(e))();break;default:e.error&&my(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class kp{constructor(e,t){this._service=e,this._location=t instanceof ts?t:ts.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new kp(e,t)}get root(){const e=new ts(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return C1(this._location.path)}get storage(){return this._service}get parent(){const e=function yP(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ts(this._location.bucket,e);return new kp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw y1(e)}}function P1(n,e,t){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,he.Z)(function*(n,e,t){const s=yield F1(n,{pageToken:t});e.prefixes.push(...s.prefixes),e.items.push(...s.items),null!=s.nextPageToken&&(yield P1(n,e,s.nextPageToken))}),ZA.apply(this,arguments)}function F1(n,e){null!=e&&"number"==typeof e.maxResults&&VA("options.maxResults",1,1e3,e.maxResults);const t=e||{},r=SP(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Xa)}function QP(n){n._throwIfRoot("getDownloadURL");const e=function xP(n,e,t){const s=$c(e.fullServerUrl(),n.host,n._protocol),d=n.maxOperationRetryTime,m=new pl(s,"GET",function AP(n,e){return function t(r,s){const u=I1(n,s,e);return gl(null!==u),function CP(n,e,t,r){const s=$A(e);if(null===s||!LC(s.downloadTokens))return null;const u=s.downloadTokens;if(0===u.length)return null;const d=encodeURIComponent;return u.split(",").map(I=>{const M=n.fullPath;return $c("/b/"+d(n.bucket)+"/o/"+d(M),t,r)+v1({alt:"media",token:I})})[0]}(u,s,n.host,n._protocol)}}(n,t),d);return m.errorHandler=B0(e),m}(n.storage,n._location,V0());return n.storage.makeRequestWithTokens(e,Xa).then(t=>{if(null===t)throw function YO(){return new mr("no-download-url","The given file does not have any download URLs.")}();return t})}function L1(n,e){const t=function _P(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ts(n._location.bucket,t);return new kp(n.storage,r)}function U1(n,e){if(n instanceof zA){const t=n;if(null==t._bucket)throw function WO(){return new mr("no-default-bucket","No default bucket found. Did you set the '"+f1+"' property when initializing the app?")}();const r=new kp(t,t._bucket);return null!=e?U1(r,e):r}return void 0!==e?L1(n,e):n}function tF(n,e){if(e&&function XP(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof zA)return function eF(n,e){return new kp(n,e)}(n,e);throw py("To use ref(service, url), the first argument must be a Storage instance.")}return U1(n,e)}function V1(n,e){const t=null==e?void 0:e[f1];return null==t?null:ts.makeFromBucketSpec(t,n)}class zA{constructor(e,t,r,s,u){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=u,this._bucket=null,this._host=h1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=s?ts.makeFromBucketSpec(s,this._host):V1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ts.makeFromBucketSpec(this._url,e):V1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){VA("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){VA("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,he.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,he.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kp(this,e)}_makeRequest(e,t,r,s){if(this._deleted)return new QO(m1());{const u=function uP(n,e,t,r,s,u){const d=v1(n.urlParams),m=n.url+d,w=Object.assign({},n.headers);return function oP(n,e){e&&(n["X-Firebase-GMPID"]=e)}(w,e),function iP(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(w,t),function sP(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(w,u),function aP(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(w,r),new rP(m,n.method,w,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s)}(e,this._appId,r,s,t,this._firebaseVersion);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,he.Z)(function*(){const[s,u]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,s,u).getPromise()})()}}const B1="@firebase/storage";function H1(n,e){return tF(n=(0,xt.m9)(n),e)}function hF(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new zA(t,r,s,e,Es.SDK_VERSION)}!function fF(){(0,Es._registerComponent)(new cf.wA("storage",hF,"PUBLIC").setMultipleInstances(!0)),(0,Es.registerVersion)(B1,"0.9.4",""),(0,Es.registerVersion)(B1,"0.9.4","esm2017")}();class $C{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class G1{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new $C(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new $C(r,this,this._ref))},t)}on(e,t,r,s){let u;return t&&(u="function"==typeof t?d=>t(new $C(d,this,this._ref)):{next:t.next?d=>t.next(new $C(d,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,u,r||void 0,s||void 0)}}class q1{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new Hc(e,this._service))}get items(){return this._delegate.items.map(e=>new Hc(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class Hc{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function cF(n,e){return L1(n,e)}(this._delegate,e);return new Hc(t,this.storage)}get root(){return new Hc(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new Hc(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new G1(function rF(n,e,t){return function ZP(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new N1(n,new fl(e),t)}(n=(0,xt.m9)(n),e,t)}(this._delegate,e,t),this)}putString(e,t=jo.RAW,r){this._throwIfRoot("putString");const s=jA(t,e),u=Object.assign({},r);return null==u.contentType&&null!=s.contentType&&(u.contentType=s.contentType),new G1(new N1(this._delegate,new fl(s.data,!0),u),this)}listAll(){return function aF(n){return function WP(n){const e={prefixes:[],items:[]};return P1(n,e).then(()=>e)}(n=(0,xt.m9)(n))}(this._delegate).then(e=>new q1(e,this.storage))}list(e){return function oF(n,e){return F1(n=(0,xt.m9)(n),e)}(this._delegate,e||void 0).then(t=>new q1(t,this.storage))}getMetadata(){return function iF(n){return function KP(n){n._throwIfRoot("getMetadata");const e=A1(n.storage,n._location,V0());return n.storage.makeRequestWithTokens(e,Xa)}(n=(0,xt.m9)(n))}(this._delegate)}updateMetadata(e){return function sF(n,e){return function YP(n,e){n._throwIfRoot("updateMetadata");const t=function MP(n,e,t,r){const u=$c(e.fullServerUrl(),n.host,n._protocol),m=HA(t,r),I=n.maxOperationRetryTime,T=new pl(u,"PATCH",BC(n,r),I);return T.headers={"Content-Type":"application/json; charset=utf-8"},T.body=m,T.errorHandler=B0(e),T}(n.storage,n._location,e,V0());return n.storage.makeRequestWithTokens(t,Xa)}(n=(0,xt.m9)(n),e)}(this._delegate,e)}getDownloadURL(){return function uF(n){return QP(n=(0,xt.m9)(n))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function lF(n){return function JP(n){n._throwIfRoot("deleteObject");const e=function RP(n,e){const r=$c(e.fullServerUrl(),n.host,n._protocol),m=new pl(r,"DELETE",function d(w,I){},n.maxOperationRetryTime);return m.successCodes=[200,204],m.errorHandler=B0(e),m}(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Xa)}(n=(0,xt.m9)(n))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw y1(e)}}class Z1{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(z1(e))throw py("ref() expected a child path but got a URL, use refFromURL instead.");return new Hc(H1(this._delegate,e),this)}refFromURL(e){if(!z1(e))throw py("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ts.makeFromUrl(e,this._delegate.host)}catch(t){throw py("refFromUrl() expected a valid full URL but got an invalid one.")}return new Hc(H1(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){!function dF(n,e,t,r={}){!function nF(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:s}=r;s&&(n._overrideAuthToken="string"==typeof s?s:(0,xt.Sg)(s,n.app.options.projectId))}(n,e,t,r)}(this._delegate,e,t,r)}}function z1(n){return/^[A-Za-z]+:\/\//.test(n)}function yF(n,{instanceIdentifier:e}){const t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new Z1(t,r)}function W1(n){const e=function vF(n){return new Cr.y(e=>{const t=d=>e.next(d);t(n.snapshot);const u=n.on("state_changed",t);return n.then(d=>{t(d),e.complete()},d=>{t(n.snapshot),(d=>{e.error(d)})(d)}),function(){u()}}).pipe(function LO(n,e=o_.z){return(0,cr.e)((t,r)=>{let s=null,u=null,d=null;const m=()=>{if(s){s.unsubscribe(),s=null;const I=u;u=null,r.next(I)}};function w(){const I=d+n,T=e.now();if(T<I)return s=this.schedule(void 0,I-T),void r.add(s);m()}t.subscribe((0,Cn.x)(r,I=>{u=I,d=e.now(),s||(s=e.schedule(w,n),r.add(s))},()=>{m(),r.complete()},void 0,()=>{u=s=null}))})}(0))}(n);return{task:n,then:n.then.bind(n),catch:n.catch.bind(n),pause:n.pause.bind(n),cancel:n.cancel.bind(n),resume:n.resume.bind(n),snapshotChanges:()=>e,percentageChanges:()=>e.pipe((0,Tt.U)(t=>t.bytesTransferred/t.totalBytes*100))}}function HC(n){return{getDownloadURL:()=>dt(void 0).pipe(tt.fc,hn(()=>n.getDownloadURL()),tt.iC),getMetadata:()=>dt(void 0).pipe(tt.fc,hn(()=>n.getMetadata()),tt.iC),delete:()=>(0,pn.D)(n.delete()),child:e=>HC(n.child(e)),updateMetadata:e=>(0,pn.D)(n.updateMetadata(e)),put:(e,t)=>W1(n.put(e,t)),putString:(e,t,r)=>W1(n.putString(e,t,r)),list:e=>(0,pn.D)(n.list(e)),listAll:()=>(0,pn.D)(n.listAll())}}!function _F(n){const e={TaskState:ks,TaskEvent:FP,StringFormat:jo,Storage:Z1,Reference:Hc};n.INTERNAL.registerComponent(new cf.wA("storage-compat",yF,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion("@firebase/storage-compat","0.1.12")}(F_.Z);const wF=new c.OlP("angularfire2.storageBucket"),EF=new c.OlP("angularfire2.storage.maxUploadRetryTime"),bF=new c.OlP("angularfire2.storage.maxOperationRetryTime"),CF=new c.OlP("angularfire2.storage.use-emulator");let WA=(()=>{class n{constructor(t,r,s,u,d,m,w,I,T,M){const U=(0,mi.on)(t,d,r);this.storage=(0,mi.cc)(`${U.name}.storage.${s}`,"AngularFireStorage",U.name,()=>{const j=d.runOutsideAngular(()=>U.storage(s||void 0)),J=T;return J&&j.useEmulator(...J),w&&j.setMaxUploadRetryTime(w),I&&j.setMaxOperationRetryTime(I),j},[w,I])}ref(t){return HC(this.storage.ref(t))}refFromURL(t){return HC(this.storage.refFromURL(t))}upload(t,r,s){return HC(this.storage.ref(t)).put(r,s)}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(mi.Dh),c.LFG(mi.xv,8),c.LFG(wF,8),c.LFG(c.Lbi),c.LFG(c.R0b),c.LFG(tt.HU),c.LFG(EF,8),c.LFG(bF,8),c.LFG(CF,8),c.LFG(Od,8))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),IF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({}),n})(),DF=(()=>{class n{constructor(){Pd.Z.registerVersion("angularfire",tt.q4.full,"gcs-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({providers:[WA],imports:[IF]}),n})(),KA=(()=>{class n{constructor(t,r,s){this.db=t,this.auth=r,this.storage=s,this.clipsCollection=t.collection("clips")}createClip(t){return this.clipsCollection.add(t)}getUserClips(t){return Io([this.auth.user,t]).pipe(hn(r=>{const[s,u]=r;return s?this.clipsCollection.ref.where("uid","==",s.uid).orderBy("timestamp","1"===u?"asc":"desc").get():dt([])}),(0,Tt.U)(r=>r.docs))}updateClip(t,r){return this.clipsCollection.doc(t).update({title:r})}deleteClip(t){var r=this;return(0,he.Z)(function*(){yield r.storage.ref(`clips/${t.fileName}`).delete(),yield r.clipsCollection.doc(t.docID).delete()})()}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(uA),c.LFG(ua),c.LFG(WA))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function TF(n,e){if(1&n&&(c.TgZ(0,"app-alert",9)(1,"p"),c._uU(2),c.qZA()()),2&n){const t=c.oxw();c.Q6J("color",t.alertColor),c.xp6(2),c.Oqu(t.alertMsg)}}const AF=function(n,e){return{"opacity-50":n,"hover:bg-indigo-700":e}};let SF=(()=>{class n{constructor(t,r){this.modal=t,this.clipService=r,this.activeClip=null,this.inSubmission=!1,this.showAlert=!1,this.alertColor="blue",this.alertMsg="Please wait! Updating the clip.",this.update=new c.vpe,this.clipID=new va(""),this.title=new va("",[Li.required,Li.minLength(3)]),this.editForm=new hy({title:this.title,id:this.clipID})}ngOnInit(){this.modal.register("editClip")}ngOnDestroy(){this.modal.unregister("editClip")}ngOnChanges(){!this.activeClip||(this.inSubmission=!1,this.showAlert=!1,this.clipID.setValue(this.activeClip.docID),this.title.setValue(this.activeClip.title))}submit(){var t=this;return(0,he.Z)(function*(){if(t.activeClip){t.inSubmission=!0,t.showAlert=!0,t.alertColor="blue",t.alertMsg="Please wait! Updating the clip.";try{yield t.clipService.updateClip(t.clipID.value,t.title.value)}catch(r){return t.inSubmission=!1,t.alertColor="red",void(t.alertMsg="Smth went wrong! Try again later.")}t.activeClip.title=t.title.value,t.update.emit(t.activeClip),t.inSubmission=!1,t.alertColor="green",t.alertMsg="Success!"}})()}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(x0),c.Y36(KA))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-edit"]],inputs:{activeClip:"activeClip"},outputs:{update:"update"},features:[c.TTD],decls:12,vars:8,consts:[["modalID","editClip"],[1,"text-2xl","font-bold"],[3,"color",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mt-4"],[1,"block","text-xl","mb-4"],["placeholder","Enter Title",3,"control"],[1,"mt-4","text-right"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","rounded-md","text-white","bg-indigo-600","focus:outline-none",3,"disabled","ngClass"],[3,"color"]],template:function(t,r){1&t&&(c.TgZ(0,"app-modal",0)(1,"p",1),c._uU(2,"Edit Video"),c.qZA(),c.YNc(3,TF,3,2,"app-alert",2),c.TgZ(4,"form",3),c.NdJ("ngSubmit",function(){return r.submit()}),c.TgZ(5,"div",4)(6,"label",5),c._uU(7,"Title"),c.qZA(),c._UZ(8,"app-input",6),c.qZA(),c.TgZ(9,"div",7)(10,"button",8),c._uU(11," Update "),c.qZA()()()()),2&t&&(c.xp6(3),c.Q6J("ngIf",r.showAlert),c.xp6(1),c.Q6J("formGroup",r.editForm),c.xp6(4),c.Q6J("control",r.title),c.xp6(2),c.Q6J("disabled",r.inSubmission)("ngClass",c.WLB(5,AF,r.inSubmission,!r.inSubmission)))},directives:[eM,qn,IC,F0,R0,fy,OA,oi],styles:[""]}),n})();function xF(n,e){if(1&n){const t=c.EpF();c.TgZ(0,"div",10)(1,"a",11),c._UZ(2,"img",12),c.qZA(),c.TgZ(3,"div",13)(4,"a",14),c._uU(5),c.qZA(),c.TgZ(6,"a",15),c._uU(7," Copy Link "),c.qZA()(),c.TgZ(8,"div",16)(9,"a",17),c.NdJ("click",function(s){const d=c.CHM(t).$implicit;return c.oxw().openModal(s,d)}),c.TgZ(10,"span",18),c._uU(11,"build"),c.qZA()(),c.TgZ(12,"a",19),c.NdJ("click",function(s){const d=c.CHM(t).$implicit;return c.oxw().deleteClip(s,d)}),c.TgZ(13,"span",18),c._uU(14,"delete"),c.qZA()()()()}if(2&n){const t=e.$implicit;c.xp6(5),c.hij(" ",t.title," ")}}let MF=(()=>{class n{constructor(t,r,s,u){this.router=t,this.route=r,this.clipService=s,this.modal=u,this.videoOrder="1",this.clips=[],this.activeClip=null,this.sort$=new Or(this.videoOrder)}ngOnInit(){this.route.queryParamMap.subscribe(t=>{this.videoOrder="2"===t.params.sort?t.params.sort:"1",this.sort$.next(this.videoOrder)}),this.clipService.getUserClips(this.sort$).subscribe(t=>{this.clips=[],t.forEach(r=>{this.clips.push(Object.assign({docID:r.id},r.data()))})})}sort(t){const{value:r}=t.target;this.router.navigate([],{relativeTo:this.route,queryParams:{sort:r}})}openModal(t,r){t.preventDefault(),this.activeClip=r,this.modal.toggleModal("editClip")}update(t){this.clips.forEach((r,s)=>{r.docID==t.docID&&(this.clips[s].title=t.title)})}deleteClip(t,r){t.preventDefault(),this.clipService.deleteClip(r),this.clips.forEach((s,u)=>{s.docID==r.docID&&this.clips.splice(u,1)})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(Ar),c.Y36(vs),c.Y36(KA),c.Y36(x0))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-manage"]],decls:13,vars:4,consts:[[1,"container","mx-auto","my-8","bg-secondary","p-6"],[1,"rounded","relative","flex","justify-between"],["routerLink","/upload",1,"bg-indigo-400","text-white","py-4","px-10","text-xl"],[1,"text-black","px-8","text-xl","outline-none","appearance-none",3,"change"],["value","1",3,"selected"],["value","2",3,"selected"],[1,"container","mx-auto","my-8"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],["class","mt-6 rounded-tl-2xl rounded-br-2xl shadow-xl bg-secondary flex flex-col justify-start",4,"ngFor","ngForOf"],[3,"activeClip","update"],[1,"mt-6","rounded-tl-2xl","rounded-br-2xl","shadow-xl","bg-secondary","flex","flex-col","justify-start"],["href","#"],["src","assets/img/1.jpg",1,"card-img-top","rounded-tl-2xl","w-full"],[1,"p-6","text-2xl"],["href","#",1,"font-bold","mb-2"],["href","#",1,"bg-gray-400","text-white","px-2","py-1","ml-2","text-sm","rounded"],[1,"flex","text-center","text-2xl","bg-gray-800","p-2","mt-auto"],["href","#",1,"flex-1","p-2","border-right","border-r-2","border-gray-700","transition","hover:text-indigo-400",3,"click"],[1,"material-icons","text-base"],["href","#",1,"flex-1","p-2","rounded-br-2xl","transition","hover:text-indigo-400",3,"click"]],template:function(t,r){1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"a",2),c._uU(3,"Upload Videos"),c.qZA(),c.TgZ(4,"select",3),c.NdJ("change",function(u){return r.sort(u)}),c.TgZ(5,"option",4),c._uU(6,"Recent Uploads"),c.qZA(),c.TgZ(7,"option",5),c._uU(8,"Oldest Uploads"),c.qZA()()()(),c.TgZ(9,"div",6)(10,"div",7),c.YNc(11,xF,15,1,"div",8),c.qZA()(),c.TgZ(12,"app-edit",9),c.NdJ("update",function(u){return r.update(u)}),c.qZA()),2&t&&(c.xp6(5),c.Q6J("selected","1"===r.videoOrder),c.xp6(2),c.Q6J("selected","2"===r.videoOrder),c.xp6(4),c.Q6J("ngForOf",r.clips),c.xp6(1),c.Q6J("activeClip",r.activeClip))},directives:[xd,WM,YM,er,SF],styles:[""]}),n})();var GC,RF=new Uint8Array(16);function kF(){if(!GC&&!(GC="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return GC(RF)}const NF=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,PF=function OF(n){return"string"==typeof n&&NF.test(n)};for(var Ui=[],YA=0;YA<256;++YA)Ui.push((YA+256).toString(16).substr(1));const VF=function UF(n,e,t){var r=(n=n||{}).random||(n.rng||kF)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(var s=0;s<16;++s)e[t+s]=r[s];return e}return function FF(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(Ui[n[e+0]]+Ui[n[e+1]]+Ui[n[e+2]]+Ui[n[e+3]]+"-"+Ui[n[e+4]]+Ui[n[e+5]]+"-"+Ui[n[e+6]]+Ui[n[e+7]]+"-"+Ui[n[e+8]]+Ui[n[e+9]]+"-"+Ui[n[e+10]]+Ui[n[e+11]]+Ui[n[e+12]]+Ui[n[e+13]]+Ui[n[e+14]]+Ui[n[e+15]]).toLowerCase();if(!PF(t))throw TypeError("Stringified UUID is invalid");return t}(r)};let BF=(()=>{class n{handleEvent(t){t.preventDefault()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=c.lG2({type:n,selectors:[["","app-event-blocker",""]],hostBindings:function(t,r){1&t&&c.NdJ("drop",function(u){return r.handleEvent(u)})("dragover",function(u){return r.handleEvent(u)})}}),n})();const jF=function(n){return{"bg-indigo-400 border-indigo-400 solid":n}};function $F(n,e){if(1&n){const t=c.EpF();c.ynx(0),c.TgZ(1,"div",5),c.NdJ("dragend",function(){return c.CHM(t),c.oxw().isDragover=!1})("dragover",function(){return c.CHM(t),c.oxw().isDragover=!0})("dragenter",function(){return c.CHM(t),c.oxw().isDragover=!0})("dragleave",function(){return c.CHM(t),c.oxw().isDragover=!1})("mouseleave",function(){return c.CHM(t),c.oxw().isDragover=!1})("drop",function(s){return c.CHM(t),c.oxw().storeFile(s)}),c.TgZ(2,"h5"),c._uU(3,"Drop your file here (mp4 only!)"),c.qZA()(),c.TgZ(4,"input",6),c.NdJ("change",function(s){return c.CHM(t),c.oxw().storeFile(s)}),c.qZA(),c.BQk()}if(2&n){const t=c.oxw();c.xp6(1),c.Q6J("ngClass",c.VKq(1,jF,t.isDragover))}}function HF(n,e){if(1&n&&(c.TgZ(0,"p"),c._uU(1),c.ALo(2,"percent"),c.qZA()),2&n){const t=c.oxw(3);c.xp6(1),c.Oqu(c.lcZ(2,1,t.percentage))}}function GF(n,e){if(1&n&&(c.TgZ(0,"app-alert",21)(1,"p"),c._uU(2),c.qZA(),c.YNc(3,HF,3,3,"p",22),c.qZA()),2&n){const t=c.oxw(2);c.Q6J("color",t.alertColor),c.xp6(2),c.Oqu(t.alertMsg),c.xp6(1),c.Q6J("ngIf",t.showPercentage)}}const qF=function(n,e){return{"opacity-50":n,"hover:bg-indigo-700":e}};function ZF(n,e){if(1&n){const t=c.EpF();c.YNc(0,GF,4,3,"app-alert",7),c.TgZ(1,"form",8),c.NdJ("ngSubmit",function(){return c.CHM(t),c.oxw().uploadFile()}),c.TgZ(2,"h2",9),c._uU(3,"Select a Thumbnail"),c.qZA(),c.TgZ(4,"div",10)(5,"div",11),c._UZ(6,"img",12),c.qZA(),c.TgZ(7,"div",13),c._UZ(8,"img",14),c.qZA(),c.TgZ(9,"div",13),c._UZ(10,"img",15),c.qZA()(),c.TgZ(11,"div",16)(12,"label",17),c._uU(13,"Title"),c.qZA(),c._UZ(14,"app-input",18),c.qZA(),c.TgZ(15,"div",19)(16,"button",20),c._uU(17," Publish "),c.qZA()()()}if(2&n){const t=c.oxw();c.Q6J("ngIf",t.showAlert),c.xp6(1),c.Q6J("formGroup",t.uploadForm),c.xp6(13),c.Q6J("control",t.title),c.xp6(2),c.Q6J("disabled",t.inSubmission)("ngClass",c.WLB(5,qF,t.inSubmission,!t.inSubmission))}}let zF=(()=>{class n{constructor(t,r,s,u){this.storage=t,this.auth=r,this.clipsService=s,this.router=u,this.isDragover=!1,this.file=null,this.nextStep=!1,this.showAlert=!1,this.alertColor="blue",this.alertMsg="Plz wait. Your clip is being uploaded.",this.inSubmission=!1,this.percentage=0,this.showPercentage=!1,this.user=null,this.title=new va("",[Li.required,Li.minLength(3)]),this.uploadForm=new hy({title:this.title}),r.user.subscribe(d=>this.user=d)}ngOnDestroy(){var t;null===(t=this.task)||void 0===t||t.cancel()}storeFile(t){var r,s,u,d;this.isDragover=!1,this.file=t.dataTransfer?null!==(s=null===(r=t.dataTransfer)||void 0===r?void 0:r.files.item(0))&&void 0!==s?s:null:null!==(d=null===(u=t.target.files)||void 0===u?void 0:u.item(0))&&void 0!==d?d:null,this.file&&"video/mp4"===this.file.type&&(this.title.setValue(this.file.name.replace(/\.[^/.]+$/,"")),this.nextStep=!0)}uploadFile(){var t=this;this.uploadForm.disable(),this.showAlert=!0,this.alertColor="blue",this.alertMsg="Plz wait. Your clip is being uploaded.",this.inSubmission=!0,this.showPercentage=!0;const r=VF(),s=`clips/${r}.mp4`;this.task=this.storage.upload(s,this.file);const u=this.storage.ref(s);var d;this.task.percentageChanges().subscribe(d=>{this.percentage=d/100}),this.task.snapshotChanges().pipe(Rh(),hn(()=>u.getDownloadURL())).subscribe({next:(d=(0,he.Z)(function*(m){var w,I;const T={uid:null===(w=t.user)||void 0===w?void 0:w.uid,displayName:null===(I=t.user)||void 0===I?void 0:I.displayName,title:t.title.value,fileName:`${r}.mp4`,url:m,timestamp:Pd.Z.firestore.FieldValue.serverTimestamp()},M=yield t.clipsService.createClip(T);console.log(T),t.alertColor="green",t.alertMsg="Success! Your clip is ready to be shared.",t.showPercentage=!1,setTimeout(()=>{t.router.navigate(["clip",M.id])},1e3)}),function(w){return d.apply(this,arguments)}),error:d=>{this.uploadForm.enable(),this.alertColor="red",this.alertMsg="Upload failed! Plz try again later.",this.inSubmission=!0,this.showPercentage=!1,console.log(d)}})}}return n.\u0275fac=function(t){return new(t||n)(c.Y36(WA),c.Y36(ua),c.Y36(KA),c.Y36(Ar))},n.\u0275cmp=c.Xpm({type:n,selectors:[["app-upload"]],decls:7,vars:2,consts:[[1,"container","mx-auto","my-8","bg-secondary","p-6"],[1,"rounded","relative","flex","flex-col"],[1,"font-bold","mb-6"],[4,"ngIf","ngIfElse"],["uploadFormCtr",""],["app-event-blocker","",1,"w-full","px-10","py-40","rounded","text-center","cursor-pointer","border","border-dashed","border-gray-400","transition","duration-500","hover:text-white","hover:bg-indigo-400","hover:border-indigo-400","hover:border-solid","text-xl",3,"ngClass","dragend","dragover","dragenter","dragleave","mouseleave","drop"],["type","file",1,"mt-4",3,"change"],[3,"color",4,"ngIf"],[3,"formGroup","ngSubmit"],[1,"mb-4","text-xl"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-4"],[1,"border-8","cursor-pointer","border-green-400"],["src","assets/img/1.jpg"],[1,"border-8","cursor-pointer","border-transparent"],["src","assets/img/2.jpg"],["src","assets/img/3.jpg"],[1,"mt-4"],[1,"block","text-xl","mb-4"],["placeholder","Enter title",3,"control"],[1,"mt-4","text-right"],["type","submit",1,"inline-flex","justify-center","py-2","px-4","border","border-transparent","shadow-sm","rounded-md","text-white","bg-indigo-600","focus:outline-none",3,"disabled","ngClass"],[3,"color"],[4,"ngIf"]],template:function(t,r){if(1&t&&(c.TgZ(0,"section",0)(1,"div",1)(2,"div",2),c._uU(3,"Upload Video"),c.qZA(),c.YNc(4,$F,5,3,"ng-container",3),c.YNc(5,ZF,18,8,"ng-template",null,4,c.W1O),c.qZA()()),2&t){const s=c.MAs(6);c.xp6(4),c.Q6J("ngIf",!r.nextStep)("ngIfElse",s)}},directives:[qn,BF,oi,IC,F0,R0,fy,OA],pipes:[Nr],styles:[""]}),n})();var WF=N(9635);const QA=(0,Tt.U)(n=>!!n);let JA=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(s,u)=>{const d=s.data.authGuardPipe||(()=>QA);return this.auth.user.pipe((0,gs.q)(1),d(s,u),(0,Tt.U)(m=>"boolean"==typeof m?m:Array.isArray(m)?this.router.createUrlTree(m):this.router.parseUrl(m)))}}}return n.\u0275fac=function(t){return new(t||n)(c.LFG(Ar),c.LFG(ua))},n.\u0275prov=c.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const K1=()=>(0,WF.z)(QA,(0,Tt.U)(e=>e||"/")),QF=[{path:"manage",component:MF,data:{authOnly:!0,authGuardPipe:K1},canActivate:[JA]},{path:"upload",component:zF,data:{authOnly:!0,authGuardPipe:K1},canActivate:[JA]},{path:"manage-clips",redirectTo:"manage"}];let JF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[oc.forChild(QF)],oc]}),n})(),XF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n}),n.\u0275inj=c.cJS({imports:[[ls,JF,d1,NA]]}),n})(),eL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=c.oAB({type:n,bootstrap:[PO]}),n.\u0275inj=c.cJS({providers:[],imports:[[xa,FO,mi.hO.initializeApp(PA_firebase),Lw,eN,XF,s_,DF]]}),n})();(0,c.G48)(),Pd.Z.initializeApp(PA_firebase);let Y1=!1;Pd.Z.auth().onAuthStateChanged(()=>{Y1||Tl().bootstrapModule(eL).catch(n=>console.error(n)),Y1=!0})},5867:(st,Ee,N)=>{N.d(Ee,{C6:()=>c.getApps,Mq:()=>c.getApp});var c=N(9681);(0,c.registerVersion)("firebase","9.6.10","app")},127:(st,Ee,N)=>{N.d(Ee,{Z:()=>c.Z});var c=N(3942);c.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(st,Ee,N)=>{N.r(Ee);var c=N(5861),Y=N(3942),O=N(2090),ne=N(9681),X=N(655),pe=N(1877),se=N(4859);const Se=function He(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ye=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),at=new pe.Yd("@firebase/auth");function rt(y,...f){at.logLevel<=pe.in.ERROR&&at.error(`Auth (${ne.SDK_VERSION}): ${y}`,...f)}function Te(y,...f){throw je(y,...f)}function _e(y,...f){return je(y,...f)}function ve(y,f,g){const v=Object.assign(Object.assign({},Ye()),{[f]:g});return new O.LL("auth","Firebase",v).create(f,{appName:y.name})}function Ge(y,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&Te(y,"argument-error"),ve(y,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function je(y,...f){if("string"!=typeof y){const g=f[0],v=[...f.slice(1)];return v[0]&&(v[0].appName=y.name),y._errorFactory.create(g,...v)}return ye.create(y,...f)}function te(y,f,...g){if(!y)throw je(f,...g)}function z(y){const f="INTERNAL ASSERTION FAILED: "+y;throw rt(f),new Error(f)}function re(y,f){y||z(f)}const me=new Map;function ie(y){re(y instanceof Function,"Expected a class definition");let f=me.get(y);return f?(re(f instanceof y,"Instance stored in cache mismatched with class"),f):(f=new y,me.set(y,f),f)}function Dt(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Wt(){return"http:"===Mn()||"https:"===Mn()}function Mn(){var y;return"undefined"!=typeof self&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class on{constructor(f,g){this.shortDelay=f,this.longDelay=g,re(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function lt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Wt()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function an(y,f){re(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class Ei{static initialize(f,g,v){this.fetchImpl=f,g&&(this.headersImpl=g),v&&(this.responseImpl=v)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void z("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void z("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void z("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const en={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ns=new on(3e4,6e4);function Kt(y,f){return y.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:y.tenantId}):f}function jt(y,f,g,v){return rr.apply(this,arguments)}function rr(){return(rr=(0,c.Z)(function*(y,f,g,v,S={}){return ri(y,S,(0,c.Z)(function*(){let k={},q={};v&&("GET"===f?q=v:k={body:JSON.stringify(v)});const oe=(0,O.xO)(Object.assign({key:y.config.apiKey},q)).slice(1),Ve=yield y._getAdditionalHeaders();return Ve["Content-Type"]="application/json",y.languageCode&&(Ve["X-Firebase-Locale"]=y.languageCode),Ei.fetch()(kr(y,y.config.apiHost,g,oe),Object.assign({method:f,headers:Ve,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function ri(y,f,g){return Os.apply(this,arguments)}function Os(){return(Os=(0,c.Z)(function*(y,f,g){y._canInitEmulator=!1;const v=Object.assign(Object.assign({},en),f);try{const S=new rs(y),k=yield Promise.race([g(),S.promise]);S.clearNetworkTimeout();const q=yield k.json();if("needConfirmation"in q)throw is(y,"account-exists-with-different-credential",q);if(k.ok&&!("errorMessage"in q))return q;{const oe=k.ok?q.errorMessage:q.error.message,[Ve,Xe]=oe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Ve)throw is(y,"credential-already-in-use",q);if("EMAIL_EXISTS"===Ve)throw is(y,"email-already-in-use",q);const _t=v[Ve]||Ve.toLowerCase().replace(/[_\s]+/g,"-");if(Xe)throw ve(y,_t,Xe);Te(y,_t)}}catch(S){if(S instanceof O.ZR)throw S;Te(y,"network-request-failed")}})).apply(this,arguments)}function Rr(y,f,g,v){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,c.Z)(function*(y,f,g,v,S={}){const k=yield jt(y,f,g,v,S);return"mfaPendingCredential"in k&&Te(y,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function kr(y,f,g,v){const S=`${f}${g}?${v}`;return y.config.emulator?an(y.config,S):`${y.config.apiScheme}://${S}`}class rs{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,v)=>{this.timer=setTimeout(()=>v(_e(this.auth,"network-request-failed")),ns.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function is(y,f,g){const v={appName:y.name};g.email&&(v.email=g.email),g.phoneNumber&&(v.phoneNumber=g.phoneNumber);const S=_e(y,f,v);return S.customData._tokenResponse=g,S}function Gr(){return(Gr=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Qn(y,f){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function ii(y,f){return ho.apply(this,arguments)}function ho(){return(ho=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function fn(y){if(y)try{const f=new Date(Number(y));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function wa(){return(wa=(0,c.Z)(function*(y,f=!1){const g=(0,O.m9)(y),v=yield g.getIdToken(f),S=ot(v);te(S&&S.exp&&S.auth_time&&S.iat,g.auth,"internal-error");const k="object"==typeof S.firebase?S.firebase:void 0,q=null==k?void 0:k.sign_in_provider;return{claims:S,token:v,authTime:fn($t(S.auth_time)),issuedAtTime:fn($t(S.iat)),expirationTime:fn($t(S.exp)),signInProvider:q||null,signInSecondFactor:(null==k?void 0:k.sign_in_second_factor)||null}})).apply(this,arguments)}function $t(y){return 1e3*Number(y)}function ot(y){const[f,g,v]=y.split(".");if(void 0===f||void 0===g||void 0===v)return rt("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,O.tV)(g);return S?JSON.parse(S):(rt("Failed to decode base64 JWT payload"),null)}catch(S){return rt("Caught error parsing JWT payload as JSON",S),null}}function ir(y,f){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,c.Z)(function*(y,f,g=!1){if(g)return f;try{return yield f}catch(v){throw v instanceof O.ZR&&Bt(v)&&y.auth.currentUser===y&&(yield y.auth.signOut()),v}})).apply(this,arguments)}function Bt({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class fo{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const v=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),v}{this.errorBackoff=3e4;const S=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const v=this.getInterval(f);this.timerId=setTimeout((0,c.Z)(function*(){yield g.iteration()}),v)}iteration(){var f=this;return(0,c.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class yr{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=fn(this.lastLoginAt),this.creationTime=fn(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function sr(y){return ft.apply(this,arguments)}function ft(){return(ft=(0,c.Z)(function*(y){var f;const g=y.auth,v=yield y.getIdToken(),S=yield ir(y,ii(g,{idToken:v}));te(null==S?void 0:S.users.length,g,"internal-error");const k=S.users[0];y._notifyReloadListener(k);const q=(null===(f=k.providerUserInfo)||void 0===f?void 0:f.length)?Ie(k.providerUserInfo):[],oe=ze(y.providerData,q),_t=!!y.isAnonymous&&!(y.email&&k.passwordHash||(null==oe?void 0:oe.length)),ut={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:oe,metadata:new yr(k.createdAt,k.lastLoginAt),isAnonymous:_t};Object.assign(y,ut)})).apply(this,arguments)}function Ut(){return(Ut=(0,c.Z)(function*(y){const f=(0,O.m9)(y);yield sr(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function ze(y,f){return[...y.filter(v=>!f.some(S=>S.providerId===v.providerId)),...f]}function Ie(y){return y.map(f=>{var{providerId:g}=f,v=(0,X._T)(f,["providerId"]);return{providerId:g,uid:v.rawId||"",displayName:v.displayName||null,email:v.email||null,phoneNumber:v.phoneNumber||null,photoURL:v.photoUrl||null}})}function pt(){return(pt=(0,c.Z)(function*(y,f){const g=yield ri(y,{},(0,c.Z)(function*(){const v=(0,O.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:S,apiKey:k}=y.config,q=kr(y,S,"/v1/token",`key=${k}`),oe=yield y._getAdditionalHeaders();return oe["Content-Type"]="application/x-www-form-urlencoded",Ei.fetch()(q,{method:"POST",headers:oe,body:v})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class Vt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){te(f.idToken,"internal-error"),te(void 0!==f.idToken,"internal-error"),te(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function wt(y){const f=ot(y);return te(f,"internal-error"),te(void 0!==f.exp,"internal-error"),te(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var v=this;return(0,c.Z)(function*(){return te(!v.accessToken||v.refreshToken,f,"user-token-expired"),g||!v.accessToken||v.isExpired?v.refreshToken?(yield v.refresh(f,v.refreshToken),v.accessToken):null:v.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var v=this;return(0,c.Z)(function*(){const{accessToken:S,refreshToken:k,expiresIn:q}=yield function Je(y,f){return pt.apply(this,arguments)}(f,g);v.updateTokensAndExpiration(S,k,Number(q))})()}updateTokensAndExpiration(f,g,v){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*v}static fromJSON(f,g){const{refreshToken:v,accessToken:S,expirationTime:k}=g,q=new Vt;return v&&(te("string"==typeof v,"internal-error",{appName:f}),q.refreshToken=v),S&&(te("string"==typeof S,"internal-error",{appName:f}),q.accessToken=S),k&&(te("number"==typeof k,"internal-error",{appName:f}),q.expirationTime=k),q}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new Vt,this.toJSON())}_performRefresh(){return z("not implemented")}}function Ft(y,f){te("string"==typeof y||void 0===y,"internal-error",{appName:f})}class B{constructor(f){var{uid:g,auth:v,stsTokenManager:S}=f,k=(0,X._T)(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fo(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=v,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new yr(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,c.Z)(function*(){const v=yield ir(g,g.stsTokenManager.getToken(g.auth,f));return te(v,g.auth,"internal-error"),g.accessToken!==v&&(g.accessToken=v,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),v})()}getIdTokenResult(f){return function Ps(y){return wa.apply(this,arguments)}(this,f)}reload(){return function _r(y){return Ut.apply(this,arguments)}(this)}_assign(f){this!==f&&(te(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new B(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var v=this;return(0,c.Z)(function*(){let S=!1;f.idToken&&f.idToken!==v.stsTokenManager.accessToken&&(v.stsTokenManager.updateFromServerResponse(f),S=!0),g&&(yield sr(v)),yield v.auth._persistUserIfCurrent(v),S&&v.auth._notifyListenersIfCurrent(v)})()}delete(){var f=this;return(0,c.Z)(function*(){const g=yield f.getIdToken();return yield ir(f,function ct(y,f){return Gr.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var v,S,k,q,oe,Ve,Xe,_t;const ut=null!==(v=g.displayName)&&void 0!==v?v:void 0,Tn=null!==(S=g.email)&&void 0!==S?S:void 0,Yi=null!==(k=g.phoneNumber)&&void 0!==k?k:void 0,sc=null!==(q=g.photoURL)&&void 0!==q?q:void 0,Ru=null!==(oe=g.tenantId)&&void 0!==oe?oe:void 0,ku=null!==(Ve=g._redirectEventId)&&void 0!==Ve?Ve:void 0,sf=null!==(Xe=g.createdAt)&&void 0!==Xe?Xe:void 0,zy=null!==(_t=g.lastLoginAt)&&void 0!==_t?_t:void 0,{uid:sa,emailVerified:Td,isAnonymous:Ad,providerData:af,stsTokenManager:Sd}=g;te(sa&&Sd,f,"internal-error");const Ar=Vt.fromJSON(this.name,Sd);te("string"==typeof sa,f,"internal-error"),Ft(ut,f.name),Ft(Tn,f.name),te("boolean"==typeof Td,f,"internal-error"),te("boolean"==typeof Ad,f,"internal-error"),Ft(Yi,f.name),Ft(sc,f.name),Ft(Ru,f.name),Ft(ku,f.name),Ft(sf,f.name),Ft(zy,f.name);const uf=new B({uid:sa,auth:f,email:Tn,emailVerified:Td,displayName:ut,isAnonymous:Ad,photoURL:sc,phoneNumber:Yi,tenantId:Ru,stsTokenManager:Ar,createdAt:sf,lastLoginAt:zy});return af&&Array.isArray(af)&&(uf.providerData=af.map(sg=>Object.assign({},sg))),ku&&(uf._redirectEventId=ku),uf}static _fromIdTokenResponse(f,g,v=!1){return(0,c.Z)(function*(){const S=new Vt;S.updateFromServerResponse(g);const k=new B({uid:g.localId,auth:f,stsTokenManager:S,isAnonymous:v});return yield sr(k),k})()}}const G=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,c.Z)(function*(){return!0})()}_set(g,v){var S=this;return(0,c.Z)(function*(){S.storage[g]=v})()}_get(g){var v=this;return(0,c.Z)(function*(){const S=v.storage[g];return void 0===S?null:S})()}_remove(g){var v=this;return(0,c.Z)(function*(){delete v.storage[g]})()}_addListener(g,v){}_removeListener(g,v){}}return y.type="NONE",y})();function ce(y,f,g){return`firebase:${y}:${f}:${g}`}class Q{constructor(f,g,v){this.persistence=f,this.auth=g,this.userKey=v;const{config:S,name:k}=this.auth;this.fullUserKey=ce(this.userKey,S.apiKey,k),this.fullPersistenceKey=ce("persistence",S.apiKey,k),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,c.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?B._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,c.Z)(function*(){if(g.persistence===f)return;const v=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,v?g.setCurrentUser(v):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,v="authUser"){return(0,c.Z)(function*(){if(!g.length)return new Q(ie(G),f,v);const S=(yield Promise.all(g.map(function(){var Xe=(0,c.Z)(function*(_t){if(yield _t._isAvailable())return _t});return function(_t){return Xe.apply(this,arguments)}}()))).filter(Xe=>Xe);let k=S[0]||ie(G);const q=ce(v,f.config.apiKey,f.name);let oe=null;for(const Xe of g)try{const _t=yield Xe._get(q);if(_t){const ut=B._fromJSON(f,_t);Xe!==k&&(oe=ut),k=Xe;break}}catch(_t){}const Ve=S.filter(Xe=>Xe._shouldAllowMigration);return k._shouldAllowMigration&&Ve.length?(k=Ve[0],oe&&(yield k._set(q,oe.toJSON())),yield Promise.all(g.map(function(){var Xe=(0,c.Z)(function*(_t){if(_t!==k)try{yield _t._remove(q)}catch(ut){}});return function(_t){return Xe.apply(this,arguments)}}())),new Q(k,f,v)):new Q(k,f,v)})()}}function Ue(y){const f=y.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if(Ht(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(yt(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(kt(f))return"Blackberry";if(un(f))return"Webos";if(Zt(f))return"Safari";if((f.includes("chrome/")||vr(f))&&!f.includes("edge/"))return"Chrome";if(En(f))return"Android";{const v=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==v?void 0:v.length))return v[1]}return"Other"}function yt(y=(0,O.z$)()){return/firefox\//i.test(y)}function Zt(y=(0,O.z$)()){const f=y.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function vr(y=(0,O.z$)()){return/crios\//i.test(y)}function Ht(y=(0,O.z$)()){return/iemobile/i.test(y)}function En(y=(0,O.z$)()){return/android/i.test(y)}function kt(y=(0,O.z$)()){return/blackberry/i.test(y)}function un(y=(0,O.z$)()){return/webos/i.test(y)}function Xn(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)}function ss(y=(0,O.z$)()){return Xn(y)||En(y)||un(y)||kt(y)||/windows phone/i.test(y)||Ht(y)}function ba(y,f=[]){let g;switch(y){case"Browser":g=Ue((0,O.z$)());break;case"Worker":g=`${Ue((0,O.z$)())}-${y}`;break;default:g=y}const v=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ne.SDK_VERSION}/${v}`}class si{constructor(f,g,v){this.app=f,this.heartbeatServiceProvider=g,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ot(this),this.idTokenSubscription=new Ot(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(f,g){var v=this;return g&&(this._popupRedirectResolver=ie(g)),this._initializationPromise=this.queue((0,c.Z)(function*(){var S,k;if(!v._deleted&&(v.persistenceManager=yield Q.create(v,f),!v._deleted)){if(null===(S=v._popupRedirectResolver)||void 0===S?void 0:S._shouldInitProactively)try{yield v._popupRedirectResolver._initialize(v)}catch(q){}yield v.initializeCurrentUser(g),v.lastNotifiedUid=(null===(k=v.currentUser)||void 0===k?void 0:k.uid)||null,!v._deleted&&(v._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,c.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,c.Z)(function*(){var v;let S=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const k=null===(v=g.redirectUser)||void 0===v?void 0:v._redirectEventId,q=null==S?void 0:S._redirectEventId,oe=yield g.tryRedirectSignIn(f);(!k||k===q)&&(null==oe?void 0:oe.user)&&(S=oe.user)}return S?S._redirectEventId?(te(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===S._redirectEventId?g.directlySetCurrentUser(S):g.reloadAndSetCurrentUserOrClear(S)):g.reloadAndSetCurrentUserOrClear(S):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,c.Z)(function*(){let v=null;try{v=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(S){yield g._setRedirectUser(null)}return v})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,c.Z)(function*(){try{yield sr(f)}catch(v){if("auth/network-request-failed"!==v.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function mt(){if("undefined"==typeof navigator)return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var f=this;return(0,c.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){const v=f?(0,O.m9)(f):null;return v&&te(v.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(v&&v._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,c.Z)(function*(){if(!g._deleted)return f&&te(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,c.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,c.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,c.Z)(function*(){yield g.assertedPersistence.setPersistence(ie(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new O.LL("auth","Firebase",f())}onAuthStateChanged(f,g,v){return this.registerStateListener(this.authStateSubscription,f,g,v)}onIdTokenChanged(f,g,v){return this.registerStateListener(this.idTokenSubscription,f,g,v)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var v=this;return(0,c.Z)(function*(){const S=yield v.getOrInitRedirectPersistenceManager(g);return null===f?S.removeCurrentUser():S.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,c.Z)(function*(){if(!g.redirectPersistenceManager){const v=f&&ie(f)||g._popupRedirectResolver;te(v,g,"argument-error"),g.redirectPersistenceManager=yield Q.create(g,[ie(v._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,c.Z)(function*(){var v,S;return g._isInitialized&&(yield g.queue((0,c.Z)(function*(){}))),(null===(v=g._currentUser)||void 0===v?void 0:v._redirectEventId)===f?g._currentUser:(null===(S=g.redirectUser)||void 0===S?void 0:S._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,c.Z)(function*(){if(f===g.currentUser)return g.queue((0,c.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const v=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==v&&(this.lastNotifiedUid=v,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,v,S){if(this._deleted)return()=>{};const k="function"==typeof g?g:g.next.bind(g),q=this._isInitialized?Promise.resolve():this._initializationPromise;return te(q,this,"internal-error"),q.then(()=>k(this.currentUser)),"function"==typeof g?f.addObserver(g,v,S):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,c.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=ba(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var f=this;return(0,c.Z)(function*(){var g;const v={"X-Client-Version":f.clientVersion};f.app.options.appId&&(v["X-Firebase-gmpid"]=f.app.options.appId);const S=yield null===(g=f.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return S&&(v["X-Firebase-Client"]=S),v})()}}function Pe(y){return(0,O.m9)(y)}class Ot{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function or(y){const f=y.indexOf(":");return f<0?"":y.substr(0,f+1)}function Pn(y){if(!y)return null;const f=Number(y);return isNaN(f)?null:f}class tn{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return z("not implemented")}_getIdTokenResponse(f){return z("not implemented")}_linkToIdToken(f,g){return z("not implemented")}_getReauthenticationResolver(f){return z("not implemented")}}function Rn(y,f){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:resetPassword",Kt(y,f))})).apply(this,arguments)}function Rt(y,f){return $o.apply(this,arguments)}function $o(){return($o=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function oi(y,f){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:update",Kt(y,f))})).apply(this,arguments)}function er(){return(er=(0,c.Z)(function*(y,f){return Rr(y,"POST","/v1/accounts:signInWithPassword",Kt(y,f))})).apply(this,arguments)}function os(y,f){return as.apply(this,arguments)}function as(){return(as=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:sendOobCode",Kt(y,f))})).apply(this,arguments)}function qn(y,f){return nn.apply(this,arguments)}function nn(){return(nn=(0,c.Z)(function*(y,f){return os(y,f)})).apply(this,arguments)}function tu(y,f){return nu.apply(this,arguments)}function nu(){return(nu=(0,c.Z)(function*(y,f){return os(y,f)})).apply(this,arguments)}function bi(y,f){return ai.apply(this,arguments)}function ai(){return(ai=(0,c.Z)(function*(y,f){return os(y,f)})).apply(this,arguments)}function Gc(y,f){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,c.Z)(function*(y,f){return os(y,f)})).apply(this,arguments)}function qr(){return(qr=(0,c.Z)(function*(y,f){return Rr(y,"POST","/v1/accounts:signInWithEmailLink",Kt(y,f))})).apply(this,arguments)}function qc(){return(qc=(0,c.Z)(function*(y,f){return Rr(y,"POST","/v1/accounts:signInWithEmailLink",Kt(y,f))})).apply(this,arguments)}class iu extends tn{constructor(f,g,v,S=null){super("password",v),this._email=f,this._password=g,this._tenantId=S}static _fromEmailAndPassword(f,g){return new iu(f,g,"password")}static _fromEmailAndCode(f,g,v=null){return new iu(f,g,"emailLink",v)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,c.Z)(function*(){switch(g.signInMethod){case"password":return function Us(y,f){return er.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function ru(y,f){return qr.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:Te(f,"internal-error")}})()}_linkToIdToken(f,g){var v=this;return(0,c.Z)(function*(){switch(v.signInMethod){case"password":return Rt(f,{idToken:g,returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function Th(y,f){return qc.apply(this,arguments)}(f,{idToken:g,email:v._email,oobCode:v._password});default:Te(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function Fn(y,f){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,c.Z)(function*(y,f){return Rr(y,"POST","/v1/accounts:signInWithIdp",Kt(y,f))})).apply(this,arguments)}class us extends tn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new us(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):Te("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:S}=g,k=(0,X._T)(g,["providerId","signInMethod"]);if(!v||!S)return null;const q=new us(v,S);return q.idToken=k.idToken||void 0,q.accessToken=k.accessToken||void 0,q.secret=k.secret,q.nonce=k.nonce,q.pendingToken=k.pendingToken||null,q}_getIdTokenResponse(f){return Fn(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,Fn(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Fn(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,O.xO)(g)}return f}}function Pp(y,f){return su.apply(this,arguments)}function su(){return(su=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:sendVerificationCode",Kt(y,f))})).apply(this,arguments)}function Bs(){return(Bs=(0,c.Z)(function*(y,f){return Rr(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,f))})).apply(this,arguments)}function zc(){return(zc=(0,c.Z)(function*(y,f){const g=yield Rr(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,f));if(g.temporaryProof)throw is(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Lp={USER_NOT_FOUND:"user-not-found"};function Wc(){return(Wc=(0,c.Z)(function*(y,f){return Rr(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,Object.assign(Object.assign({},f),{operation:"REAUTH"})),Lp)})).apply(this,arguments)}class Ho extends tn{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Ho({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Ho({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function ml(y,f){return Bs.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function Fp(y,f){return zc.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function Up(y,f){return Wc.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:v,verificationCode:S}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:v,code:S}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:v,phoneNumber:S,temporaryProof:k}=f;return v||g||S||k?new Ho({verificationId:g,verificationCode:v,phoneNumber:S,temporaryProof:k}):null}}class go{constructor(f){var g,v,S,k,q,oe;const Ve=(0,O.zd)((0,O.pd)(f)),Xe=null!==(g=Ve.apiKey)&&void 0!==g?g:null,_t=null!==(v=Ve.oobCode)&&void 0!==v?v:null,ut=function yy(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Ve.mode)&&void 0!==S?S:null);te(Xe&&_t&&ut,"argument-error"),this.apiKey=Xe,this.operation=ut,this.code=_t,this.continueUrl=null!==(k=Ve.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(q=Ve.languageCode)&&void 0!==q?q:null,this.tenantId=null!==(oe=Ve.tenantId)&&void 0!==oe?oe:null}static parseLink(f){const g=function ou(y){const f=(0,O.zd)((0,O.pd)(y)).link,g=f?(0,O.zd)((0,O.pd)(f)).deep_link_id:null,v=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(v?(0,O.zd)((0,O.pd)(v)).link:null)||v||g||f||y}(f);try{return new go(g)}catch(v){return null}}}let yl=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,v){return iu._fromEmailAndPassword(g,v)}static credentialWithLink(g,v){const S=go.parseLink(v);return te(S,"argument-error"),iu._fromEmailAndCode(g,S.code,S.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class js{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Nr extends js{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class Go extends Nr{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return te("providerId"in g&&"signInMethod"in g,"argument-error"),us._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return te(f.idToken||f.accessToken,"argument-error"),us._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return Go.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return Go.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:v,oauthTokenSecret:S,pendingToken:k,nonce:q,providerId:oe}=f;if(!v&&!S&&!g&&!k||!oe)return null;try{return new Go(oe)._credential({idToken:g,accessToken:v,nonce:q,pendingToken:k})}catch(Ve){return null}}}let mo=(()=>{class y extends Nr{constructor(){super("facebook.com")}static credential(g){return us._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(v){return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ia=(()=>{class y extends Nr{constructor(){super("google.com"),this.addScope("profile")}static credential(g,v){return us._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:v,oauthAccessToken:S}=g;if(!v&&!S)return null;try{return y.credential(v,S)}catch(k){return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Kc=(()=>{class y extends Nr{constructor(){super("github.com")}static credential(g){return us._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch(v){return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class ls extends tn{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return Fn(f,this.buildRequest())}_linkToIdToken(f,g){const v=this.buildRequest();return v.idToken=g,Fn(f,v)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,Fn(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:v,signInMethod:S,pendingToken:k}=g;return v&&S&&k&&v===S?new ls(v,k):null}static _create(f,g){return new ls(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ui extends js{constructor(f){te(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return ui.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return ui.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=ls.fromJSON(f);return te(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:v}=f;if(!g||!v)return null;try{return ls._create(v,g)}catch(S){return null}}}let au=(()=>{class y extends Nr{constructor(){super("twitter.com")}static credential(g,v){return us._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:v})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:v,oauthTokenSecret:S}=g;if(!v||!S)return null;try{return y.credential(v,S)}catch(k){return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function uu(y,f){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,c.Z)(function*(y,f){return Rr(y,"POST","/v1/accounts:signUp",Kt(y,f))})).apply(this,arguments)}class ar{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,v,S=!1){return(0,c.Z)(function*(){const k=yield B._fromIdTokenResponse(f,v,S),q=Sh(v);return new ar({user:k,providerId:q,_tokenResponse:v,operationType:g})})()}static _forOperation(f,g,v){return(0,c.Z)(function*(){yield f._updateTokensIfNecessary(v,!0);const S=Sh(v);return new ar({user:f,providerId:S,_tokenResponse:v,operationType:g})})()}}function Sh(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Yc(){return(Yc=(0,c.Z)(function*(y){var f;const g=Pe(y);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new ar({user:g.currentUser,providerId:null,operationType:"signIn"});const v=yield uu(g,{returnSecureToken:!0}),S=yield ar._fromIdTokenResponse(g,"signIn",v,!0);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class cu extends O.ZR{constructor(f,g,v,S){var k;super(g.code,g.message),this.operationType=v,this.user=S,Object.setPrototypeOf(this,cu.prototype),this.customData={appName:f.name,tenantId:null!==(k=f.tenantId)&&void 0!==k?k:void 0,_serverResponse:g.customData._serverResponse,operationType:v}}static _fromErrorAndOperation(f,g,v,S){return new cu(f,g,v,S)}}function du(y,f,g,v){return("reauthenticate"===f?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?cu._fromErrorAndOperation(y,k,f,v):k})}function cs(y){return new Set(y.map(({providerId:f})=>f).filter(f=>!!f))}function _l(){return(_l=(0,c.Z)(function*(y,f){const g=(0,O.m9)(y);yield Hs(!0,g,f);const{providerUserInfo:v}=yield Qn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),S=cs(v||[]);return g.providerData=g.providerData.filter(k=>S.has(k.providerId)),S.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function dn(y,f){return qo.apply(this,arguments)}function qo(){return(qo=(0,c.Z)(function*(y,f,g=!1){const v=yield ir(y,f._linkToIdToken(y.auth,yield y.getIdToken()),g);return ar._forOperation(y,"link",v)})).apply(this,arguments)}function Hs(y,f,g){return rn.apply(this,arguments)}function rn(){return(rn=(0,c.Z)(function*(y,f,g){yield sr(f);const S=!1===y?"provider-already-linked":"no-such-provider";te(cs(f.providerData).has(g)===y,f.auth,S)})).apply(this,arguments)}function Qc(y,f){return yo.apply(this,arguments)}function yo(){return(yo=(0,c.Z)(function*(y,f,g=!1){const{auth:v}=y,S="reauthenticate";try{const k=yield ir(y,du(v,S,f,y),g);te(k.idToken,v,"internal-error");const q=ot(k.idToken);te(q,v,"internal-error");const{sub:oe}=q;return te(y.uid===oe,v,"user-mismatch"),ar._forOperation(y,S,k)}catch(k){throw"auth/user-not-found"===(null==k?void 0:k.code)&&Te(v,"user-mismatch"),k}})).apply(this,arguments)}function _o(y,f){return wr.apply(this,arguments)}function wr(){return(wr=(0,c.Z)(function*(y,f,g=!1){const v="signIn",S=yield du(y,v,f),k=yield ar._fromIdTokenResponse(y,v,S);return g||(yield y._updateCurrentUser(k.user)),k})).apply(this,arguments)}function kn(y,f){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,c.Z)(function*(y,f){return _o(Pe(y),f)})).apply(this,arguments)}function Ci(y,f){return Er.apply(this,arguments)}function Er(){return(Er=(0,c.Z)(function*(y,f){const g=(0,O.m9)(y);return yield Hs(!1,g,f.providerId),dn(g,f)})).apply(this,arguments)}function Gs(y,f){return ds.apply(this,arguments)}function ds(){return(ds=(0,c.Z)(function*(y,f){return Qc((0,O.m9)(y),f)})).apply(this,arguments)}function hu(y,f){return zr.apply(this,arguments)}function zr(){return(zr=(0,c.Z)(function*(y,f){return Rr(y,"POST","/v1/accounts:signInWithCustomToken",Kt(y,f))})).apply(this,arguments)}function Zs(){return(Zs=(0,c.Z)(function*(y,f){const g=Pe(y),v=yield hu(g,{token:f,returnSecureToken:!0}),S=yield ar._fromIdTokenResponse(g,"signIn",v);return yield g._updateCurrentUser(S.user),S})).apply(this,arguments)}class gt{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?fu._fromServerResponse(f,g):Te(f,"internal-error")}}class fu extends gt{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new fu(g)}}function Aa(y,f,g){var v;te((null===(v=g.url)||void 0===v?void 0:v.length)>0,y,"invalid-continue-uri"),te(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(te(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(te(g.android.packageName.length>0,y,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function gu(){return(gu=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y),S={requestType:"PASSWORD_RESET",email:f};g&&Aa(v,S,g),yield tu(v,S)})).apply(this,arguments)}function vl(){return(vl=(0,c.Z)(function*(y,f,g){yield Rn((0,O.m9)(y),{oobCode:f,newPassword:g})})).apply(this,arguments)}function be(){return(be=(0,c.Z)(function*(y,f){yield oi((0,O.m9)(y),{oobCode:f})})).apply(this,arguments)}function Lt(y,f){return El.apply(this,arguments)}function El(){return(El=(0,c.Z)(function*(y,f){const g=(0,O.m9)(y),v=yield Rn(g,{oobCode:f}),S=v.requestType;switch(te(S,g,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":te(v.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":te(v.mfaInfo,g,"internal-error");default:te(v.email,g,"internal-error")}let k=null;return v.mfaInfo&&(k=gt._fromServerResponse(Pe(g),v.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.newEmail:v.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===v.requestType?v.email:v.newEmail)||null,multiFactorInfo:k},operation:S}})).apply(this,arguments)}function Zo(){return(Zo=(0,c.Z)(function*(y,f){const{data:g}=yield Lt((0,O.m9)(y),f);return g.email})).apply(this,arguments)}function Wr(){return(Wr=(0,c.Z)(function*(y,f,g){const v=Pe(y),S=yield uu(v,{returnSecureToken:!0,email:f,password:g}),k=yield ar._fromIdTokenResponse(v,"signIn",S);return yield v._updateCurrentUser(k.user),k})).apply(this,arguments)}function Jc(){return(Jc=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y),S={requestType:"EMAIL_SIGNIN",email:f};te(g.handleCodeInApp,v,"argument-error"),g&&Aa(v,S,g),yield bi(v,S)})).apply(this,arguments)}function zs(){return(zs=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y),S=yl.credentialWithLink(f,g||Dt());return te(S._tenantId===(v.tenantId||null),v,"tenant-id-mismatch"),kn(v,S)})).apply(this,arguments)}function ur(y,f){return li.apply(this,arguments)}function li(){return(li=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:createAuthUri",Kt(y,f))})).apply(this,arguments)}function Ws(){return(Ws=(0,c.Z)(function*(y,f){const v={identifier:f,continueUri:Wt()?Dt():"http://localhost"},{signinMethods:S}=yield ur((0,O.m9)(y),v);return S||[]})).apply(this,arguments)}function Dl(){return(Dl=(0,c.Z)(function*(y,f){const g=(0,O.m9)(y),S={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};f&&Aa(g.auth,S,f);const{email:k}=yield qn(g.auth,S);k!==y.email&&(yield y.reload())})).apply(this,arguments)}function wu(){return(wu=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:f};g&&Aa(v.auth,k,g);const{email:q}=yield Gc(v.auth,k);q!==y.email&&(yield y.reload())})).apply(this,arguments)}function Tl(y,f){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,c.Z)(function*(y,f){return jt(y,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Al(){return(Al=(0,c.Z)(function*(y,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const v=(0,O.m9)(y),k={idToken:yield v.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},q=yield ir(v,Tl(v.auth,k));v.displayName=q.displayName||null,v.photoURL=q.photoUrl||null;const oe=v.providerData.find(({providerId:Ve})=>"password"===Ve);oe&&(oe.displayName=v.displayName,oe.photoURL=v.photoURL),yield v._updateTokensIfNecessary(q)})).apply(this,arguments)}function xl(y,f,g){return vo.apply(this,arguments)}function vo(){return(vo=(0,c.Z)(function*(y,f,g){const{auth:v}=y,k={idToken:yield y.getIdToken(),returnSecureToken:!0};f&&(k.email=f),g&&(k.password=g);const q=yield ir(y,Rt(v,k));yield y._updateTokensIfNecessary(q,!0)})).apply(this,arguments)}class wo{constructor(f,g,v={}){this.isNewUser=f,this.providerId=g,this.profile=v}}class td extends wo{constructor(f,g,v,S){super(f,g,v),this.username=S}}class nd extends wo{constructor(f,g){super(f,"facebook.com",g)}}class Eo extends td{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class Ks extends wo{constructor(f,g){super(f,"google.com",g)}}class Ml extends td{constructor(f,g,v){super(f,"twitter.com",g,v)}}function br(y){const{user:f,_tokenResponse:g}=y;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function ed(y){var f,g;if(!y)return null;const{providerId:v}=y,S=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},k=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!v&&(null==y?void 0:y.idToken)){const q=null===(g=null===(f=ot(y.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(q)return new wo(k,"anonymous"!==q&&"custom"!==q?q:null)}if(!v)return null;switch(v){case"facebook.com":return new nd(k,S);case"github.com":return new Eo(k,S);case"google.com":return new Ks(k,S);case"twitter.com":return new Ml(k,S,y.screenName||null);case"custom":case"anonymous":return new wo(k,null);default:return new wo(k,v,S)}}(g)}class hs{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new hs("enroll",f)}static _fromMfaPendingCredential(f){return new hs("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,v;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return hs._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(v=f.multiFactorSession)||void 0===v?void 0:v.idToken)return hs._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Ma{constructor(f,g,v){this.session=f,this.hints=g,this.signInResolver=v}static _fromError(f,g){const v=Pe(f),S=g.customData._serverResponse,k=(S.mfaInfo||[]).map(oe=>gt._fromServerResponse(v,oe));te(S.mfaPendingCredential,v,"internal-error");const q=hs._fromMfaPendingCredential(S.mfaPendingCredential);return new Ma(q,k,function(){var oe=(0,c.Z)(function*(Ve){const Xe=yield Ve._process(v,q);delete S.mfaInfo,delete S.mfaPendingCredential;const _t=Object.assign(Object.assign({},S),{idToken:Xe.idToken,refreshToken:Xe.refreshToken});switch(g.operationType){case"signIn":const ut=yield ar._fromIdTokenResponse(v,g.operationType,_t);return yield v._updateCurrentUser(ut.user),ut;case"reauthenticate":return te(g.user,v,"internal-error"),ar._forOperation(g.user,g.operationType,_t);default:Te(v,"internal-error")}});return function(Ve){return oe.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,c.Z)(function*(){return g.signInResolver(f)})()}}function Ln(y,f){return jt(y,"POST","/v2/accounts/mfaEnrollment:start",Kt(y,f))}class fs{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(v=>gt._fromServerResponse(f.auth,v)))})}static _fromUser(f){return new fs(f)}getSession(){var f=this;return(0,c.Z)(function*(){return hs._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var v=this;return(0,c.Z)(function*(){const S=f,k=yield v.getSession(),q=yield ir(v.user,S._process(v.user.auth,k,g));return yield v.user._updateTokensIfNecessary(q),v.user.reload()})()}unenroll(f){var g=this;return(0,c.Z)(function*(){const v="string"==typeof f?f:f.uid,S=yield g.user.getIdToken(),k=yield ir(g.user,function Bp(y,f){return jt(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(y,f))}(g.user.auth,{idToken:S,mfaEnrollmentId:v}));g.enrolledFactors=g.enrolledFactors.filter(({uid:q})=>q!==v),yield g.user._updateTokensIfNecessary(k);try{yield g.user.reload()}catch(q){if("auth/user-token-expired"!==q.code)throw q}})()}}const Wo=new WeakMap,Nl="__sak";class bo{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Nl,"1"),this.storage.removeItem(Nl),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const Nn=(()=>{class y extends bo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,v)=>this.onStorageEvent(g,v),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function od(){const y=(0,O.z$)();return Zt(y)||Xn(y)}()&&function Gn(){try{return!(!window||window===window.top)}catch(y){return!1}}(),this.fallbackToPolling=ss(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const v of Object.keys(this.listeners)){const S=this.storage.getItem(v),k=this.localCache[v];S!==k&&g(v,k,S)}}onStorageEvent(g,v=!1){if(!g.key)return void this.forAllChangedKeys((oe,Ve,Xe)=>{this.notifyListeners(oe,Xe)});const S=g.key;if(v?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const oe=this.storage.getItem(S);if(g.newValue!==oe)null!==g.newValue?this.storage.setItem(S,g.newValue):this.storage.removeItem(S);else if(this.localCache[S]===g.newValue&&!v)return}const k=()=>{const oe=this.storage.getItem(S);!v&&this.localCache[S]===oe||this.notifyListeners(S,oe)},q=this.storage.getItem(S);!function Ea(){return(0,O.w1)()&&10===document.documentMode}()||q===g.newValue||g.newValue===g.oldValue?k():setTimeout(k,10)}notifyListeners(g,v){this.localCache[g]=v;const S=this.listeners[g];if(S)for(const k of Array.from(S))k(v&&JSON.parse(v))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,v,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:v,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,v){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,v){var S=()=>super._set,k=this;return(0,c.Z)(function*(){yield S().call(k,g,v),k.localCache[g]=JSON.stringify(v)})()}_get(g){var v=()=>super._get,S=this;return(0,c.Z)(function*(){const k=yield v().call(S,g);return S.localCache[g]=JSON.stringify(k),k})()}_remove(g){var v=()=>super._remove,S=this;return(0,c.Z)(function*(){yield v().call(S,g),delete S.localCache[g]})()}}return y.type="LOCAL",y})(),lr=(()=>{class y extends bo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,v){}_removeListener(g,v){}}return y.type="SESSION",y})();let Cr=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const v=this.receivers.find(k=>k.isListeningto(g));if(v)return v;const S=new y(g);return this.receivers.push(S),S}isListeningto(g){return this.eventTarget===g}handleEvent(g){var v=this;return(0,c.Z)(function*(){const S=g,{eventId:k,eventType:q,data:oe}=S.data,Ve=v.handlersMap[q];if(!(null==Ve?void 0:Ve.size))return;S.ports[0].postMessage({status:"ack",eventId:k,eventType:q});const Xe=Array.from(Ve).map(function(){var ut=(0,c.Z)(function*(Tn){return Tn(S.origin,oe)});return function(Tn){return ut.apply(this,arguments)}}()),_t=yield function Or(y){return Promise.all(y.map(function(){var f=(0,c.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(v){return{fulfilled:!1,reason:v}}});return function(g){return f.apply(this,arguments)}}()))}(Xe);S.ports[0].postMessage({status:"done",eventId:k,eventType:q,response:_t})})()}_subscribe(g,v){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(v)}_unsubscribe(g,v){this.handlersMap[g]&&v&&this.handlersMap[g].delete(v),(!v||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Ko(y="",f=10){let g="";for(let v=0;v<f;v++)g+=Math.floor(10*Math.random());return y+g}class ad{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,v=50){var S=this;return(0,c.Z)(function*(){const k="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let q,oe;return new Promise((Ve,Xe)=>{const _t=Ko("",20);k.port1.start();const ut=setTimeout(()=>{Xe(new Error("unsupported_event"))},v);oe={messageChannel:k,onMessage(Tn){const Yi=Tn;if(Yi.data.eventId===_t)switch(Yi.data.status){case"ack":clearTimeout(ut),q=setTimeout(()=>{Xe(new Error("timeout"))},3e3);break;case"done":clearTimeout(q),Ve(Yi.data.response);break;default:clearTimeout(ut),clearTimeout(q),Xe(new Error("invalid_response"))}}},S.handlers.add(oe),k.port1.addEventListener("message",oe.onMessage),S.target.postMessage({eventType:f,eventId:_t,data:g},[k.port2])}).finally(()=>{oe&&S.removeMessageHandler(oe)})})()}}function cn(){return window}function Di(){return void 0!==cn().WorkerGlobalScope&&"function"==typeof cn().importScripts}function ci(){return(ci=(0,c.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(y){return null}})).apply(this,arguments)}const Ol="firebaseLocalStorageDb",Co="firebaseLocalStorage",Cn="fbase_key";class ps{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Io(y,f){return y.transaction([Co],f?"readwrite":"readonly").objectStore(Co)}function Qs(){const y=indexedDB.open(Ol,1);return new Promise((f,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const v=y.result;try{v.createObjectStore(Co,{keyPath:Cn})}catch(S){g(S)}}),y.addEventListener("success",(0,c.Z)(function*(){const v=y.result;v.objectStoreNames.contains(Co)?f(v):(v.close(),yield function di(){const y=indexedDB.deleteDatabase(Ol);return new ps(y).toPromise()}(),f(yield Qs()))}))})}function Ra(y,f,g){return $i.apply(this,arguments)}function $i(){return($i=(0,c.Z)(function*(y,f,g){const v=Io(y,!0).put({[Cn]:f,value:g});return new ps(v).toPromise()})).apply(this,arguments)}function Js(){return(Js=(0,c.Z)(function*(y,f){const g=Io(y,!1).get(f),v=yield new ps(g).toPromise();return void 0===v?null:v.value})).apply(this,arguments)}function Hi(y,f){const g=Io(y,!0).delete(f);return new ps(g).toPromise()}const Ti=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,c.Z)(function*(){return g.db||(g.db=yield Qs()),g.db})()}_withRetries(g){var v=this;return(0,c.Z)(function*(){let S=0;for(;;)try{const k=yield v._openDb();return yield g(k)}catch(k){if(S++>3)throw k;v.db&&(v.db.close(),v.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,c.Z)(function*(){return Di()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,c.Z)(function*(){g.receiver=Cr._getInstance(function ud(){return Di()?self:null}()),g.receiver._subscribe("keyChanged",function(){var v=(0,c.Z)(function*(S,k){return{keyProcessed:(yield g._poll()).includes(k.key)}});return function(S,k){return v.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var v=(0,c.Z)(function*(S,k){return["keyChanged"]});return function(S,k){return v.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,c.Z)(function*(){var v,S;if(g.activeServiceWorker=yield function bu(){return ci.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new ad(g.activeServiceWorker);const k=yield g.sender._send("ping",{},800);!k||(null===(v=k[0])||void 0===v?void 0:v.fulfilled)&&(null===(S=k[0])||void 0===S?void 0:S.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var v=this;return(0,c.Z)(function*(){if(v.sender&&v.activeServiceWorker&&function Tt(){var y;return(null===(y=null==navigator?void 0:navigator.serviceWorker)||void 0===y?void 0:y.controller)||null}()===v.activeServiceWorker)try{yield v.sender._send("keyChanged",{key:g},v.serviceWorkerReceiverAvailable?800:50)}catch(S){}})()}_isAvailable(){return(0,c.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Qs();return yield Ra(g,Nl,"1"),yield Hi(g,Nl),!0}catch(g){}return!1})()}_withPendingWrite(g){var v=this;return(0,c.Z)(function*(){v.pendingWrites++;try{yield g()}finally{v.pendingWrites--}})()}_set(g,v){var S=this;return(0,c.Z)(function*(){return S._withPendingWrite((0,c.Z)(function*(){return yield S._withRetries(k=>Ra(k,g,v)),S.localCache[g]=v,S.notifyServiceWorker(g)}))})()}_get(g){var v=this;return(0,c.Z)(function*(){const S=yield v._withRetries(k=>function Pl(y,f){return Js.apply(this,arguments)}(k,g));return v.localCache[g]=S,S})()}_remove(g){var v=this;return(0,c.Z)(function*(){return v._withPendingWrite((0,c.Z)(function*(){return yield v._withRetries(S=>Hi(S,g)),delete v.localCache[g],v.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,c.Z)(function*(){const v=yield g._withRetries(q=>{const oe=Io(q,!1).getAll();return new ps(oe).toPromise()});if(!v)return[];if(0!==g.pendingWrites)return[];const S=[],k=new Set;for(const{fbase_key:q,value:oe}of v)k.add(q),JSON.stringify(g.localCache[q])!==JSON.stringify(oe)&&(g.notifyListeners(q,oe),S.push(q));for(const q of Object.keys(g.localCache))g.localCache[q]&&!k.has(q)&&(g.notifyListeners(q,null),S.push(q));return S})()}notifyListeners(g,v){this.localCache[g]=v;const S=this.listeners[g];if(S)for(const k of Array.from(S))k(v)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,c.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,v){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(v)}_removeListener(g,v){this.listeners[g]&&(this.listeners[g].delete(v),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Qo(y,f){return jt(y,"POST","/v2/accounts/mfaSignIn:start",Kt(y,f))}function Ai(){return(Ai=(0,c.Z)(function*(y){return(yield jt(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function hn(y){return new Promise((f,g)=>{const v=document.createElement("script");v.setAttribute("src",y),v.onload=f,v.onerror=S=>{const k=_e("internal-error");k.customData=S,g(k)},v.type="text/javascript",v.charset="UTF-8",function cd(){var y,f;return null!==(f=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==f?f:document}().appendChild(v)})}function gs(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Ir=1e12;class Gi{constructor(f){this.auth=f,this.counter=Ir,this._widgets=new Map}render(f,g){const v=this.counter;return this._widgets.set(v,new qi(f,this.auth.name,g||{})),this.counter++,v}reset(f){var g;const v=f||Ir;null===(g=this._widgets.get(v))||void 0===g||g.delete(),this._widgets.delete(v)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Ir))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,c.Z)(function*(){var v;return null===(v=g._widgets.get(f||Ir))||void 0===v||v.execute(),""})()}}class qi{constructor(f,g,v){this.params=v,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof f?document.getElementById(f):f;te(S,"argument-error",{appName:g}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function yn(y){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let v=0;v<y;v++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}(50);const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(v){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(v){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xs=gs("rcb"),dd=new on(3e4,6e4);class $p{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!cn().grecaptcha}load(f,g=""){return te(function Hp(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(cn().grecaptcha):new Promise((v,S)=>{const k=cn().setTimeout(()=>{S(_e(f,"network-request-failed"))},dd.get());cn()[Xs]=()=>{cn().clearTimeout(k),delete cn()[Xs];const oe=cn().grecaptcha;if(!oe)return void S(_e(f,"internal-error"));const Ve=oe.render;oe.render=(Xe,_t)=>{const ut=Ve(Xe,_t);return this.counter++,ut},this.hostLanguage=g,v(oe)},hn(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Xs,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(k),S(_e(f,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!cn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Rh{load(f){return(0,c.Z)(function*(){return new Gi(f)})()}clearedOneInstance(){}}const eo="recaptcha",Kr={theme:"light",type:"image"};class Gp{constructor(f,g=Object.assign({},Kr),v){this.parameters=g,this.type=eo,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pe(v),this.isInvisible="invisible"===this.parameters.size,te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof f?document.getElementById(f):f;te(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Rh:new $p,this.validateStartingState()}verify(){var f=this;return(0,c.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),v=f.getAssertedRecaptcha();return v.getResponse(g)||new Promise(k=>{const q=oe=>{!oe||(f.tokenChangeListeners.delete(q),k(oe))};f.tokenChangeListeners.add(q),f.isInvisible&&v.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){te(!this.parameters.sitekey,this.auth,"argument-error"),te(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),te("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(v=>v(g)),"function"==typeof f)f(g);else if("string"==typeof f){const v=cn()[f];"function"==typeof v&&v(g)}}}assertNotDestroyed(){te(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,c.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const v=document.createElement("div");g.appendChild(v),g=v}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,c.Z)(function*(){te(Wt()&&!Di(),f.auth,"internal-error"),yield function to(){let y=null;return new Promise(f=>{"complete"!==document.readyState?(y=()=>f(),window.addEventListener("load",y)):f()}).catch(f=>{throw y&&window.removeEventListener("load",y),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function cr(y){return Ai.apply(this,arguments)}(f.auth);te(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return te(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ms{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Ho._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function _n(){return(_n=(0,c.Z)(function*(y,f,g){const v=Pe(y),S=yield dr(v,f,(0,O.m9)(g));return new ms(S,k=>kn(v,k))})).apply(this,arguments)}function Xo(){return(Xo=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y);yield Hs(!1,v,"phone");const S=yield dr(v.auth,f,(0,O.m9)(g));return new ms(S,k=>Ci(v,k))})).apply(this,arguments)}function Vl(){return(Vl=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y),S=yield dr(v.auth,f,(0,O.m9)(g));return new ms(S,k=>Gs(v,k))})).apply(this,arguments)}function dr(y,f,g){return hi.apply(this,arguments)}function hi(){return(hi=(0,c.Z)(function*(y,f,g){var v;const S=yield g.verify();try{let k;if(te("string"==typeof S,y,"argument-error"),te(g.type===eo,y,"argument-error"),k="string"==typeof f?{phoneNumber:f}:f,"session"in k){const q=k.session;if("phoneNumber"in k)return te("enroll"===q.type,y,"internal-error"),(yield Ln(y,{idToken:q.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{te("signin"===q.type,y,"internal-error");const oe=(null===(v=k.multiFactorHint)||void 0===v?void 0:v.uid)||k.multiFactorUid;return te(oe,y,"missing-multi-factor-info"),(yield Qo(y,{mfaPendingCredential:q.credential,mfaEnrollmentId:oe,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:q}=yield Pp(y,{phoneNumber:k.phoneNumber,recaptchaToken:S});return q}}finally{g._reset()}})).apply(this,arguments)}function ys(){return(ys=(0,c.Z)(function*(y,f){yield dn((0,O.m9)(y),f)})).apply(this,arguments)}let xi=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Pe(g)}verifyPhoneNumber(g,v){return dr(this.auth,g,(0,O.m9)(v))}static credential(g,v){return Ho._fromVerification(g,v)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:v,temporaryProof:S}=g;return v&&S?Ho._fromTokenResponse(v,S):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Zi(y,f){return f?ie(f):(te(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Oa extends tn{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return Fn(f,this._buildIdpRequest())}_linkToIdToken(f,g){return Fn(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return Fn(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function jl(y){return _o(y.auth,new Oa(y),y.bypassAuthState)}function $l(y){const{auth:f,user:g}=y;return te(g,f,"internal-error"),Qc(g,new Oa(y),y.bypassAuthState)}function Pt(y){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,c.Z)(function*(y){const{auth:f,user:g}=y;return te(g,f,"internal-error"),dn(g,new Oa(y),y.bypassAuthState)})).apply(this,arguments)}class Zn{constructor(f,g,v,S,k=!1){this.auth=f,this.resolver=v,this.user=S,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,c.Z)(function*(v,S){f.pendingPromise={resolve:v,reject:S};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(k){f.reject(k)}});return function(v,S){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,c.Z)(function*(){const{urlResponse:v,sessionId:S,postBody:k,tenantId:q,error:oe,type:Ve}=f;if(oe)return void g.reject(oe);const Xe={auth:g.auth,requestUri:v,sessionId:S,tenantId:q||void 0,postBody:k||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Ve)(Xe))}catch(_t){g.reject(_t)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return jl;case"linkViaPopup":case"linkViaRedirect":return Pt;case"reauthViaPopup":case"reauthViaRedirect":return $l;default:Te(this.auth,"internal-error")}}resolve(f){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){re(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Gl=new on(2e3,1e4);function hd(){return(hd=(0,c.Z)(function*(y,f,g){const v=Pe(y);Ge(y,f,js);const S=Zi(v,g);return new Wi(v,"signInViaPopup",f,S).executeNotNull()})).apply(this,arguments)}function Cu(){return(Cu=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y);Ge(v.auth,f,js);const S=Zi(v.auth,g);return new Wi(v.auth,"reauthViaPopup",f,S,v).executeNotNull()})).apply(this,arguments)}function Iu(){return(Iu=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y);Ge(v.auth,f,js);const S=Zi(v.auth,g);return new Wi(v.auth,"linkViaPopup",f,S,v).executeNotNull()})).apply(this,arguments)}let Wi=(()=>{class y extends Zn{constructor(g,v,S,k,q){super(g,v,k,q),this.provider=S,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,c.Z)(function*(){const v=yield g.execute();return te(v,g.auth,"internal-error"),v})()}onExecution(){var g=this;return(0,c.Z)(function*(){re(1===g.filter.length,"Popup operations only handle one event");const v=Ko();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],v),g.authWindow.associatedEvent=v,g.resolver._originValidation(g.auth).catch(S=>{g.reject(S)}),g.resolver._isIframeWebStorageSupported(g.auth,S=>{S||g.reject(_e(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(_e(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var v,S;this.pollId=(null===(S=null===(v=this.authWindow)||void 0===v?void 0:v.window)||void 0===S?void 0:S.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(_e(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Gl.get())};g()}}return y.currentPopupAction=null,y})();const Ki=new Map;class Un extends Zn{constructor(f,g,v=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,v),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,c.Z)(function*(){let v=Ki.get(g.auth._key());if(!v){try{const k=(yield function fi(y,f){return ql.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;v=()=>Promise.resolve(k)}catch(S){v=()=>Promise.reject(S)}Ki.set(g.auth._key(),v)}return g.bypassAuthState||Ki.set(g.auth._key(),()=>Promise.resolve(null)),v()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,v=this;return(0,c.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(v,f);if("unknown"!==f.type){if(f.eventId){const S=yield v.auth._redirectUserForId(f.eventId);if(S)return v.user=S,g().call(v,f);v.resolve(null)}}else v.resolve(null)})()}onExecution(){return(0,c.Z)(function*(){})()}cleanUp(){}}function ql(){return(ql=(0,c.Z)(function*(y,f){const g=D(f),v=C(y);if(!(yield v._isAvailable()))return!1;const S="true"===(yield v._get(g));return yield v._remove(g),S})).apply(this,arguments)}function To(y,f){return ea.apply(this,arguments)}function ea(){return(ea=(0,c.Z)(function*(y,f){return C(y)._set(D(f),"true")})).apply(this,arguments)}function C(y){return ie(y._redirectPersistence)}function D(y){return ce("pendingRedirect",y.config.apiKey,y.name)}function W(){return(W=(0,c.Z)(function*(y,f,g){const v=Pe(y);Ge(y,f,js);const S=Zi(v,g);return yield To(S,v),S._openRedirect(v,f,"signInViaRedirect")})).apply(this,arguments)}function Me(){return(Me=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y);Ge(v.auth,f,js);const S=Zi(v.auth,g);yield To(S,v.auth);const k=yield Ao(v);return S._openRedirect(v.auth,f,"reauthViaRedirect",k)})).apply(this,arguments)}function Nt(){return(Nt=(0,c.Z)(function*(y,f,g){const v=(0,O.m9)(y);Ge(v.auth,f,js);const S=Zi(v.auth,g);yield Hs(!1,v,f.providerId),yield To(S,v.auth);const k=yield Ao(v);return S._openRedirect(v.auth,f,"linkViaRedirect",k)})).apply(this,arguments)}function Vn(){return(Vn=(0,c.Z)(function*(y,f){return yield Pe(y)._initializationPromise,Dn(y,f,!1)})).apply(this,arguments)}function Dn(y,f){return ta.apply(this,arguments)}function ta(){return(ta=(0,c.Z)(function*(y,f,g=!1){const v=Pe(y),S=Zi(v,f),q=yield new Un(v,S,g).execute();return q&&!g&&(delete q.user._redirectEventId,yield v._persistUserIfCurrent(q.user),yield v._setRedirectUser(null,f)),q})).apply(this,arguments)}function Ao(y){return Pr.apply(this,arguments)}function Pr(){return(Pr=(0,c.Z)(function*(y){const f=Ko(`${y.uid}:::`);return y._redirectEventId=f,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),f})).apply(this,arguments)}class Mi{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(v=>{this.isEventForConsumer(f,v)&&(g=!0,this.sendToConsumer(f,v),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function Zl(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pd(y);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var v;if(f.error&&!pd(f)){const S=(null===(v=f.error.code)||void 0===v?void 0:v.split("auth/")[1])||"internal-error";g.onError(_e(this.auth,S))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const v=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&v}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(So(f))}saveEventToCache(f){this.cachedEventUids.add(So(f)),this.lastProcessedEventTime=Date.now()}}function So(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(f=>f).join("-")}function pd({type:y,error:f}){return"unknown"===y&&"auth/no-auth-event"===(null==f?void 0:f.code)}function zl(y){return Pa.apply(this,arguments)}function Pa(){return(Pa=(0,c.Z)(function*(y,f={}){return jt(y,"GET","/v1/projects",f)})).apply(this,arguments)}const Zp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wy=/^https?/;function _s(){return(_s=(0,c.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:f}=yield zl(y);for(const g of f)try{if(Wl(g))return}catch(v){}Te(y,"unauthorized-domain")})).apply(this,arguments)}function Wl(y){const f=Dt(),{protocol:g,hostname:v}=new URL(f);if(y.startsWith("chrome-extension://")){const q=new URL(y);return""===q.hostname&&""===v?"chrome-extension:"===g&&y.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&q.hostname===v}if(!wy.test(g))return!1;if(Zp.test(y))return v===y;const S=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(v)}const by=new on(3e4,6e4);function Cy(){const y=cn().___jsl;if(null==y?void 0:y.H)for(const f of Object.keys(y.H))if(y.H[f].r=y.H[f].r||[],y.H[f].L=y.H[f].L||[],y.H[f].r=[...y.H[f].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let gd=null;function Iy(y){return gd=gd||function zp(y){return new Promise((f,g)=>{var v,S,k;function q(){Cy(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{Cy(),g(_e(y,"network-request-failed"))},timeout:by.get()})}if(null===(S=null===(v=cn().gapi)||void 0===v?void 0:v.iframes)||void 0===S?void 0:S.Iframe)f(gapi.iframes.getContext());else{if(!(null===(k=cn().gapi)||void 0===k?void 0:k.load)){const oe=gs("iframefcb");return cn()[oe]=()=>{gapi.load?q():g(_e(y,"network-request-failed"))},hn(`https://apis.google.com/js/api.js?onload=${oe}`).catch(Ve=>g(Ve))}q()}}).catch(f=>{throw gd=null,f})}(y),gd}const kh=new on(5e3,15e3),Mo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},md=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Fa(y){const f=y.config;te(f.authDomain,y,"auth-domain-config-required");const g=f.emulator?an(f,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,v={apiKey:f.apiKey,appName:y.name,v:ne.SDK_VERSION},S=md.get(y.config.apiHost);S&&(v.eid=S);const k=y._getFrameworks();return k.length&&(v.fw=k.join(",")),`${g}?${(0,O.xO)(v).slice(1)}`}function vs(){return vs=(0,c.Z)(function*(y){const f=yield Iy(y),g=cn().gapi;return te(g,y,"internal-error"),f.open({where:document.body,url:Fa(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mo,dontclear:!0},v=>new Promise(function(){var S=(0,c.Z)(function*(k,q){yield v.restyle({setHideOnLeave:!1});const oe=_e(y,"network-request-failed"),Ve=cn().setTimeout(()=>{q(oe)},kh.get());function Xe(){cn().clearTimeout(Ve),k(v)}v.ping(Xe).then(Xe,()=>{q(oe)})});return function(k,q){return S.apply(this,arguments)}}()))}),vs.apply(this,arguments)}const Ty={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vd{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Fh(y,f,g,v,S,k){te(y.config.authDomain,y,"auth-domain-config-required"),te(y.config.apiKey,y,"invalid-api-key");const q={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:v,v:ne.SDK_VERSION,eventId:S};if(f instanceof js){f.setDefaultLanguage(y.languageCode),q.providerId=f.providerId||"",(0,O.xb)(f.getCustomParameters())||(q.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Ve,Xe]of Object.entries(k||{}))q[Ve]=Xe}if(f instanceof Nr){const Ve=f.getScopes().filter(Xe=>""!==Xe);Ve.length>0&&(q.scopes=Ve.join(","))}y.tenantId&&(q.tid=y.tenantId);const oe=q;for(const Ve of Object.keys(oe))void 0===oe[Ve]&&delete oe[Ve];return`${function Sy({config:y}){return y.emulator?an(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,O.xO)(oe).slice(1)}`}const ro="webStorageSupport";class Lh extends class Wp{constructor(f){this.factorId=f}_process(f,g,v){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,v);case"signin":return this._finalizeSignIn(f,g.credential);default:return z("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new Lh(f)}_finalizeEnroll(f,g,v){return function id(y,f){return jt(y,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(y,f))}(f,{idToken:g,displayName:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function ka(y,f){return jt(y,"POST","/v2/accounts/mfaSignIn:finalize",Kt(y,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let xy=(()=>{class y{constructor(){}static assertion(g){return Lh._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var My="@firebase/auth",Uh="0.19.11";class Kp{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,c.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(v=>{var S;f((null===(S=v)||void 0===S?void 0:S.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function io(){return window}function Su(){return(Su=(0,c.Z)(function*(y,f,g){var v;const{BuildInfo:S}=io();re(f.sessionId,"AuthEvent did not contain a session ID");const k=yield La(f.sessionId),q={};return Xn()?q.ibi=S.packageName:En()?q.apn=S.packageName:Te(y,"operation-not-supported-in-this-environment"),S.displayName&&(q.appDisplayName=S.displayName),q.sessionId=k,Fh(y,g,f.type,void 0,null!==(v=f.eventId)&&void 0!==v?v:void 0,q)})).apply(this,arguments)}function Ri(){return(Ri=(0,c.Z)(function*(y){const{BuildInfo:f}=io(),g={};Xn()?g.iosBundleId=f.packageName:En()?g.androidPackageName=f.packageName:Te(y,"operation-not-supported-in-this-environment"),yield zl(y,g)})).apply(this,arguments)}function Ed(){return(Ed=(0,c.Z)(function*(y,f,g){const{cordova:v}=io();let S=()=>{};try{yield new Promise((k,q)=>{let oe=null;function Ve(){var ut;k();const Tn=null===(ut=v.plugins.browsertab)||void 0===ut?void 0:ut.close;"function"==typeof Tn&&Tn(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Xe(){oe||(oe=window.setTimeout(()=>{q(_e(y,"redirect-cancelled-by-user"))},2e3))}function _t(){"visible"===(null==document?void 0:document.visibilityState)&&Xe()}f.addPassiveListener(Ve),document.addEventListener("resume",Xe,!1),En()&&document.addEventListener("visibilitychange",_t,!1),S=()=>{f.removePassiveListener(Ve),document.removeEventListener("resume",Xe,!1),document.removeEventListener("visibilitychange",_t,!1),oe&&window.clearTimeout(oe)}})}finally{S()}})).apply(this,arguments)}function La(y){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,c.Z)(function*(y){const f=xu(y),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(S=>S.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function xu(y){if(re(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(y);const f=new ArrayBuffer(y.length),g=new Uint8Array(f);for(let v=0;v<y.length;v++)g[v]=y.charCodeAt(v);return g}!function ky(y){(0,ne._registerComponent)(new se.wA("auth",(f,{options:g})=>{const v=f.getProvider("app").getImmediate(),S=f.getProvider("heartbeat"),{apiKey:k,authDomain:q}=v.options;return((oe,Ve)=>{te(k&&!k.includes(":"),"invalid-api-key",{appName:oe.name}),te(!(null==q?void 0:q.includes(":")),"argument-error",{appName:oe.name});const Xe={apiKey:k,authDomain:q,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ba(y)},_t=new si(oe,Ve,Xe);return function ae(y,f){const g=(null==f?void 0:f.persistence)||[],v=(Array.isArray(g)?g:[g]).map(ie);(null==f?void 0:f.errorMap)&&y._updateErrorMap(f.errorMap),y._initializeWithPersistence(v,null==f?void 0:f.popupRedirectResolver)}(_t,g),_t})(v,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,v)=>{f.getProvider("auth-internal").initialize()})),(0,ne._registerComponent)(new se.wA("auth-internal",f=>{const g=Pe(f.getProvider("auth").getImmediate());return new Kp(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ne.registerVersion)(My,Uh,function Ry(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,ne.registerVersion)(My,Uh,"esm2017")}("Browser");class $h extends Mi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,c.Z)(function*(){yield f.initPromise})()}}function Ql(y){return ra.apply(this,arguments)}function ra(){return(ra=(0,c.Z)(function*(y){const f=yield Xl()._get(Gh(y));return f&&(yield Xl()._remove(Gh(y))),f})).apply(this,arguments)}function Jl(){const y=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const v=Math.floor(Math.random()*f.length);y.push(f.charAt(v))}return y.join("")}function Xl(){return ie(Nn)}function Gh(y){return ce("authEvent",y.config.apiKey,y.name)}function Cd(y){if(!(null==y?void 0:y.includes("?")))return{};const[f,...g]=y.split("?");return(0,O.zd)(g.join("?"))}function Wh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:_e("no-auth-event")}}function Id(){var y;return(null===(y=null==self?void 0:self.location)||void 0===y?void 0:y.protocol)||null}function Xp(y=(0,O.z$)()){return!("file:"!==Id()&&"ionic:"!==Id()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Dr(){try{const y=self.localStorage,f=Ko();if(y)return y.setItem(f,"1"),y.removeItem(f),!function ia(y=(0,O.z$)()){return function Ly(){return(0,O.w1)()&&11===(null==document?void 0:document.documentMode)}()||function Uy(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch(y){return Ro()&&(0,O.hl)()}return!1}function Ro(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function nc(){return(function Fy(){return"http:"===Id()||"https:"===Id()}()||(0,O.ru)()||Xp())&&!function Dd(){return(0,O.b$)()||(0,O.UG)()}()&&Dr()&&!Ro()}function Kh(){return Xp()&&"undefined"!=typeof document}function Ua(){return(Ua=(0,c.Z)(function*(){return!!Kh()&&new Promise(y=>{const f=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),y(!0)})})})).apply(this,arguments)}const ki={LOCAL:"local",NONE:"none",SESSION:"session"},Va=te,Qh="persistence";function Ba(y){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,c.Z)(function*(y){yield y._initializationPromise;const f=rc(),g=ce(Qh,y.config.apiKey,y.name);f&&f.setItem(g,y._getPersistence())})).apply(this,arguments)}function rc(){var y;try{return(null===(y=function Yh(){return"undefined"!=typeof window?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch(f){return null}}const Vy=te;class gi{constructor(){this.browserResolver=ie(class na{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lr,this._completeRedirectFn=Dn}_openPopup(f,g,v,S){var k=this;return(0,c.Z)(function*(){var q;re(null===(q=k.eventManagers[f._key()])||void 0===q?void 0:q.manager,"_initialize() not called before _openPopup()");const oe=Fh(f,g,v,Dt(),S);return function wd(y,f,g,v=500,S=600){const k=Math.max((window.screen.availHeight-S)/2,0).toString(),q=Math.max((window.screen.availWidth-v)/2,0).toString();let oe="";const Ve=Object.assign(Object.assign({},Ty),{width:v.toString(),height:S.toString(),top:k,left:q}),Xe=(0,O.z$)().toLowerCase();g&&(oe=vr(Xe)?"_blank":g),yt(Xe)&&(f=f||"http://localhost",Ve.scrollbars="yes");const _t=Object.entries(Ve).reduce((Tn,[Yi,sc])=>`${Tn}${Yi}=${sc},`,"");if(function eu(y=(0,O.z$)()){var f;return Xn(y)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Xe)&&"_self"!==oe)return function Ph(y,f){const g=document.createElement("a");g.href=y,g.target=f;const v=document.createEvent("MouseEvent");v.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(v)}(f||"",oe),new vd(null);const ut=window.open(f||"",oe,_t);te(ut,y,"popup-blocked");try{ut.focus()}catch(Tn){}return new vd(ut)}(f,oe,Ko())})()}_openRedirect(f,g,v,S){var k=this;return(0,c.Z)(function*(){return yield k._originValidation(f),function Mh(y){cn().location.href=y}(Fh(f,g,v,Dt(),S)),new Promise(()=>{})})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:S,promise:k}=this.eventManagers[g];return S?Promise.resolve(S):(re(k,"If manager is not set, promise should be"),k)}const v=this.initAndGetManager(f);return this.eventManagers[g]={promise:v},v.catch(()=>{delete this.eventManagers[g]}),v}initAndGetManager(f){var g=this;return(0,c.Z)(function*(){const v=yield function Dy(y){return vs.apply(this,arguments)}(f),S=new Mi(f);return v.register("authEvent",k=>(te(null==k?void 0:k.authEvent,f,"invalid-auth-event"),{status:S.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:S},g.iframes[f._key()]=v,S})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(ro,{type:ro},S=>{var k;const q=null===(k=null==S?void 0:S[0])||void 0===k?void 0:k[ro];void 0!==q&&g(!!q),Te(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Ey(y){return _s.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return ss()||Zt()||Xn()}}),this.cordovaResolver=ie(class zh{constructor(){this._redirectPersistence=lr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Dn}_initialize(f){var g=this;return(0,c.Z)(function*(){const v=f._key();let S=g.eventManagers.get(v);return S||(S=new $h(f),g.eventManagers.set(v,S),g.attachCallbackListeners(f,S)),S})()}_openPopup(f){Te(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,v,S){var k=this;return(0,c.Z)(function*(){!function bd(y){var f,g,v,S,k,q,oe,Ve,Xe,_t;const ut=io();te("function"==typeof(null===(f=null==ut?void 0:ut.universalLinks)||void 0===f?void 0:f.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(void 0!==(null===(g=null==ut?void 0:ut.BuildInfo)||void 0===g?void 0:g.packageName),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(k=null===(S=null===(v=null==ut?void 0:ut.cordova)||void 0===v?void 0:v.plugins)||void 0===S?void 0:S.browsertab)||void 0===k?void 0:k.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Ve=null===(oe=null===(q=null==ut?void 0:ut.cordova)||void 0===q?void 0:q.plugins)||void 0===oe?void 0:oe.browsertab)||void 0===Ve?void 0:Ve.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(_t=null===(Xe=null==ut?void 0:ut.cordova)||void 0===Xe?void 0:Xe.InAppBrowser)||void 0===_t?void 0:_t.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const q=yield k._initialize(f);yield q.initialized(),q.resetRedirect(),function Du(){Ki.clear()}(),yield k._originValidation(f);const oe=function Hh(y,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:Jl(),postBody:null,tenantId:y.tenantId,error:_e(y,"no-auth-event")}}(f,v,S);yield function H0(y,f){return Xl()._set(Gh(y),f)}(f,oe);const Ve=yield function Vh(y,f,g){return Su.apply(this,arguments)}(f,oe,g),Xe=yield function Yl(y){const{cordova:f}=io();return new Promise(g=>{f.plugins.browsertab.isAvailable(v=>{let S=null;v?f.plugins.browsertab.openUrl(y):S=f.InAppBrowser.open(y,function po(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(S)})})}(Ve);return function Yp(y,f,g){return Ed.apply(this,arguments)}(f,q,Xe)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Bh(y){return Ri.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:v,handleOpenURL:S,BuildInfo:k}=io(),q=setTimeout((0,c.Z)(function*(){yield Ql(f),g.onEvent(Wh())}),500),oe=function(){var _t=(0,c.Z)(function*(ut){clearTimeout(q);const Tn=yield Ql(f);let Yi=null;Tn&&(null==ut?void 0:ut.url)&&(Yi=function Oy(y,f){var g,v;const S=function ec(y){const f=Cd(y),g=f.link?decodeURIComponent(f.link):void 0,v=Cd(g).link,S=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Cd(S).link||S||v||g||y}(f);if(S.includes("/__/auth/callback")){const k=Cd(S),q=k.firebaseError?function qh(y){try{return JSON.parse(y)}catch(f){return null}}(decodeURIComponent(k.firebaseError)):null,oe=null===(v=null===(g=null==q?void 0:q.code)||void 0===g?void 0:g.split("auth/"))||void 0===v?void 0:v[1],Ve=oe?_e(oe):null;return Ve?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:S,postBody:null}}return null}(Tn,ut.url)),g.onEvent(Yi||Wh())});return function(Tn){return _t.apply(this,arguments)}}();void 0!==v&&"function"==typeof v.subscribe&&v.subscribe(null,oe);const Ve=S,Xe=`${k.packageName.toLowerCase()}://`;io().handleOpenURL=function(){var _t=(0,c.Z)(function*(ut){if(ut.toLowerCase().startsWith(Xe)&&oe({url:ut}),"function"==typeof Ve)try{Ve(ut)}catch(Tn){console.error(Tn)}});return function(ut){return _t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=lr,this._completeRedirectFn=Dn}_initialize(f){var g=this;return(0,c.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,v,S){var k=this;return(0,c.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openPopup(f,g,v,S)})()}_openRedirect(f,g,v,S){var k=this;return(0,c.Z)(function*(){return yield k.selectUnderlyingResolver(),k.assertedUnderlyingResolver._openRedirect(f,g,v,S)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Kh()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Vy(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,c.Z)(function*(){if(f.underlyingResolver)return;const g=yield function Fr(){return Ua.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function ng(y){return y.unwrap()}function ja(y){return rg(y)}function rg(y){const{_tokenResponse:f}=y instanceof O.ZR?y.customData:y;if(!f)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return xi.credentialFromResult(y);const g=f.providerId;if(!g||"password"===g)return null;let v;switch(g){case"google.com":v=Ia;break;case"facebook.com":v=mo;break;case"github.com":v=Kc;break;case"twitter.com":v=au;break;default:const{oauthIdToken:S,oauthAccessToken:k,oauthTokenSecret:q,pendingToken:oe,nonce:Ve}=f;return k||q||S||oe?oe?g.startsWith("saml.")?ls._create(g,oe):us._fromParams({providerId:g,signInMethod:g,pendingToken:oe,idToken:S,accessToken:k}):new Go(g).credential({idToken:S,accessToken:k,rawNonce:Ve}):null}return y instanceof O.ZR?v.credentialFromError(y):v.credentialFromResult(y)}function Tr(y,f){return f.catch(g=>{throw g instanceof O.ZR&&function jy(y,f){var g;const v=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new $y(y,function Eu(y,f){var g;const v=(0,O.m9)(y),S=f;return te(f.customData.operationType,v,"argument-error"),te(null===(g=S.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,v,"argument-error"),Ma._fromError(v,S)}(y,f));else if(v){const S=rg(f),k=f;S&&(k.credential=S,k.tenantId=v.tenantId||void 0,k.email=v.email||void 0,k.phoneNumber=v.phoneNumber||void 0)}}(y,g),g}).then(g=>{const S=g.user;return{operationType:g.operationType,credential:ja(g),additionalUserInfo:br(g),user:ko.getOrCreate(S)}})}function Xh(y,f){return ef.apply(this,arguments)}function ef(){return(ef=(0,c.Z)(function*(y,f){const g=yield f;return{verificationId:g.verificationId,confirm:v=>Tr(y,g.confirm(v))}})).apply(this,arguments)}class $y{constructor(f,g){this.resolver=g,this.auth=function By(y){return y.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return Tr(ng(this.auth),this.resolver.resolveSignIn(f))}}class ko{constructor(f){this._delegate=f,this.multiFactor=function sd(y){const f=(0,O.m9)(y);return Wo.has(f)||Wo.set(f,fs._fromUser(f)),Wo.get(f)}(f)}static getOrCreate(f){return ko.USER_MAP.has(f)||ko.USER_MAP.set(f,new ko(f)),ko.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,c.Z)(function*(){return Tr(g.auth,Ci(g._delegate,f))})()}linkWithPhoneNumber(f,g){var v=this;return(0,c.Z)(function*(){return Xh(v.auth,function Ul(y,f,g){return Xo.apply(this,arguments)}(v._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,c.Z)(function*(){return Tr(g.auth,function zi(y,f,g){return Iu.apply(this,arguments)}(g._delegate,f,gi))})()}linkWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield Ba(Pe(g.auth)),function Qe(y,f,g){return function Et(y,f,g){return Nt.apply(this,arguments)}(y,f,g)}(g._delegate,f,gi)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,c.Z)(function*(){return Tr(g.auth,Gs(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Xh(this.auth,function qp(y,f,g){return Vl.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return Tr(this.auth,function Do(y,f,g){return Cu.apply(this,arguments)}(this._delegate,f,gi))}reauthenticateWithRedirect(f){var g=this;return(0,c.Z)(function*(){return yield Ba(Pe(g.auth)),function ee(y,f,g){return function xe(y,f,g){return Me.apply(this,arguments)}(y,f,g)}(g._delegate,f,gi)})()}sendEmailVerification(f){return function Ii(y,f){return Dl.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,c.Z)(function*(){return yield function Da(y,f){return _l.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function Sl(y,f){return xl((0,O.m9)(y),f,null)}(this._delegate,f)}updatePassword(f){return function Xc(y,f){return xl((0,O.m9)(y),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function Bl(y,f){return ys.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function xa(y,f){return Al.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function vu(y,f,g){return wu.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ko.USER_MAP=new WeakMap;const ic=te;let tf=(()=>{class y{constructor(g,v){if(this.app=g,v.isInitialized())return this._delegate=v.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:S}=g.options;ic(S,"invalid-api-key",{appName:g.name}),ic(S,"invalid-api-key",{appName:g.name});const k="undefined"!=typeof window?gi:void 0;this._delegate=v.initialize({options:{persistence:Hy(S,g.name),popupRedirectResolver:k}}),this._delegate._updateErrorMap(Se),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ko.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,v){!function ln(y,f,g){const v=Pe(y);te(v._canInitEmulator,v,"emulator-config-failed"),te(/^https?:\/\//.test(f),v,"invalid-emulator-scheme");const S=!!(null==g?void 0:g.disableWarnings),k=or(f),{host:q,port:oe}=function Fs(y){const f=or(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(f.length));if(!g)return{host:"",port:null};const v=g[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(v);if(S){const k=S[1];return{host:k,port:Pn(v.substr(k.length+1))}}{const[k,q]=v.split(":");return{host:k,port:Pn(q)}}}(f);v.config.emulator={url:`${k}//${q}${null===oe?"":`:${oe}`}/`},v.settings.appVerificationDisabledForTesting=!0,v.emulatorConfig=Object.freeze({host:q,port:oe,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function ji(){function y(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,v)}applyActionCode(g){return function wl(y,f){return be.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Lt(this._delegate,g)}confirmPasswordReset(g,v){return function mu(y,f,g){return vl.apply(this,arguments)}(this._delegate,g,v)}createUserWithEmailAndPassword(g,v){var S=this;return(0,c.Z)(function*(){return Tr(S._delegate,function zo(y,f,g){return Wr.apply(this,arguments)}(S._delegate,g,v))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function _u(y,f){return Ws.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Il(y,f){const g=go.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,c.Z)(function*(){ic(nc(),g._delegate,"operation-not-supported-in-this-environment");const v=yield function St(y,f){return Vn.apply(this,arguments)}(g._delegate,gi);return v?Tr(g._delegate,Promise.resolve(v)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Jp(y,f){Pe(y)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,v,S){const{next:k,error:q,complete:oe}=nf(g,v,S);return this._delegate.onAuthStateChanged(k,q,oe)}onIdTokenChanged(g,v,S){const{next:k,error:q,complete:oe}=nf(g,v,S);return this._delegate.onIdTokenChanged(k,q,oe)}sendSignInLinkToEmail(g,v){return function Cl(y,f,g){return Jc.apply(this,arguments)}(this._delegate,g,v)}sendPasswordResetEmail(g,v){return function pu(y,f,g){return gu.apply(this,arguments)}(this._delegate,g,v||void 0)}setPersistence(g){var v=this;return(0,c.Z)(function*(){let S;switch(function eg(y,f){Va(Object.values(ki).includes(f),y,"invalid-persistence-type"),(0,O.b$)()?Va(f!==ki.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?Va(f===ki.NONE,y,"unsupported-persistence-type"):Ro()?Va(f===ki.NONE||f===ki.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):Va(f===ki.NONE||Dr(),y,"unsupported-persistence-type")}(v._delegate,g),g){case ki.SESSION:S=lr;break;case ki.LOCAL:S=(yield ie(Ti)._isAvailable())?Ti:Nn;break;case ki.NONE:S=G;break;default:return Te("argument-error",{appName:v._delegate.name})}return v._delegate.setPersistence(S)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Tr(this._delegate,function lu(y){return Yc.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Tr(this._delegate,kn(this._delegate,g))}signInWithCustomToken(g){return Tr(this._delegate,function qs(y,f){return Zs.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,v){return Tr(this._delegate,function bl(y,f,g){return kn((0,O.m9)(y),yl.credential(f,g))}(this._delegate,g,v))}signInWithEmailLink(g,v){return Tr(this._delegate,function yu(y,f,g){return zs.apply(this,arguments)}(this._delegate,g,v))}signInWithPhoneNumber(g,v){return Xh(this._delegate,function Na(y,f,g){return _n.apply(this,arguments)}(this._delegate,g,v))}signInWithPopup(g){var v=this;return(0,c.Z)(function*(){return ic(nc(),v._delegate,"operation-not-supported-in-this-environment"),Tr(v._delegate,function no(y,f,g){return hd.apply(this,arguments)}(v._delegate,g,gi))})()}signInWithRedirect(g){var v=this;return(0,c.Z)(function*(){return ic(nc(),v._delegate,"operation-not-supported-in-this-environment"),yield Ba(v._delegate),function R(y,f,g){return function F(y,f,g){return W.apply(this,arguments)}(y,f,g)}(v._delegate,g,gi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function gn(y,f){return Zo.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=ki,y})();function nf(y,f,g){let v=y;"function"!=typeof y&&({next:v,error:f,complete:g}=y);const S=v;return{next:q=>S(q&&ko.getOrCreate(q)),error:f,complete:g}}function Hy(y,f){const g=function tg(y,f){const g=rc();if(!g)return[];const v=ce(Qh,y,f);switch(g.getItem(v)){case ki.NONE:return[G];case ki.LOCAL:return[Ti,lr];case ki.SESSION:return[lr];default:return[]}}(y,f);if("undefined"!=typeof self&&!g.includes(Ti)&&g.push(Ti),"undefined"!=typeof window)for(const v of[Nn,lr])g.includes(v)||g.push(v);return g.includes(G)||g.push(G),g}class rf{constructor(){this.providerId="phone",this._delegate=new xi(ng(Y.Z.auth()))}static credential(f,g){return xi.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}rf.PHONE_SIGN_IN_METHOD=xi.PHONE_SIGN_IN_METHOD,rf.PROVIDER_ID=xi.PROVIDER_ID;const Gy=te;class qy{constructor(f,g,v=Y.Z.app()){var S;Gy(null===(S=v.options)||void 0===S?void 0:S.apiKey,"invalid-api-key",{appName:v.name}),this._delegate=new Gp(f,g,v.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ig(y){y.INTERNAL.registerComponent(new se.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),v=f.getProvider("auth");return new tf(g,v)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:yl,FacebookAuthProvider:mo,GithubAuthProvider:Kc,GoogleAuthProvider:Ia,OAuthProvider:Go,SAMLAuthProvider:ui,PhoneAuthProvider:rf,PhoneMultiFactorGenerator:xy,RecaptchaVerifier:qy,TwitterAuthProvider:au,Auth:tf,AuthCredential:tn,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.11")}(Y.Z)},9751:(st,Ee,N)=>{N.d(Ee,{y:()=>de});var c=N(930),Y=N(727),O=N(8822),ne=N(9635),X=N(2416),pe=N(576),se=N(2806);let de=(()=>{class Z{constructor(ke){ke&&(this._subscribe=ke)}lift(ke){const Se=new Z;return Se.source=this,Se.operator=ke,Se}subscribe(ke,Se,Ye){const ye=function H(Z){return Z&&Z instanceof c.Lv||function $(Z){return Z&&(0,pe.m)(Z.next)&&(0,pe.m)(Z.error)&&(0,pe.m)(Z.complete)}(Z)&&(0,Y.Nn)(Z)}(ke)?ke:new c.Hp(ke,Se,Ye);return(0,se.x)(()=>{const{operator:we,source:at}=this;ye.add(we?we.call(ye,at):at?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(ke){try{return this._subscribe(ke)}catch(Se){ke.error(Se)}}forEach(ke,Se){return new(Se=ue(Se))((Ye,ye)=>{const we=new c.Hp({next:at=>{try{ke(at)}catch(rt){ye(rt),we.unsubscribe()}},error:ye,complete:Ye});this.subscribe(we)})}_subscribe(ke){var Se;return null===(Se=this.source)||void 0===Se?void 0:Se.subscribe(ke)}[O.L](){return this}pipe(...ke){return(0,ne.U)(ke)(this)}toPromise(ke){return new(ke=ue(ke))((Se,Ye)=>{let ye;this.subscribe(we=>ye=we,we=>Ye(we),()=>Se(ye))})}}return Z.create=He=>new Z(He),Z})();function ue(Z){var He;return null!==(He=null!=Z?Z:X.v.Promise)&&void 0!==He?He:Promise}},7579:(st,Ee,N)=>{N.d(Ee,{x:()=>se});var c=N(9751),Y=N(727);const ne=(0,N(3888).d)(ue=>function(){ue(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var X=N(8737),pe=N(2806);let se=(()=>{class ue extends c.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(H){const Z=new de(this,this);return Z.operator=H,Z}_throwIfClosed(){if(this.closed)throw new ne}next(H){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Z of this.currentObservers)Z.next(H)}})}error(H){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=H;const{observers:Z}=this;for(;Z.length;)Z.shift().error(H)}})}complete(){(0,pe.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:H}=this;for(;H.length;)H.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var H;return(null===(H=this.observers)||void 0===H?void 0:H.length)>0}_trySubscribe(H){return this._throwIfClosed(),super._trySubscribe(H)}_subscribe(H){return this._throwIfClosed(),this._checkFinalizedStatuses(H),this._innerSubscribe(H)}_innerSubscribe(H){const{hasError:Z,isStopped:He,observers:ke}=this;return Z||He?Y.Lc:(this.currentObservers=null,ke.push(H),new Y.w0(()=>{this.currentObservers=null,(0,X.P)(ke,H)}))}_checkFinalizedStatuses(H){const{hasError:Z,thrownError:He,isStopped:ke}=this;Z?H.error(He):ke&&H.complete()}asObservable(){const H=new c.y;return H.source=this,H}}return ue.create=($,H)=>new de($,H),ue})();class de extends se{constructor($,H){super(),this.destination=$,this.source=H}next($){var H,Z;null===(Z=null===(H=this.destination)||void 0===H?void 0:H.next)||void 0===Z||Z.call(H,$)}error($){var H,Z;null===(Z=null===(H=this.destination)||void 0===H?void 0:H.error)||void 0===Z||Z.call(H,$)}complete(){var $,H;null===(H=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===H||H.call($)}_subscribe($){var H,Z;return null!==(Z=null===(H=this.source)||void 0===H?void 0:H.subscribe($))&&void 0!==Z?Z:Y.Lc}}},930:(st,Ee,N)=>{N.d(Ee,{Hp:()=>Ye,Lv:()=>Z});var c=N(576),Y=N(727),O=N(2416),ne=N(7849),X=N(5032);const pe=ue("C",void 0,void 0);function ue(Te,_e,ve){return{kind:Te,value:_e,error:ve}}var $=N(3410),H=N(2806);class Z extends Y.w0{constructor(_e){super(),this.isStopped=!1,_e?(this.destination=_e,(0,Y.Nn)(_e)&&_e.add(this)):this.destination=rt}static create(_e,ve,Ge){return new Ye(_e,ve,Ge)}next(_e){this.isStopped?at(function de(Te){return ue("N",Te,void 0)}(_e),this):this._next(_e)}error(_e){this.isStopped?at(function se(Te){return ue("E",void 0,Te)}(_e),this):(this.isStopped=!0,this._error(_e))}complete(){this.isStopped?at(pe,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(_e){this.destination.next(_e)}_error(_e){try{this.destination.error(_e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function ke(Te,_e){return He.call(Te,_e)}class Se{constructor(_e){this.partialObserver=_e}next(_e){const{partialObserver:ve}=this;if(ve.next)try{ve.next(_e)}catch(Ge){ye(Ge)}}error(_e){const{partialObserver:ve}=this;if(ve.error)try{ve.error(_e)}catch(Ge){ye(Ge)}else ye(_e)}complete(){const{partialObserver:_e}=this;if(_e.complete)try{_e.complete()}catch(ve){ye(ve)}}}class Ye extends Z{constructor(_e,ve,Ge){let je;if(super(),(0,c.m)(_e)||!_e)je={next:null!=_e?_e:void 0,error:null!=ve?ve:void 0,complete:null!=Ge?Ge:void 0};else{let te;this&&O.v.useDeprecatedNextContext?(te=Object.create(_e),te.unsubscribe=()=>this.unsubscribe(),je={next:_e.next&&ke(_e.next,te),error:_e.error&&ke(_e.error,te),complete:_e.complete&&ke(_e.complete,te)}):je=_e}this.destination=new Se(je)}}function ye(Te){O.v.useDeprecatedSynchronousErrorHandling?(0,H.O)(Te):(0,ne.h)(Te)}function at(Te,_e){const{onStoppedNotification:ve}=O.v;ve&&$.z.setTimeout(()=>ve(Te,_e))}const rt={closed:!0,next:X.Z,error:function we(Te){throw Te},complete:X.Z}},727:(st,Ee,N)=>{N.d(Ee,{Lc:()=>pe,w0:()=>X,Nn:()=>se});var c=N(576);const O=(0,N(3888).d)(ue=>function(H){ue(this),this.message=H?`${H.length} errors occurred during unsubscription:\n${H.map((Z,He)=>`${He+1}) ${Z.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=H});var ne=N(8737);class X{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:H}=this;if(H)if(this._parentage=null,Array.isArray(H))for(const ke of H)ke.remove(this);else H.remove(this);const{initialTeardown:Z}=this;if((0,c.m)(Z))try{Z()}catch(ke){$=ke instanceof O?ke.errors:[ke]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const ke of He)try{de(ke)}catch(Se){$=null!=$?$:[],Se instanceof O?$=[...$,...Se.errors]:$.push(Se)}}if($)throw new O($)}}add($){var H;if($&&$!==this)if(this.closed)de($);else{if($ instanceof X){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(H=this._finalizers)&&void 0!==H?H:[]).push($)}}_hasParent($){const{_parentage:H}=this;return H===$||Array.isArray(H)&&H.includes($)}_addParent($){const{_parentage:H}=this;this._parentage=Array.isArray(H)?(H.push($),H):H?[H,$]:$}_removeParent($){const{_parentage:H}=this;H===$?this._parentage=null:Array.isArray(H)&&(0,ne.P)(H,$)}remove($){const{_finalizers:H}=this;H&&(0,ne.P)(H,$),$ instanceof X&&$._removeParent(this)}}X.EMPTY=(()=>{const ue=new X;return ue.closed=!0,ue})();const pe=X.EMPTY;function se(ue){return ue instanceof X||ue&&"closed"in ue&&(0,c.m)(ue.remove)&&(0,c.m)(ue.add)&&(0,c.m)(ue.unsubscribe)}function de(ue){(0,c.m)(ue)?ue():ue.unsubscribe()}},2416:(st,Ee,N)=>{N.d(Ee,{v:()=>c});const c={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(st,Ee,N)=>{N.d(Ee,{E:()=>Y});const Y=new(N(9751).y)(X=>X.complete())},8996:(st,Ee,N)=>{N.d(Ee,{D:()=>_e});var c=N(8421),Y=N(5363),O=N(9468),pe=N(9751),de=N(2202),ue=N(576),$=N(9672);function Z(ve,Ge){if(!ve)throw new Error("Iterable cannot be null");return new pe.y(je=>{(0,$.f)(je,Ge,()=>{const te=ve[Symbol.asyncIterator]();(0,$.f)(je,Ge,()=>{te.next().then(z=>{z.done?je.complete():je.next(z.value)})},0,!0)})})}var He=N(3670),ke=N(8239),Se=N(1144),Ye=N(6495),ye=N(2206),we=N(4532),at=N(3260);function _e(ve,Ge){return Ge?function Te(ve,Ge){if(null!=ve){if((0,He.c)(ve))return function ne(ve,Ge){return(0,c.Xf)(ve).pipe((0,O.R)(Ge),(0,Y.Q)(Ge))}(ve,Ge);if((0,Se.z)(ve))return function se(ve,Ge){return new pe.y(je=>{let te=0;return Ge.schedule(function(){te===ve.length?je.complete():(je.next(ve[te++]),je.closed||this.schedule())})})}(ve,Ge);if((0,ke.t)(ve))return function X(ve,Ge){return(0,c.Xf)(ve).pipe((0,O.R)(Ge),(0,Y.Q)(Ge))}(ve,Ge);if((0,ye.D)(ve))return Z(ve,Ge);if((0,Ye.T)(ve))return function H(ve,Ge){return new pe.y(je=>{let te;return(0,$.f)(je,Ge,()=>{te=ve[de.h](),(0,$.f)(je,Ge,()=>{let z,re;try{({value:z,done:re}=te.next())}catch(me){return void je.error(me)}re?je.complete():je.next(z)},0,!0)}),()=>(0,ue.m)(null==te?void 0:te.return)&&te.return()})}(ve,Ge);if((0,at.L)(ve))return function rt(ve,Ge){return Z((0,at.Q)(ve),Ge)}(ve,Ge)}throw(0,we.z)(ve)}(ve,Ge):(0,c.Xf)(ve)}},8421:(st,Ee,N)=>{N.d(Ee,{Xf:()=>He});var c=N(655),Y=N(1144),O=N(8239),ne=N(9751),X=N(3670),pe=N(2206),se=N(4532),de=N(6495),ue=N(3260),$=N(576),H=N(7849),Z=N(8822);function He(Te){if(Te instanceof ne.y)return Te;if(null!=Te){if((0,X.c)(Te))return function ke(Te){return new ne.y(_e=>{const ve=Te[Z.L]();if((0,$.m)(ve.subscribe))return ve.subscribe(_e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Te);if((0,Y.z)(Te))return function Se(Te){return new ne.y(_e=>{for(let ve=0;ve<Te.length&&!_e.closed;ve++)_e.next(Te[ve]);_e.complete()})}(Te);if((0,O.t)(Te))return function Ye(Te){return new ne.y(_e=>{Te.then(ve=>{_e.closed||(_e.next(ve),_e.complete())},ve=>_e.error(ve)).then(null,H.h)})}(Te);if((0,pe.D)(Te))return we(Te);if((0,de.T)(Te))return function ye(Te){return new ne.y(_e=>{for(const ve of Te)if(_e.next(ve),_e.closed)return;_e.complete()})}(Te);if((0,ue.L)(Te))return function at(Te){return we((0,ue.Q)(Te))}(Te)}throw(0,se.z)(Te)}function we(Te){return new ne.y(_e=>{(function rt(Te,_e){var ve,Ge,je,te;return(0,c.mG)(this,void 0,void 0,function*(){try{for(ve=(0,c.KL)(Te);!(Ge=yield ve.next()).done;)if(_e.next(Ge.value),_e.closed)return}catch(z){je={error:z}}finally{try{Ge&&!Ge.done&&(te=ve.return)&&(yield te.call(ve))}finally{if(je)throw je.error}}_e.complete()})})(Te,_e).catch(ve=>_e.error(ve))})}},6451:(st,Ee,N)=>{N.d(Ee,{T:()=>pe});var c=N(8189),Y=N(8421),O=N(515),ne=N(3269),X=N(8996);function pe(...se){const de=(0,ne.yG)(se),ue=(0,ne._6)(se,1/0),$=se;return $.length?1===$.length?(0,Y.Xf)($[0]):(0,c.J)(ue)((0,X.D)($,de)):O.E}},5403:(st,Ee,N)=>{N.d(Ee,{x:()=>Y});var c=N(930);function Y(ne,X,pe,se,de){return new O(ne,X,pe,se,de)}class O extends c.Lv{constructor(X,pe,se,de,ue,$){super(X),this.onFinalize=ue,this.shouldUnsubscribe=$,this._next=pe?function(H){try{pe(H)}catch(Z){X.error(Z)}}:super._next,this._error=de?function(H){try{de(H)}catch(Z){X.error(Z)}finally{this.unsubscribe()}}:super._error,this._complete=se?function(){try{se()}catch(H){X.error(H)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var X;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:pe}=this;super.unsubscribe(),!pe&&(null===(X=this.onFinalize)||void 0===X||X.call(this))}}}},4004:(st,Ee,N)=>{N.d(Ee,{U:()=>O});var c=N(4482),Y=N(5403);function O(ne,X){return(0,c.e)((pe,se)=>{let de=0;pe.subscribe((0,Y.x)(se,ue=>{se.next(ne.call(X,ue,de++))}))})}},8189:(st,Ee,N)=>{N.d(Ee,{J:()=>O});var c=N(5577),Y=N(4671);function O(ne=1/0){return(0,c.z)(Y.y,ne)}},5577:(st,Ee,N)=>{N.d(Ee,{z:()=>de});var c=N(4004),Y=N(8421),O=N(4482),ne=N(9672),X=N(5403),se=N(576);function de(ue,$,H=1/0){return(0,se.m)($)?de((Z,He)=>(0,c.U)((ke,Se)=>$(Z,ke,He,Se))((0,Y.Xf)(ue(Z,He))),H):("number"==typeof $&&(H=$),(0,O.e)((Z,He)=>function pe(ue,$,H,Z,He,ke,Se,Ye){const ye=[];let we=0,at=0,rt=!1;const Te=()=>{rt&&!ye.length&&!we&&$.complete()},_e=Ge=>we<Z?ve(Ge):ye.push(Ge),ve=Ge=>{ke&&$.next(Ge),we++;let je=!1;(0,Y.Xf)(H(Ge,at++)).subscribe((0,X.x)($,te=>{null==He||He(te),ke?_e(te):$.next(te)},()=>{je=!0},void 0,()=>{if(je)try{for(we--;ye.length&&we<Z;){const te=ye.shift();Se?(0,ne.f)($,Se,()=>ve(te)):ve(te)}Te()}catch(te){$.error(te)}}))};return ue.subscribe((0,X.x)($,_e,()=>{rt=!0,Te()})),()=>{null==Ye||Ye()}}(Z,He,ue,H)))}},5363:(st,Ee,N)=>{N.d(Ee,{Q:()=>ne});var c=N(9672),Y=N(4482),O=N(5403);function ne(X,pe=0){return(0,Y.e)((se,de)=>{se.subscribe((0,O.x)(de,ue=>(0,c.f)(de,X,()=>de.next(ue),pe),()=>(0,c.f)(de,X,()=>de.complete(),pe),ue=>(0,c.f)(de,X,()=>de.error(ue),pe)))})}},3099:(st,Ee,N)=>{N.d(Ee,{B:()=>pe});var c=N(8996),Y=N(5698),O=N(7579),ne=N(930),X=N(4482);function pe(de={}){const{connector:ue=(()=>new O.x),resetOnError:$=!0,resetOnComplete:H=!0,resetOnRefCountZero:Z=!0}=de;return He=>{let ke=null,Se=null,Ye=null,ye=0,we=!1,at=!1;const rt=()=>{null==Se||Se.unsubscribe(),Se=null},Te=()=>{rt(),ke=Ye=null,we=at=!1},_e=()=>{const ve=ke;Te(),null==ve||ve.unsubscribe()};return(0,X.e)((ve,Ge)=>{ye++,!at&&!we&&rt();const je=Ye=null!=Ye?Ye:ue();Ge.add(()=>{ye--,0===ye&&!at&&!we&&(Se=se(_e,Z))}),je.subscribe(Ge),ke||(ke=new ne.Hp({next:te=>je.next(te),error:te=>{at=!0,rt(),Se=se(Te,$,te),je.error(te)},complete:()=>{we=!0,rt(),Se=se(Te,H),je.complete()}}),(0,c.D)(ve).subscribe(ke))})(He)}}function se(de,ue,...$){return!0===ue?(de(),null):!1===ue?null:ue(...$).pipe((0,Y.q)(1)).subscribe(()=>de())}},9468:(st,Ee,N)=>{N.d(Ee,{R:()=>Y});var c=N(4482);function Y(O,ne=0){return(0,c.e)((X,pe)=>{pe.add(O.schedule(()=>X.subscribe(pe),ne))})}},5698:(st,Ee,N)=>{N.d(Ee,{q:()=>ne});var c=N(515),Y=N(4482),O=N(5403);function ne(X){return X<=0?()=>c.E:(0,Y.e)((pe,se)=>{let de=0;pe.subscribe((0,O.x)(se,ue=>{++de<=X&&(se.next(ue),X<=de&&se.complete())}))})}},8505:(st,Ee,N)=>{N.d(Ee,{b:()=>X});var c=N(576),Y=N(4482),O=N(5403),ne=N(4671);function X(pe,se,de){const ue=(0,c.m)(pe)||se||de?{next:pe,error:se,complete:de}:pe;return ue?(0,Y.e)(($,H)=>{var Z;null===(Z=ue.subscribe)||void 0===Z||Z.call(ue);let He=!0;$.subscribe((0,O.x)(H,ke=>{var Se;null===(Se=ue.next)||void 0===Se||Se.call(ue,ke),H.next(ke)},()=>{var ke;He=!1,null===(ke=ue.complete)||void 0===ke||ke.call(ue),H.complete()},ke=>{var Se;He=!1,null===(Se=ue.error)||void 0===Se||Se.call(ue,ke),H.error(ke)},()=>{var ke,Se;He&&(null===(ke=ue.unsubscribe)||void 0===ke||ke.call(ue)),null===(Se=ue.finalize)||void 0===Se||Se.call(ue)}))}):ne.y}},4408:(st,Ee,N)=>{N.d(Ee,{o:()=>X});var c=N(727);class Y extends c.w0{constructor(se,de){super()}schedule(se,de=0){return this}}const O={setInterval(pe,se,...de){const{delegate:ue}=O;return(null==ue?void 0:ue.setInterval)?ue.setInterval(pe,se,...de):setInterval(pe,se,...de)},clearInterval(pe){const{delegate:se}=O;return((null==se?void 0:se.clearInterval)||clearInterval)(pe)},delegate:void 0};var ne=N(8737);class X extends Y{constructor(se,de){super(se,de),this.scheduler=se,this.work=de,this.pending=!1}schedule(se,de=0){if(this.closed)return this;this.state=se;const ue=this.id,$=this.scheduler;return null!=ue&&(this.id=this.recycleAsyncId($,ue,de)),this.pending=!0,this.delay=de,this.id=this.id||this.requestAsyncId($,this.id,de),this}requestAsyncId(se,de,ue=0){return O.setInterval(se.flush.bind(se,this),ue)}recycleAsyncId(se,de,ue=0){if(null!=ue&&this.delay===ue&&!1===this.pending)return de;O.clearInterval(de)}execute(se,de){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ue=this._execute(se,de);if(ue)return ue;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(se,de){let $,ue=!1;try{this.work(se)}catch(H){ue=!0,$=H||new Error("Scheduled action threw falsy error")}if(ue)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:se,scheduler:de}=this,{actions:ue}=de;this.work=this.state=this.scheduler=null,this.pending=!1,(0,ne.P)(ue,this),null!=se&&(this.id=this.recycleAsyncId(de,se,null)),this.delay=null,super.unsubscribe()}}}},7565:(st,Ee,N)=>{N.d(Ee,{v:()=>O});var c=N(6063);class Y{constructor(X,pe=Y.now){this.schedulerActionCtor=X,this.now=pe}schedule(X,pe=0,se){return new this.schedulerActionCtor(this,X).schedule(se,pe)}}Y.now=c.l.now;class O extends Y{constructor(X,pe=Y.now){super(X,pe),this.actions=[],this._active=!1,this._scheduled=void 0}flush(X){const{actions:pe}=this;if(this._active)return void pe.push(X);let se;this._active=!0;do{if(se=X.execute(X.state,X.delay))break}while(X=pe.shift());if(this._active=!1,se){for(;X=pe.shift();)X.unsubscribe();throw se}}}},4986:(st,Ee,N)=>{N.d(Ee,{P:()=>ne,z:()=>O});var c=N(4408);const O=new(N(7565).v)(c.o),ne=O},6063:(st,Ee,N)=>{N.d(Ee,{l:()=>c});const c={now:()=>(c.delegate||Date).now(),delegate:void 0}},3410:(st,Ee,N)=>{N.d(Ee,{z:()=>c});const c={setTimeout(Y,O,...ne){const{delegate:X}=c;return(null==X?void 0:X.setTimeout)?X.setTimeout(Y,O,...ne):setTimeout(Y,O,...ne)},clearTimeout(Y){const{delegate:O}=c;return((null==O?void 0:O.clearTimeout)||clearTimeout)(Y)},delegate:void 0}},2202:(st,Ee,N)=>{N.d(Ee,{h:()=>Y});const Y=function c(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(st,Ee,N)=>{N.d(Ee,{L:()=>c});const c="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(st,Ee,N)=>{N.d(Ee,{_6:()=>pe,jO:()=>ne,yG:()=>X});var c=N(576),Y=N(3532);function O(se){return se[se.length-1]}function ne(se){return(0,c.m)(O(se))?se.pop():void 0}function X(se){return(0,Y.K)(O(se))?se.pop():void 0}function pe(se,de){return"number"==typeof O(se)?se.pop():de}},8737:(st,Ee,N)=>{function c(Y,O){if(Y){const ne=Y.indexOf(O);0<=ne&&Y.splice(ne,1)}}N.d(Ee,{P:()=>c})},3888:(st,Ee,N)=>{function c(Y){const ne=Y(X=>{Error.call(X),X.stack=(new Error).stack});return ne.prototype=Object.create(Error.prototype),ne.prototype.constructor=ne,ne}N.d(Ee,{d:()=>c})},2806:(st,Ee,N)=>{N.d(Ee,{O:()=>ne,x:()=>O});var c=N(2416);let Y=null;function O(X){if(c.v.useDeprecatedSynchronousErrorHandling){const pe=!Y;if(pe&&(Y={errorThrown:!1,error:null}),X(),pe){const{errorThrown:se,error:de}=Y;if(Y=null,se)throw de}}else X()}function ne(X){c.v.useDeprecatedSynchronousErrorHandling&&Y&&(Y.errorThrown=!0,Y.error=X)}},9672:(st,Ee,N)=>{function c(Y,O,ne,X=0,pe=!1){const se=O.schedule(function(){ne(),pe?Y.add(this.schedule(null,X)):this.unsubscribe()},X);if(Y.add(se),!pe)return se}N.d(Ee,{f:()=>c})},4671:(st,Ee,N)=>{function c(Y){return Y}N.d(Ee,{y:()=>c})},1144:(st,Ee,N)=>{N.d(Ee,{z:()=>c});const c=Y=>Y&&"number"==typeof Y.length&&"function"!=typeof Y},2206:(st,Ee,N)=>{N.d(Ee,{D:()=>Y});var c=N(576);function Y(O){return Symbol.asyncIterator&&(0,c.m)(null==O?void 0:O[Symbol.asyncIterator])}},576:(st,Ee,N)=>{function c(Y){return"function"==typeof Y}N.d(Ee,{m:()=>c})},3670:(st,Ee,N)=>{N.d(Ee,{c:()=>O});var c=N(8822),Y=N(576);function O(ne){return(0,Y.m)(ne[c.L])}},6495:(st,Ee,N)=>{N.d(Ee,{T:()=>O});var c=N(2202),Y=N(576);function O(ne){return(0,Y.m)(null==ne?void 0:ne[c.h])}},8239:(st,Ee,N)=>{N.d(Ee,{t:()=>Y});var c=N(576);function Y(O){return(0,c.m)(null==O?void 0:O.then)}},3260:(st,Ee,N)=>{N.d(Ee,{L:()=>ne,Q:()=>O});var c=N(655),Y=N(576);function O(X){return(0,c.FC)(this,arguments,function*(){const se=X.getReader();try{for(;;){const{value:de,done:ue}=yield(0,c.qq)(se.read());if(ue)return yield(0,c.qq)(void 0);yield yield(0,c.qq)(de)}}finally{se.releaseLock()}})}function ne(X){return(0,Y.m)(null==X?void 0:X.getReader)}},3532:(st,Ee,N)=>{N.d(Ee,{K:()=>Y});var c=N(576);function Y(O){return O&&(0,c.m)(O.schedule)}},4482:(st,Ee,N)=>{N.d(Ee,{A:()=>Y,e:()=>O});var c=N(576);function Y(ne){return(0,c.m)(null==ne?void 0:ne.lift)}function O(ne){return X=>{if(Y(X))return X.lift(function(pe){try{return ne(pe,this)}catch(se){this.error(se)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(st,Ee,N)=>{function c(){}N.d(Ee,{Z:()=>c})},9635:(st,Ee,N)=>{N.d(Ee,{U:()=>O,z:()=>Y});var c=N(4671);function Y(...ne){return O(ne)}function O(ne){return 0===ne.length?c.y:1===ne.length?ne[0]:function(pe){return ne.reduce((se,de)=>de(se),pe)}}},7849:(st,Ee,N)=>{N.d(Ee,{h:()=>O});var c=N(2416),Y=N(3410);function O(ne){Y.z.setTimeout(()=>{const{onUnhandledError:X}=c.v;if(!X)throw ne;X(ne)})}},4532:(st,Ee,N)=>{function c(Y){return new TypeError(`You provided ${null!==Y&&"object"==typeof Y?"an invalid object":`'${Y}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(Ee,{z:()=>c})},655:(st,Ee,N)=>{function ne(z,re){var me={};for(var ie in z)Object.prototype.hasOwnProperty.call(z,ie)&&re.indexOf(ie)<0&&(me[ie]=z[ie]);if(null!=z&&"function"==typeof Object.getOwnPropertySymbols){var Oe=0;for(ie=Object.getOwnPropertySymbols(z);Oe<ie.length;Oe++)re.indexOf(ie[Oe])<0&&Object.prototype.propertyIsEnumerable.call(z,ie[Oe])&&(me[ie[Oe]]=z[ie[Oe]])}return me}function de(z,re,me,ie){return new(me||(me=Promise))(function(ae,Dt){function Wt(mt){try{lt(ie.next(mt))}catch(on){Dt(on)}}function Mn(mt){try{lt(ie.throw(mt))}catch(on){Dt(on)}}function lt(mt){mt.done?ae(mt.value):function Oe(ae){return ae instanceof me?ae:new me(function(Dt){Dt(ae)})}(mt.value).then(Wt,Mn)}lt((ie=ie.apply(z,re||[])).next())})}function ye(z){return this instanceof ye?(this.v=z,this):new ye(z)}function we(z,re,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,ie=me.apply(z,re||[]),ae=[];return Oe={},Dt("next"),Dt("throw"),Dt("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe;function Dt(an){ie[an]&&(Oe[an]=function(Ei){return new Promise(function(en,ns){ae.push([an,Ei,en,ns])>1||Wt(an,Ei)})})}function Wt(an,Ei){try{!function Mn(an){an.value instanceof ye?Promise.resolve(an.value.v).then(lt,mt):on(ae[0][2],an)}(ie[an](Ei))}catch(en){on(ae[0][3],en)}}function lt(an){Wt("next",an)}function mt(an){Wt("throw",an)}function on(an,Ei){an(Ei),ae.shift(),ae.length&&Wt(ae[0][0],ae[0][1])}}function rt(z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,re=z[Symbol.asyncIterator];return re?re.call(z):(z=function Z(z){var re="function"==typeof Symbol&&Symbol.iterator,me=re&&z[re],ie=0;if(me)return me.call(z);if(z&&"number"==typeof z.length)return{next:function(){return z&&ie>=z.length&&(z=void 0),{value:z&&z[ie++],done:!z}}};throw new TypeError(re?"Object is not iterable.":"Symbol.iterator is not defined.")}(z),me={},ie("next"),ie("throw"),ie("return"),me[Symbol.asyncIterator]=function(){return this},me);function ie(ae){me[ae]=z[ae]&&function(Dt){return new Promise(function(Wt,Mn){!function Oe(ae,Dt,Wt,Mn){Promise.resolve(Mn).then(function(lt){ae({value:lt,done:Wt})},Dt)}(Wt,Mn,(Dt=z[ae](Dt)).done,Dt.value)})}}}N.d(Ee,{FC:()=>we,KL:()=>rt,_T:()=>ne,mG:()=>de,qq:()=>ye})},5e3:(st,Ee,N)=>{N.d(Ee,{$8M:()=>gs,$Z:()=>sE,AFp:()=>xm,ALo:()=>gb,AaK:()=>de,AsE:()=>Zg,BQk:()=>pc,CHM:()=>El,CRH:()=>Gv,CZH:()=>Sm,CqO:()=>jg,DdM:()=>Lv,EJc:()=>PD,EpF:()=>qu,F$t:()=>Ff,F4k:()=>oE,FYo:()=>Nv,FiY:()=>pi,G48:()=>Kb,GfV:()=>ip,Gpc:()=>H,Hsn:()=>Lf,JOm:()=>oe,LFG:()=>Qe,LSH:()=>Mu,Lbi:()=>s0,MAs:()=>Kw,NdJ:()=>Zu,O4$:()=>rd,OlP:()=>In,Oqu:()=>Hf,PXZ:()=>Fc,Q6J:()=>Mf,QGY:()=>Pf,Qsj:()=>uD,R0b:()=>Bo,RDi:()=>cs,Rgc:()=>ch,SBq:()=>Ic,Sil:()=>Oc,Suo:()=>Hv,TTD:()=>mo,TgZ:()=>Rf,VKq:()=>Uv,VLi:()=>gh,W1O:()=>Rc,WLB:()=>uh,X6Q:()=>VD,XFs:()=>ct,Xpm:()=>Ft,Y36:()=>$d,YKP:()=>op,YNc:()=>zw,Yjl:()=>vr,Yz7:()=>en,ZZ4:()=>Km,_Bn:()=>ep,_UZ:()=>Bg,_Vd:()=>np,_c5:()=>lC,_uU:()=>EE,aQg:()=>yh,c2e:()=>Nc,cJS:()=>Kt,cg1:()=>Fe,dDg:()=>Vm,deG:()=>$p,dqk:()=>Bt,eFA:()=>c0,ekj:()=>pv,g9A:()=>r0,h0i:()=>An,hGG:()=>YD,hij:()=>Wu,iGM:()=>Em,ifc:()=>$t,ip1:()=>ph,kL8:()=>Jd,kcU:()=>_y,lG2:()=>Zt,lcZ:()=>mb,n5z:()=>cd,n_E:()=>Ac,oAB:()=>Q,oxw:()=>da,q4F:()=>cb,qLn:()=>Tr,qOj:()=>vf,qZA:()=>kf,sBO:()=>Hm,sIi:()=>wf,s_b:()=>dp,soG:()=>Nm,tBr:()=>Pr,tb:()=>Rm,tp0:()=>So,uIk:()=>Ef,vHH:()=>Se,vpe:()=>Xi,wAp:()=>Ne,xp6:()=>mi,ynx:()=>Of,z2F:()=>d0,zSh:()=>Cg,zs3:()=>Cs});var c=N(7579),Y=N(727),O=N(9751),ne=N(6451),X=N(3099);function pe(i){for(let o in i)if(i[o]===pe)return o;throw Error("Could not find renamed property on target object.")}function se(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function de(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(de).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function ue(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const $=pe({__forward_ref__:pe});function H(i){return i.__forward_ref__=H,i.toString=function(){return de(this())},i}function Z(i){return He(i)?i():i}function He(i){return"function"==typeof i&&i.hasOwnProperty($)&&i.__forward_ref__===H}class Se extends Error{constructor(o,a){super(function Ye(i,o){return`NG0${Math.abs(i)}${o?": "+o:""}`}(o,a)),this.code=o}}function ye(i){return"string"==typeof i?i:null==i?"":String(i)}function we(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ye(i)}function _e(i,o){const a=o?` in ${o}`:"";throw new Se(-201,`No provider for ${we(i)} found${a}`)}function lt(i,o){null==i&&function mt(i,o,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,i,null,"!=")}function en(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Kt(i){return{providers:i.providers||[],imports:i.imports||[]}}function jt(i){return rr(i,Vi)||rr(i,rs)}function rr(i,o){return i.hasOwnProperty(o)?i[o]:null}function Rr(i){return i&&(i.hasOwnProperty(kr)||i.hasOwnProperty(is))?i[kr]:null}const Vi=pe({\u0275prov:pe}),kr=pe({\u0275inj:pe}),rs=pe({ngInjectableDef:pe}),is=pe({ngInjectorDef:pe});var ct=(()=>((ct=ct||{})[ct.Default=0]="Default",ct[ct.Host=1]="Host",ct[ct.Self=2]="Self",ct[ct.SkipSelf=4]="SkipSelf",ct[ct.Optional=8]="Optional",ct))();let Gr;function Hn(i){const o=Gr;return Gr=i,o}function ii(i,o,a){const l=jt(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&ct.Optional?null:void 0!==o?o:void _e(de(i),"Injector")}function fn(i){return{toString:i}.toString()}var Jn=(()=>((Jn=Jn||{})[Jn.OnPush=0]="OnPush",Jn[Jn.Default=1]="Default",Jn))(),$t=(()=>{return(i=$t||($t={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",$t;var i})();const ot="undefined"!=typeof globalThis&&globalThis,wt="undefined"!=typeof window&&window,ir="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Bt=ot||"undefined"!=typeof global&&global||wt||ir,sr={},ft=[],_r=pe({\u0275cmp:pe}),Ut=pe({\u0275dir:pe}),ze=pe({\u0275pipe:pe}),Ie=pe({\u0275mod:pe}),Je=pe({\u0275fac:pe}),pt=pe({__NG_ELEMENT_ID__:pe});let Vt=0;function Ft(i){return fn(()=>{const a={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===Jn.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||ft,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||$t.Emulated,id:"c",styles:i.styles||ft,_:null,setInput:null,schemas:i.schemas||null,tView:null},h=i.directives,p=i.features,_=i.pipes;return l.id+=Vt++,l.inputs=yt(i.inputs,a),l.outputs=yt(i.outputs),p&&p.forEach(E=>E(l)),l.directiveDefs=h?()=>("function"==typeof h?h():h).map(L):null,l.pipeDefs=_?()=>("function"==typeof _?_():_).map(G):null,l})}function L(i){return Ht(i)||function En(i){return i[Ut]||null}(i)}function G(i){return function kt(i){return i[ze]||null}(i)}const ce={};function Q(i){return fn(()=>{const o={type:i.type,bootstrap:i.bootstrap||ft,declarations:i.declarations||ft,imports:i.imports||ft,exports:i.exports||ft,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(ce[i.id]=i.type),o})}function yt(i,o){if(null==i)return sr;const a={};for(const l in i)if(i.hasOwnProperty(l)){let h=i[l],p=h;Array.isArray(h)&&(p=h[1],h=h[0]),a[h]=l,o&&(o[h]=p)}return a}const Zt=Ft;function vr(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ht(i){return i[_r]||null}function un(i,o){const a=i[Ie]||null;if(!a&&!0===o)throw new Error(`Type ${de(i)} does not have '\u0275mod' property.`);return a}function bi(i){return Array.isArray(i)&&"object"==typeof i[1]}function ai(i){return Array.isArray(i)&&!0===i[1]}function Gc(i){return 0!=(8&i.flags)}function Vs(i){return 2==(2&i.flags)}function ru(i){return 1==(1&i.flags)}function qr(i){return null!==i.template}function Th(i){return 0!=(512&i[2])}function Nr(i,o){return i.hasOwnProperty(Je)?i[Je]:null}class Go{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function mo(){return Ia}function Ia(i){return i.type.prototype.ngOnChanges&&(i.setInput=Vp),Kc}function Kc(){const i=$s(this),o=null==i?void 0:i.current;if(o){const a=i.previous;if(a===sr)i.previous=o;else for(let l in o)a[l]=o[l];i.current=null,this.ngOnChanges(o)}}function Vp(i,o,a,l){const h=$s(i)||function ui(i,o){return i[ls]=o}(i,{previous:sr,current:null}),p=h.current||(h.current={}),_=h.previous,E=this.declaredInputs[a],b=_[E];p[E]=new Go(b&&b.currentValue,o,_===sr),i[l]=o}mo.ngInherit=!0;const ls="__ngSimpleChanges__";function $s(i){return i[ls]||null}let du;function cs(i){du=i}function dn(i){return!!i.listen}const qo={createRenderer:(i,o)=>function Da(){return void 0!==du?du:"undefined"!=typeof document?document:void 0}()};function rn(i){for(;Array.isArray(i);)i=i[0];return i}function _o(i,o){return rn(o[i])}function wr(i,o){return rn(o[i.index])}function Ta(i,o){return i.data[o]}function Ci(i,o){return i[o]}function Er(i,o){const a=o[i];return bi(a)?a:a[0]}function Gs(i){return 4==(4&i[2])}function ds(i){return 128==(128&i[2])}function zr(i,o){return null==o?null:i[o]}function qs(i){i[18]=0}function Zs(i,o){i[5]+=o;let a=i,l=i[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const gt={lFrame:wo(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function mu(){return gt.bindingsEnabled}function be(){return gt.lFrame.lView}function Lt(){return gt.lFrame.tView}function El(i){return gt.lFrame.contextLView=i,i[8]}function gn(){let i=Zo();for(;null!==i&&64===i.type;)i=i.parent;return i}function Zo(){return gt.lFrame.currentTNode}function Wr(i,o){const a=gt.lFrame;a.currentTNode=i,a.isParent=o}function bl(){return gt.lFrame.isParent}function Cl(){gt.lFrame.isParent=!1}function yu(){return gt.isInCheckNoChangesMode}function zs(i){gt.isInCheckNoChangesMode=i}function ur(){const i=gt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function Ws(){return gt.lFrame.bindingIndex++}function Ii(i){const o=gt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}function wu(i,o){const a=gt.lFrame;a.bindingIndex=a.bindingRootIndex=i,Sa(o)}function Sa(i){gt.lFrame.currentDirectiveIndex=i}function Al(){return gt.lFrame.currentQueryIndex}function Sl(i){gt.lFrame.currentQueryIndex=i}function Xc(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function xl(i,o,a){if(a&ct.SkipSelf){let h=o,p=i;for(;!(h=h.parent,null!==h||a&ct.Host||(h=Xc(p),null===h||(p=p[15],10&h.type))););if(null===h)return!1;o=h,i=p}const l=gt.lFrame=ed();return l.currentTNode=o,l.lView=i,!0}function vo(i){const o=ed(),a=i[1];gt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function ed(){const i=gt.lFrame,o=null===i?null:i.child;return null===o?wo(i):o}function wo(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function td(){const i=gt.lFrame;return gt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const nd=td;function Eo(){const i=td();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function br(){return gt.lFrame.selectedIndex}function Ys(i){gt.lFrame.selectedIndex=i}function bn(){const i=gt.lFrame;return Ta(i.tView,i.selectedIndex)}function rd(){gt.lFrame.currentNamespace="svg"}function _y(){!function Rl(){gt.lFrame.currentNamespace=null}()}function hs(i,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const p=i.data[a].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:b,ngAfterViewChecked:A,ngOnDestroy:x}=p;_&&(i.contentHooks||(i.contentHooks=[])).push(-a,_),E&&((i.contentHooks||(i.contentHooks=[])).push(a,E),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,E)),b&&(i.viewHooks||(i.viewHooks=[])).push(-a,b),A&&((i.viewHooks||(i.viewHooks=[])).push(a,A),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,A)),null!=x&&(i.destroyHooks||(i.destroyHooks=[])).push(a,x)}}function Ma(i,o,a){id(i,o,3,a)}function Eu(i,o,a,l){(3&i[2])===a&&id(i,o,a,l)}function Ln(i,o){let a=i[2];(3&a)===o&&(a&=2047,a+=1,i[2]=a)}function id(i,o,a,l){const p=null!=l?l:-1,_=o.length-1;let E=0;for(let b=void 0!==l?65535&i[18]:0;b<_;b++)if("number"==typeof o[b+1]){if(E=o[b],null!=l&&E>=l)break}else o[b]<0&&(i[18]+=65536),(E<p||-1==p)&&(Bp(i,a,o,b),i[18]=(4294901760&i[18])+b+2),b++}function Bp(i,o,a,l){const h=a[l]<0,p=a[l+1],E=i[h?-a[l]:a[l]];if(h){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{p.call(E)}finally{}}}else try{p.call(E)}finally{}}class Wo{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function dt(i,o,a){const l=dn(i);let h=0;for(;h<a.length;){const p=a[h];if("number"==typeof p){if(0!==p)break;h++;const _=a[h++],E=a[h++],b=a[h++];l?i.setAttribute(o,E,b,_):o.setAttributeNS(_,E,b)}else{const _=p,E=a[++h];Or(_)?l&&i.setProperty(o,_,E):l?i.setAttribute(o,_,E):o.setAttribute(_,E),h++}}return h}function lr(i){return 3===i||4===i||6===i}function Or(i){return 64===i.charCodeAt(0)}function Cr(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const h=o[l];"number"==typeof h?a=h:0===a||Ko(i,a,h,null,-1===a||2===a?o[++l]:null)}}return i}function Ko(i,o,a,l,h){let p=0,_=i.length;if(-1===o)_=-1;else for(;p<i.length;){const E=i[p++];if("number"==typeof E){if(E===o){_=-1;break}if(E>o){_=p-1;break}}}for(;p<i.length;){const E=i[p];if("number"==typeof E)break;if(E===a){if(null===l)return void(null!==h&&(i[p+1]=h));if(l===i[p+1])return void(i[p+2]=h)}p++,null!==l&&p++,null!==h&&p++}-1!==_&&(i.splice(_,0,o),p=_+1),i.splice(p++,0,a),null!==l&&i.splice(p++,0,l),null!==h&&i.splice(p++,0,h)}function ad(i){return-1!==i}function cn(i){return 32767&i}function Di(i,o){let a=function Mh(i){return i>>16}(i),l=o;for(;a>0;)l=l[15],a--;return l}let bu=!0;function ci(i){const o=bu;return bu=i,o}let ld=0;function Cn(i,o){const a=Io(i,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(i.injectorIndex=o.length,ps(l.data,i),ps(o,null),ps(l.blueprint,null));const h=di(i,o),p=i.injectorIndex;if(ad(h)){const _=cn(h),E=Di(h,o),b=E[1].data;for(let A=0;A<8;A++)o[p+A]=E[_+A]|b[_+A]}return o[p+8]=h,p}function ps(i,o){i.push(0,0,0,0,0,0,0,0,o)}function Io(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function di(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,h=o;for(;null!==h;){const p=h[1],_=p.type;if(l=2===_?p.declTNode:1===_?h[6]:null,null===l)return-1;if(a++,h=h[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Qs(i,o,a){!function Co(i,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(pt)&&(l=a[pt]),null==l&&(l=a[pt]=ld++);const h=255&l;o.data[i+(h>>5)]|=1<<h}(i,o,a)}function $i(i,o,a){if(a&ct.Optional)return i;_e(o,"NodeInjector")}function Pl(i,o,a,l){if(a&ct.Optional&&void 0===l&&(l=null),0==(a&(ct.Self|ct.Host))){const h=i[9],p=Hn(void 0);try{return h?h.get(o,l,a&ct.Optional):ii(o,l,a&ct.Optional)}finally{Hn(p)}}return $i(l,o,a)}function Js(i,o,a,l=ct.Default,h){if(null!==i){const p=function Qo(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(pt)?i[pt]:void 0;return"number"==typeof o?o>=0?255&o:Fl:o}(a);if("function"==typeof p){if(!xl(o,i,l))return l&ct.Host?$i(h,a,l):Pl(o,a,l,h);try{const _=p(l);if(null!=_||l&ct.Optional)return _;_e(a)}finally{nd()}}else if("number"==typeof p){let _=null,E=Io(i,o),b=-1,A=l&ct.Host?o[16][6]:null;for((-1===E||l&ct.SkipSelf)&&(b=-1===E?di(i,o):o[E+8],-1!==b&&cr(l,!1)?(_=o[1],E=cn(b),o=Di(b,o)):E=-1);-1!==E;){const x=o[1];if(ka(p,E,x.data)){const P=Ll(E,o,a,_,l,A);if(P!==Hi)return P}b=o[E+8],-1!==b&&cr(l,o[1].data[E+8]===A)&&ka(p,E,o)?(_=x,E=cn(b),o=Di(b,o)):E=-1}}}return Pl(o,a,l,h)}const Hi={};function Fl(){return new Ai(gn(),be())}function Ll(i,o,a,l,h,p){const _=o[1],E=_.data[i+8],x=Yo(E,_,a,null==l?Vs(E)&&bu:l!=_&&0!=(3&E.type),h&ct.Host&&p===E);return null!==x?Ti(o,_,x,E):Hi}function Yo(i,o,a,l,h){const p=i.providerIndexes,_=o.data,E=1048575&p,b=i.directiveStart,x=p>>20,V=h?E+x:i.directiveEnd;for(let K=l?E:E+x;K<V;K++){const ge=_[K];if(K<b&&a===ge||K>=b&&ge.type===a)return K}if(h){const K=_[b];if(K&&qr(K)&&K.type===a)return b}return null}function Ti(i,o,a,l){let h=i[a];const p=o.data;if(function sd(i){return i instanceof Wo}(h)){const _=h;_.resolving&&function at(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new Se(-200,`Circular dependency in DI detected for ${i}${a}`)}(we(p[a]));const E=ci(_.canSeeViewProviders);_.resolving=!0;const b=_.injectImpl?Hn(_.injectImpl):null;xl(i,l,ct.Default);try{h=i[a]=_.factory(void 0,p,i,l),o.firstCreatePass&&a>=l.directiveStart&&function kl(i,o,a){const{ngOnChanges:l,ngOnInit:h,ngDoCheck:p}=o.type.prototype;if(l){const _=Ia(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,_),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,_)}h&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,h),p&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,p),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,p))}(a,p[a],o)}finally{null!==b&&Hn(b),ci(E),_.resolving=!1,nd()}}return h}function ka(i,o,a){return!!(a[o+(i>>5)]&1<<i)}function cr(i,o){return!(i&ct.Self||i&ct.Host&&o)}class Ai{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Js(this._tNode,this._lView,o,l,a)}}function cd(i){return fn(()=>{const o=i.prototype.constructor,a=o[Je]||hn(o),l=Object.prototype;let h=Object.getPrototypeOf(i.prototype).constructor;for(;h&&h!==l;){const p=h[Je]||hn(h);if(p&&p!==a)return p;h=Object.getPrototypeOf(h)}return p=>new p})}function hn(i){return He(i)?()=>{const o=hn(Z(i));return o&&o()}:Nr(i)}function gs(i){return function Ra(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const l=a.length;let h=0;for(;h<l;){const p=a[h];if(lr(p))break;if(0===p)h+=2;else if("number"==typeof p)for(h++;h<l&&"string"==typeof a[h];)h++;else{if(p===o)return a[h+1];h+=2}}}return null}(gn(),i)}const Jo="__parameters__";function yn(i,o,a){return fn(()=>{const l=function qi(i){return function(...a){if(i){const l=i(...a);for(const h in l)this[h]=l[h]}}}(o);function h(...p){if(this instanceof h)return l.apply(this,p),this;const _=new h(...p);return E.annotation=_,E;function E(b,A,x){const P=b.hasOwnProperty(Jo)?b[Jo]:Object.defineProperty(b,Jo,{value:[]})[Jo];for(;P.length<=x;)P.push(null);return(P[x]=P[x]||[]).push(_),b}}return a&&(h.prototype=Object.create(a.prototype)),h.prototype.ngMetadataName=i,h.annotationCls=h,h})}class In{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=en({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}toString(){return`InjectionToken ${this._desc}`}}const $p=new In("AnalyzeForEntryComponents");function dr(i,o){void 0===o&&(o=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(o===i&&(o=i.slice(0,a)),dr(l,o)):o!==i&&o.push(l)}return o}function hi(i,o){i.forEach(a=>Array.isArray(a)?hi(a,o):o(a))}function Bl(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function ys(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function xi(i,o){const a=[];for(let l=0;l<i;l++)a.push(o);return a}function Zn(i,o,a){let l=no(i,o);return l>=0?i[1|l]=a:(l=~l,function jl(i,o,a,l){let h=i.length;if(h==o)i.push(a,l);else if(1===h)i.push(l,i[0]),i[0]=a;else{for(h--,i.push(i[h-1],i[h]);h>o;)i[h]=i[h-2],h--;i[o]=a,i[o+1]=l}}(i,l,o,a)),l}function Gl(i,o){const a=no(i,o);if(a>=0)return i[1|a]}function no(i,o){return function Do(i,o,a){let l=0,h=i.length>>a;for(;h!==l;){const p=l+(h-l>>1),_=i[p<<a];if(o===_)return p<<a;_>o?h=p:l=p+1}return~(h<<a)}(i,o,1)}const To={},ea="__NG_DI_FLAG__",Du="ngTempTokenPath",D=/\n/gm,F="__source",W=pe({provide:String,useValue:pe});let ee;function xe(i){const o=ee;return ee=i,o}function Me(i,o=ct.Default){if(void 0===ee)throw new Se(203,"");return null===ee?ii(i,void 0,o):ee.get(i,o&ct.Optional?null:void 0,o)}function Qe(i,o=ct.Default){return(function Qn(){return Gr}()||Me)(Z(i),o)}const Nt=Qe;function St(i){const o=[];for(let a=0;a<i.length;a++){const l=Z(i[a]);if(Array.isArray(l)){if(0===l.length)throw new Se(900,"");let h,p=ct.Default;for(let _=0;_<l.length;_++){const E=l[_],b=Dn(E);"number"==typeof b?-1===b?h=E.token:p|=b:h=E}o.push(Qe(h,p))}else o.push(Qe(l))}return o}function Vn(i,o){return i[ea]=o,i.prototype[ea]=o,i}function Dn(i){return i[ea]}const Pr=Vn(yn("Inject",i=>({token:i})),-1),pi=Vn(yn("Optional"),8),So=Vn(yn("SkipSelf"),4);class wd{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ro(i){return i instanceof wd?i.changingThisBreaksApplicationSecurity:i}const io=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Vh=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Jt=(()=>((Jt=Jt||{})[Jt.NONE=0]="NONE",Jt[Jt.HTML=1]="HTML",Jt[Jt.STYLE=2]="STYLE",Jt[Jt.SCRIPT=3]="SCRIPT",Jt[Jt.URL=4]="URL",Jt[Jt.RESOURCE_URL=5]="RESOURCE_URL",Jt))();function Mu(i){const o=function ia(){const i=be();return i&&i[12]}();return o?o.sanitize(Jt.URL,i)||"":function na(i,o){const a=function Au(i){return i instanceof wd&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(i,"URL")?ro(i):function Su(i){return(i=String(i)).match(io)||i.match(Vh)?i:"unsafe:"+i}(ye(i))}const Kh="__ngContext__";function Fr(i,o){i[Kh]=o}function Yh(i){const o=function Ua(i){return i[Kh]||null}(i);return o?Array.isArray(o)?o:o.lView:null}function ja(i){return i.ngOriginalError}function rg(i,...o){i.error(...o)}class Tr{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o),l=function jy(i){return i&&i.ngErrorLogger||rg}(o);l(this._console,"ERROR",o),a&&l(this._console,"ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&ja(o);for(;a&&ja(a);)a=ja(a);return a||null}}const qy=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Bt))();function g(i){return i instanceof Function?i():i}var oe=(()=>((oe=oe||{})[oe.Important=1]="Important",oe[oe.DashCase=2]="DashCase",oe))();function Xe(i,o){return undefined(i,o)}function Tn(i){const o=i[3];return ai(o)?o[3]:o}function Ru(i){return sf(i[13])}function ku(i){return sf(i[4])}function sf(i){for(;null!==i&&!ai(i);)i=i[4];return i}function sa(i,o,a,l,h){if(null!=l){let p,_=!1;ai(l)?p=l:bi(l)&&(_=!0,l=l[0]);const E=rn(l);0===i&&null!==a?null==h?Xy(o,a,E):ws(o,a,E,h||null,!0):1===i&&null!==a?ws(o,a,E,h||null,!0):2===i?function r_(i,o,a){const l=oc(i,o);l&&function ZC(i,o,a,l){dn(i)?i.removeChild(o,a,l):o.removeChild(a)}(i,l,o,a)}(o,E,_):3===i&&o.destroyNode(E),null!=p&&function eS(i,o,a,l,h){const p=a[7];p!==rn(a)&&sa(o,i,l,p,h);for(let E=10;E<a.length;E++){const b=a[E];ug(b[1],b,i,o,l,p)}}(o,i,p,a,h)}}function Sd(i,o,a){if(dn(i))return i.createElement(o,a);{const l=null!==a?function cu(i){const o=i.toLowerCase();return"svg"===o?"http://www.w3.org/2000/svg":"math"===o?"http://www.w3.org/1998/MathML/":null}(a):null;return null===l?i.createElement(o):i.createElementNS(l,o)}}function Ky(i,o){const a=i[9],l=a.indexOf(o),h=o[3];1024&o[2]&&(o[2]&=-1025,Zs(h,-1)),a.splice(l,1)}function Yy(i,o){if(i.length<=10)return;const a=10+o,l=i[a];if(l){const h=l[17];null!==h&&h!==i&&Ky(h,l),o>0&&(i[a-1][4]=l[4]);const p=ys(i,10+o);!function Ar(i,o){ug(i,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const _=p[19];null!==_&&_.detachView(p[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function Qy(i,o){if(!(256&o[2])){const a=o[11];dn(a)&&a.destroyNode&&ug(i,o,a,3,null,null),function Wy(i){let o=i[13];if(!o)return Jy(i[1],i);for(;o;){let a=null;if(bi(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==i;)bi(o)&&Jy(o[1],o),o=o[3];null===o&&(o=i),bi(o)&&Jy(o[1],o),a=o&&o[4]}o=a}}(o)}}function Jy(i,o){if(!(256&o[2])){o[2]&=-129,o[2]|=256,function q0(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const h=o[a[l]];if(!(h instanceof Wo)){const p=a[l+1];if(Array.isArray(p))for(let _=0;_<p.length;_+=2){const E=h[p[_]],b=p[_+1];try{b.call(E)}finally{}}else try{p.call(h)}finally{}}}}(i,o),function G0(i,o){const a=i.cleanup,l=o[7];let h=-1;if(null!==a)for(let p=0;p<a.length-1;p+=2)if("string"==typeof a[p]){const _=a[p+1],E="function"==typeof _?_(o):rn(o[_]),b=l[h=a[p+2]],A=a[p+3];"boolean"==typeof A?E.removeEventListener(a[p],b,A):A>=0?l[h=A]():l[h=-A].unsubscribe(),p+=2}else{const _=l[h=a[p+1]];a[p].call(_)}if(null!==l){for(let p=h+1;p<l.length;p++)l[p]();o[7]=null}}(i,o),1===o[1].type&&dn(o[11])&&o[11].destroy();const a=o[17];if(null!==a&&ai(o[3])){a!==o[3]&&Ky(a,o);const l=o[19];null!==l&&l.detachView(i)}}}function og(i,o,a){return function qC(i,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const h=i.data[l.directiveStart].encapsulation;if(h===$t.None||h===$t.Emulated)return null}return wr(l,a)}(i,o.parent,a)}function ws(i,o,a,l,h){dn(i)?i.insertBefore(o,a,l,h):o.insertBefore(a,l,h)}function Xy(i,o,a){dn(i)?i.appendChild(o,a):o.appendChild(a)}function Z0(i,o,a,l,h){null!==l?ws(i,o,a,l,h):Xy(i,o,a)}function oc(i,o){return dn(i)?i.parentNode(o):o.parentNode}function z0(i,o,a){return e_(i,o,a)}let e_=function W0(i,o,a){return 40&i.type?wr(i,a):null};function ag(i,o,a,l){const h=og(i,l,o),p=o[11],E=z0(l.parent||o[6],l,o);if(null!=h)if(Array.isArray(a))for(let b=0;b<a.length;b++)Z0(p,h,a[b],E,!1);else Z0(p,h,a,E,!1)}function Rd(i,o){if(null!==o){const a=o.type;if(3&a)return wr(o,i);if(4&a)return n_(-1,i[o.index]);if(8&a){const l=o.child;if(null!==l)return Rd(i,l);{const h=i[o.index];return ai(h)?n_(-1,h):rn(h)}}if(32&a)return Xe(o,i)()||rn(i[o.index]);{const l=Y0(i,o);return null!==l?Array.isArray(l)?l[0]:Rd(Tn(i[16]),l):Rd(i,o.next)}}return null}function Y0(i,o){return null!==o?i[16][6].projection[o.projection]:null}function n_(i,o){const a=10+i+1;if(a<o.length){const l=o[a],h=l[1].firstChild;if(null!==h)return Rd(l,h)}return o[7]}function i_(i,o,a,l,h,p,_){for(;null!=a;){const E=l[a.index],b=a.type;if(_&&0===o&&(E&&Fr(rn(E),l),a.flags|=4),64!=(64&a.flags))if(8&b)i_(i,o,a.child,l,h,p,!1),sa(o,i,h,E,p);else if(32&b){const A=Xe(a,l);let x;for(;x=A();)sa(o,i,h,x,p);sa(o,i,h,E,p)}else 16&b?WC(i,o,l,a,h,p):sa(o,i,h,E,p);a=_?a.projectionNext:a.next}}function ug(i,o,a,l,h,p){i_(a,l,i.firstChild,o,h,p,!1)}function WC(i,o,a,l,h,p){const _=a[16],b=_[6].projection[l.projection];if(Array.isArray(b))for(let A=0;A<b.length;A++)sa(o,i,h,b[A],p);else i_(i,o,b,_[3],h,p,!0)}function Q0(i,o,a){dn(i)?i.setAttribute(o,"style",a):o.style.cssText=a}function s_(i,o,a){dn(i)?""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a):o.className=a}function he(i,o,a){let l=i.length;for(;;){const h=i.indexOf(o,a);if(-1===h)return h;if(0===h||i.charCodeAt(h-1)<=32){const p=o.length;if(h+p===l||i.charCodeAt(h+p)<=32)return h}a=h+1}}const J0="ng-template";function KC(i,o,a){let l=0;for(;l<i.length;){let h=i[l++];if(a&&"class"===h){if(h=i[l],-1!==he(h.toLowerCase(),o,0))return!0}else if(1===h){for(;l<i.length&&"string"==typeof(h=i[l++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function X0(i){return 4===i.type&&i.value!==J0}function ew(i,o,a){return o===(4!==i.type||a?i.value:J0)}function YC(i,o,a){let l=4;const h=i.attrs||[],p=function lg(i){for(let o=0;o<i.length;o++)if(lr(i[o]))return o;return i.length}(h);let _=!1;for(let E=0;E<o.length;E++){const b=o[E];if("number"!=typeof b){if(!_)if(4&l){if(l=2|1&l,""!==b&&!ew(i,b,a)||""===b&&1===o.length){if(No(l))return!1;_=!0}}else{const A=8&l?b:o[++E];if(8&l&&null!==i.attrs){if(!KC(i.attrs,A,a)){if(No(l))return!1;_=!0}continue}const P=QC(8&l?"class":b,h,X0(i),a);if(-1===P){if(No(l))return!1;_=!0;continue}if(""!==A){let V;V=P>p?"":h[P+1].toLowerCase();const K=8&l?V:null;if(K&&-1!==he(K,A,0)||2&l&&A!==V){if(No(l))return!1;_=!0}}}}else{if(!_&&!No(l)&&!No(b))return!1;if(_&&No(b))continue;_=!1,l=b|1&l}}return No(l)||_}function No(i){return 0==(1&i)}function QC(i,o,a,l){if(null===o)return-1;let h=0;if(l||!a){let p=!1;for(;h<o.length;){const _=o[h];if(_===i)return h;if(3===_||6===_)p=!0;else{if(1===_||2===_){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===_)break;if(0===_){h+=4;continue}}h+=p?1:2}return-1}return function XC(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,i)}function tw(i,o,a=!1){for(let l=0;l<o.length;l++)if(YC(i,o[l],a))return!0;return!1}function eI(i,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(i.length===l.length){for(let h=0;h<i.length;h++)if(i[h]!==l[h])continue e;return!0}}return!1}function nw(i,o){return i?":not("+o.trim()+")":o}function rw(i){let o=i[0],a=1,l=2,h="",p=!1;for(;a<i.length;){let _=i[a];if("string"==typeof _)if(2&l){const E=i[++a];h+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&l?h+="."+_:4&l&&(h+=" "+_);else""!==h&&!No(_)&&(o+=nw(p,h),h=""),l=_,p=p||!No(l);a++}return""!==h&&(o+=nw(p,h)),o}const tt={};function mi(i){u_(Lt(),be(),br()+i,yu())}function u_(i,o,a,l){if(!l)if(3==(3&o[2])){const p=i.preOrderCheckHooks;null!==p&&Ma(o,p,a)}else{const p=i.preOrderHooks;null!==p&&Eu(o,p,0,a)}Ys(a)}function cg(i,o){return i<<17|o<<2}function oa(i){return i>>17&32767}function ow(i){return 2|i}function Nu(i){return(131068&i)>>2}function c_(i,o){return-131069&i|o<<2}function uw(i){return 1|i}function yw(i,o){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const h=a[l],p=a[l+1];if(-1!==p){const _=i.data[p];Sl(h),_.contentQueries(2,o[p],p)}}}function kd(i,o,a,l,h,p,_,E,b,A){const x=o.blueprint.slice();return x[0]=h,x[2]=140|l,qs(x),x[3]=x[15]=i,x[8]=a,x[10]=_||i&&i[10],x[11]=E||i&&i[11],x[12]=b||i&&i[12]||null,x[9]=A||i&&i[9]||null,x[6]=p,x[16]=2==o.type?i[16]:x,x}function Pu(i,o,a,l,h){let p=i.data[o];if(null===p)p=function pg(i,o,a,l,h){const p=Zo(),_=bl(),b=i.data[o]=function I_(i,o,a,l,h,p){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?p:p&&p.parent,a,o,l,h);return null===i.firstChild&&(i.firstChild=b),null!==p&&(_?null==p.child&&null!==b.parent&&(p.child=b):null===p.next&&(p.next=b)),b}(i,o,a,l,h),function Dl(){return gt.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=a,p.value=l,p.attrs=h;const _=function zo(){const i=gt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();p.injectorIndex=null===_?-1:_.injectorIndex}return Wr(p,!0),p}function Fu(i,o,a,l){if(0===a)return-1;const h=o.length;for(let p=0;p<a;p++)o.push(l),i.blueprint.push(l),i.data.push(null);return h}function Nd(i,o,a){vo(o);try{const l=i.viewQuery;null!==l&&Ow(1,l,a);const h=i.template;null!==h&&gg(i,o,h,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&yw(i,o),i.staticViewQueries&&Ow(2,i.viewQuery,a);const p=i.components;null!==p&&function lI(i,o){for(let a=0;a<o.length;a++)mI(i,o[a])}(o,p)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{o[2]&=-5,Eo()}}function aa(i,o,a,l){const h=o[2];if(256==(256&h))return;vo(o);const p=yu();try{qs(o),function _u(i){return gt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&gg(i,o,a,2,l);const _=3==(3&h);if(!p)if(_){const A=i.preOrderCheckHooks;null!==A&&Ma(o,A,null)}else{const A=i.preOrderHooks;null!==A&&Eu(o,A,0,null),Ln(o,0)}if(function hS(i){for(let o=Ru(i);null!==o;o=ku(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const h=a[l],p=h[3];0==(1024&h[2])&&Zs(p,1),h[2]|=1024}}}(o),function dS(i){for(let o=Ru(i);null!==o;o=ku(o))for(let a=10;a<o.length;a++){const l=o[a],h=l[1];ds(l)&&aa(h,l,h.template,l[8])}}(o),null!==i.contentQueries&&yw(i,o),!p)if(_){const A=i.contentCheckHooks;null!==A&&Ma(o,A)}else{const A=i.contentHooks;null!==A&&Eu(o,A,1),Ln(o,1)}!function aI(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const h=a[l];if(h<0)Ys(~h);else{const p=h,_=a[++l],E=a[++l];wu(_,p),E(2,o[p])}}}finally{Ys(-1)}}(i,o);const E=i.components;null!==E&&function uI(i,o){for(let a=0;a<o.length;a++)x_(i,o[a])}(o,E);const b=i.viewQuery;if(null!==b&&Ow(2,b,l),!p)if(_){const A=i.viewCheckHooks;null!==A&&Ma(o,A)}else{const A=i.viewHooks;null!==A&&Eu(o,A,2),Ln(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),p||(o[2]&=-73),1024&o[2]&&(o[2]&=-1025,Zs(o[3],-1))}finally{Eo()}}function cI(i,o,a,l){const h=o[10],p=!yu(),_=Gs(o);try{p&&!_&&h.begin&&h.begin(),_&&Nd(i,o,l),aa(i,o,a,l)}finally{p&&!_&&h.end&&h.end()}}function gg(i,o,a,l,h){const p=br(),_=2&l;try{Ys(-1),_&&o.length>20&&u_(i,o,20,yu()),a(l,h)}finally{Ys(p)}}function w_(i,o,a){if(Gc(o)){const h=o.directiveEnd;for(let p=o.directiveStart;p<h;p++){const _=i.data[p];_.contentQueries&&_.contentQueries(1,a[p],p)}}}function E_(i,o,a){!mu()||(function fI(i,o,a,l){const h=a.directiveStart,p=a.directiveEnd;i.firstCreatePass||Cn(a,o),Fr(l,o);const _=a.initialInputs;for(let E=h;E<p;E++){const b=i.data[E],A=qr(b);A&&Aw(o,a,b);const x=Ti(o,i,E,a);Fr(x,o),null!==_&&Sw(0,E-h,x,b,0,_),A&&(Er(a.index,o)[8]=x)}}(i,o,a,wr(a,o)),128==(128&a.flags)&&function pI(i,o,a){const l=a.directiveStart,h=a.directiveEnd,_=a.index,E=function Tl(){return gt.lFrame.currentDirectiveIndex}();try{Ys(_);for(let b=l;b<h;b++){const A=i.data[b],x=o[b];Sa(b),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&gf(A,x)}}finally{Ys(-1),Sa(E)}}(i,o,a))}function hf(i,o,a=wr){const l=o.localNames;if(null!==l){let h=o.index+1;for(let p=0;p<l.length;p+=2){const _=l[p+1],E=-1===_?a(o,i):i[_];i[h++]=E}}}function b_(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=ff(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function ff(i,o,a,l,h,p,_,E,b,A){const x=20+l,P=x+h,V=function C_(i,o){const a=[];for(let l=0;l<o;l++)a.push(l<i?null:tt);return a}(x,P),K="function"==typeof A?A():A;return V[1]={type:i,blueprint:V,template:a,queries:null,viewQuery:E,declTNode:o,data:V.slice().fill(null,x),bindingStartIndex:x,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:b,consts:K,incompleteFirstPass:!1}}function pf(i,o,a,l){const h=vI(o);null===a?h.push(l):(h.push(a),i.firstCreatePass&&wI(i).push(l,h.length-1))}function mg(i,o,a){for(let l in i)if(i.hasOwnProperty(l)){const h=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,h):a[l]=[o,h]}return a}function T_(i,o,a,l){let h=!1;if(mu()){const p=function Iw(i,o,a){const l=i.directiveRegistry;let h=null;if(l)for(let p=0;p<l.length;p++){const _=l[p];tw(a,_.selectors,!1)&&(h||(h=[]),Qs(Cn(a,o),i,_.type),qr(_)?(A_(i,a),h.unshift(_)):h.push(_))}return h}(i,o,a),_=null===l?null:{"":-1};if(null!==p){h=!0,Dw(a,i.data.length,p.length);for(let x=0;x<p.length;x++){const P=p[x];P.providersResolver&&P.providersResolver(P)}let E=!1,b=!1,A=Fu(i,o,p.length,null);for(let x=0;x<p.length;x++){const P=p[x];a.mergedAttrs=Cr(a.mergedAttrs,P.hostAttrs),Tw(i,a,o,A,P),gI(A,P,_),null!==P.contentQueries&&(a.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(a.flags|=128);const V=P.type.prototype;!E&&(V.ngOnChanges||V.ngOnInit||V.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),E=!0),!b&&(V.ngOnChanges||V.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),b=!0),A++}!function D_(i,o){const l=o.directiveEnd,h=i.data,p=o.attrs,_=[];let E=null,b=null;for(let A=o.directiveStart;A<l;A++){const x=h[A],P=x.inputs,V=null===p||X0(o)?null:xw(P,p);_.push(V),E=mg(P,A,E),b=mg(x.outputs,A,b)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=_,o.inputs=E,o.outputs=b}(i,a)}_&&function S_(i,o,a){if(o){const l=i.localNames=[];for(let h=0;h<o.length;h+=2){const p=a[o[h+1]];if(null==p)throw new Se(-301,!1);l.push(o[h],p)}}}(a,l,_)}return a.mergedAttrs=Cr(a.mergedAttrs,a.attrs),h}function Cw(i,o,a,l,h,p){const _=p.hostBindings;if(_){let E=i.hostBindingOpCodes;null===E&&(E=i.hostBindingOpCodes=[]);const b=~o.index;(function hI(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(E)!=b&&E.push(b),E.push(l,h,_)}}function gf(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function A_(i,o){o.flags|=2,(i.components||(i.components=[])).push(o.index)}function gI(i,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=i;qr(o)&&(a[""]=i)}}function Dw(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}function Tw(i,o,a,l,h){i.data[l]=h;const p=h.factory||(h.factory=Nr(h.type)),_=new Wo(p,qr(h),null);i.blueprint[l]=_,a[l]=_,Cw(i,o,0,l,Fu(i,a,h.hostVars,tt),h)}function Aw(i,o,a){const l=wr(o,i),h=b_(a),p=i[10],_=vg(i,kd(i,h,null,a.onPush?64:16,l,o,p,p.createRenderer(l,a),null,null));i[o.index]=_}function Fo(i,o,a,l,h,p){const _=wr(i,o);!function _g(i,o,a,l,h,p,_){if(null==p)dn(i)?i.removeAttribute(o,h,a):o.removeAttribute(h);else{const E=null==_?ye(p):_(p,l||"",h);dn(i)?i.setAttribute(o,h,E,a):a?o.setAttributeNS(a,h,E):o.setAttribute(h,E)}}(o[11],_,p,i.value,a,l,h)}function Sw(i,o,a,l,h,p){const _=p[o];if(null!==_){const E=l.setInput;for(let b=0;b<_.length;){const A=_[b++],x=_[b++],P=_[b++];null!==E?l.setInput(a,P,A,x):a[x]=P}}}function xw(i,o){let a=null,l=0;for(;l<o.length;){const h=o[l];if(0!==h)if(5!==h){if("number"==typeof h)break;i.hasOwnProperty(h)&&(null===a&&(a=[]),a.push(h,i[h],o[l+1])),l+=2}else l+=2;else l+=4}return a}function Mw(i,o,a,l){return new Array(i,!0,!1,o,null,0,l,a,null,null)}function x_(i,o){const a=Er(o,i);if(ds(a)){const l=a[1];80&a[2]?aa(l,a,l.template,a[8]):a[5]>0&&Rw(a)}}function Rw(i){for(let l=Ru(i);null!==l;l=ku(l))for(let h=10;h<l.length;h++){const p=l[h];if(1024&p[2]){const _=p[1];aa(_,p,_.template,p[8])}else p[5]>0&&Rw(p)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const h=Er(a[l],i);ds(h)&&h[5]>0&&Rw(h)}}function mI(i,o){const a=Er(o,i),l=a[1];(function kw(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(l,a),Nd(l,a,a[8])}function vg(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function wg(i){for(;i;){i[2]|=64;const o=Tn(i);if(Th(i)&&!o)return i;i=o}return null}function Nw(i,o,a){const l=o[10];l.begin&&l.begin();try{aa(i,o,i.template,a)}catch(h){throw EI(o,h),h}finally{l.end&&l.end()}}function Eg(i){!function Od(i){for(let o=0;o<i.components.length;o++){const a=i.components[o],l=Yh(a),h=l[1];cI(h,l,h.template,a)}}(i[8])}function Ow(i,o,a){Sl(0),o(i,a)}const _I=(()=>Promise.resolve(null))();function vI(i){return i[7]||(i[7]=[])}function wI(i){return i.cleanup||(i.cleanup=[])}function EI(i,o){const a=i[9],l=a?a.get(Tr,null):null;l&&l.handleError(o)}function bI(i,o,a,l,h){for(let p=0;p<a.length;){const _=a[p++],E=a[p++],b=o[_],A=i.data[_];null!==A.setInput?A.setInput(b,h,l,E):b[E]=h}}function Lu(i,o,a){const l=_o(o,i);!function Ad(i,o,a){dn(i)?i.setValue(o,a):o.textContent=a}(i[11],l,a)}function R_(i,o,a){let l=a?i.styles:null,h=a?i.classes:null,p=0;if(null!==o)for(let _=0;_<o.length;_++){const E=o[_];"number"==typeof E?p=E:1==p?h=ue(h,E):2==p&&(l=ue(l,E+": "+o[++_]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=h:i.classesWithoutHost=h}const bg=new In("INJECTOR",-1);class k_{get(o,a=To){if(a===To){const l=new Error(`NullInjectorError: No provider for ${de(o)}!`);throw l.name="NullInjectorError",l}return a}}const Cg=new In("Set Injector scope."),Fd={},Fw={};let Ig;function N_(){return void 0===Ig&&(Ig=new k_),Ig}function ua(i,o=null,a=null,l){const h=Lw(i,o,a,l);return h._resolveInjectorDefTypes(),h}function Lw(i,o=null,a=null,l){return new O_(i,a,o||N_(),l)}class O_{constructor(o,a,l,h=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];a&&hi(a,E=>this.processProvider(E,o,a)),hi([o],E=>this.processInjectorType(E,[],p)),this.records.set(bg,Ld(void 0,this));const _=this.records.get(Cg);this.scope=null!=_?_.value:null,this.source=h||("object"==typeof o?null:de(o))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(o=>o.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(o,a=To,l=ct.Default){this.assertNotDestroyed();const h=xe(this),p=Hn(void 0);try{if(!(l&ct.SkipSelf)){let E=this.records.get(o);if(void 0===E){const b=function II(i){return"function"==typeof i||"object"==typeof i&&i instanceof In}(o)&&jt(o);E=b&&this.injectableDefInScope(b)?Ld(P_(o),Fd):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(l&ct.Self?N_():this.parent).get(o,a=l&ct.Optional&&a===To?null:a)}catch(_){if("NullInjectorError"===_.name){if((_[Du]=_[Du]||[]).unshift(de(o)),h)throw _;return function ta(i,o,a,l){const h=i[Du];throw o[F]&&h.unshift(o[F]),i.message=function Ao(i,o,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let h=de(o);if(Array.isArray(o))h=o.map(de).join(" -> ");else if("object"==typeof o){let p=[];for(let _ in o)if(o.hasOwnProperty(_)){let E=o[_];p.push(_+":"+("string"==typeof E?JSON.stringify(E):de(E)))}h=`{${p.join(", ")}}`}return`${a}${l?"("+l+")":""}[${h}]: ${i.replace(D,"\n  ")}`}("\n"+i.message,h,a,l),i.ngTokenPath=h,i[Du]=null,i}(_,o,"R3InjectorError",this.source)}throw _}finally{Hn(p),xe(h)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(o=>this.get(o))}toString(){const o=[];return this.records.forEach((l,h)=>o.push(de(h))),`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processInjectorType(o,a,l){if(!(o=Z(o)))return!1;let h=Rr(o);const p=null==h&&o.ngModule||void 0,_=void 0===p?o:p,E=-1!==l.indexOf(_);if(void 0!==p&&(h=Rr(p)),null==h)return!1;if(null!=h.imports&&!E){let x;l.push(_);try{hi(h.imports,P=>{this.processInjectorType(P,a,l)&&(void 0===x&&(x=[]),x.push(P))})}finally{}if(void 0!==x)for(let P=0;P<x.length;P++){const{ngModule:V,providers:K}=x[P];hi(K,ge=>this.processProvider(ge,V,K||ft))}}this.injectorDefTypes.add(_);const b=Nr(_)||(()=>new _);this.records.set(_,Ld(b,Fd));const A=h.providers;if(null!=A&&!E){const x=o;hi(A,P=>this.processProvider(P,x,A))}return void 0!==p&&void 0!==o.providers}processProvider(o,a,l){let h=bt(o=Z(o))?o:Z(o&&o.provide);const p=function yS(i,o,a){return la(i)?Ld(void 0,i.useValue):Ld(F_(i),Fd)}(o);if(bt(o)||!0!==o.multi)this.records.get(h);else{let _=this.records.get(h);_||(_=Ld(void 0,Fd,!0),_.factory=()=>St(_.multi),this.records.set(h,_)),h=o,_.multi.push(o)}this.records.set(h,p)}hydrate(o,a){return a.value===Fd&&(a.value=Fw,a.value=a.factory()),"object"==typeof a.value&&a.value&&function mf(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this.onDestroy.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=Z(o.providedIn);return"string"==typeof a?"any"===a||a===this.scope:this.injectorDefTypes.has(a)}}function P_(i){const o=jt(i),a=null!==o?o.factory:Nr(i);if(null!==a)return a;if(i instanceof In)throw new Se(204,!1);if(i instanceof Function)return function CI(i){const o=i.length;if(o>0)throw xi(o,"?"),new Se(204,!1);const a=function ri(i){const o=i&&(i[Vi]||i[rs]);if(o){const a=function Os(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new Se(204,!1)}function F_(i,o,a){let l;if(bt(i)){const h=Z(i);return Nr(h)||P_(h)}if(la(i))l=()=>Z(i.useValue);else if(function L_(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...St(i.deps||[]));else if(function nt(i){return!(!i||!i.useExisting)}(i))l=()=>Qe(Z(i.useExisting));else{const h=Z(i&&(i.useClass||i.provide));if(!function U_(i){return!!i.deps}(i))return Nr(h)||P_(h);l=()=>new h(...St(i.deps))}return l}function Ld(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function la(i){return null!==i&&"object"==typeof i&&W in i}function bt(i){return"function"==typeof i}let Cs=(()=>{class i{static create(a,l){var h;if(Array.isArray(a))return ua({name:""},l,a,"");{const p=null!==(h=a.name)&&void 0!==h?h:"";return ua({name:p},a.parent,a.providers,p)}}}return i.THROW_IF_NOT_FOUND=To,i.NULL=new k_,i.\u0275prov=en({token:i,providedIn:"any",factory:()=>Qe(bg)}),i.__NG_ELEMENT_ID__=-1,i})();function kI(i,o){hs(Yh(i)[1],gn())}function vf(i){let o=function Z_(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;o;){let h;if(qr(i))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Se(903,"");h=o.\u0275dir}if(h){if(a){l.push(h);const _=i;_.inputs=z_(i.inputs),_.declaredInputs=z_(i.declaredInputs),_.outputs=z_(i.outputs);const E=h.hostBindings;E&&W_(i,E);const b=h.viewQuery,A=h.contentQueries;if(b&&Gw(i,b),A&&Ag(i,A),se(i.inputs,h.inputs),se(i.declaredInputs,h.declaredInputs),se(i.outputs,h.outputs),qr(h)&&h.data.animation){const x=i.data;x.animation=(x.animation||[]).concat(h.data.animation)}}const p=h.features;if(p)for(let _=0;_<p.length;_++){const E=p[_];E&&E.ngInherit&&E(i),E===vf&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Hw(i){let o=0,a=null;for(let l=i.length-1;l>=0;l--){const h=i[l];h.hostVars=o+=h.hostVars,h.hostAttrs=Cr(h.hostAttrs,a=Cr(a,h.hostAttrs))}}(l)}function z_(i){return i===sr?{}:i===ft?[]:i}function Gw(i,o){const a=i.viewQuery;i.viewQuery=a?(l,h)=>{o(l,h),a(l,h)}:o}function Ag(i,o){const a=i.contentQueries;i.contentQueries=a?(l,h,p)=>{o(l,h,p),a(l,h,p)}:o}function W_(i,o){const a=i.hostBindings;i.hostBindings=a?(l,h)=>{o(l,h),a(l,h)}:o}let Sg=null;function Vu(){if(!Sg){const i=Bt.Symbol;if(i&&i.iterator)Sg=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Sg=l)}}}return Sg}function wf(i){return!!ac(i)&&(Array.isArray(i)||!(i instanceof Map)&&Vu()in i)}function ac(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ca(i,o,a){return i[o]=a}function vi(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function uc(i,o,a,l){const h=vi(i,o,a);return vi(i,o+1,l)||h}function Ef(i,o,a,l){const h=be();return vi(h,Ws(),o)&&(Lt(),Fo(bn(),h,i,o,a,l)),Ef}function $u(i,o,a,l,h,p){const E=uc(i,function li(){return gt.lFrame.bindingIndex}(),a,h);return Ii(2),E?o+ye(a)+l+ye(h)+p:tt}function zw(i,o,a,l,h,p,_,E){const b=be(),A=Lt(),x=i+20,P=A.firstCreatePass?function PI(i,o,a,l,h,p,_,E,b){const A=o.consts,x=Pu(o,i,4,_||null,zr(A,E));T_(o,a,x,zr(A,b)),hs(o,x);const P=x.tViews=ff(2,x,l,h,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,x),P.queries=o.queries.embeddedTView(x)),x}(x,A,b,o,a,l,h,p,_):A.data[x];Wr(P,!1);const V=b[11].createComment("");ag(A,b,V,P),Fr(V,b),vg(b,b[x]=Mw(V,b,V,P)),ru(P)&&E_(A,b,P),null!=_&&hf(b,P,E)}function Kw(i){return Ci(function Il(){return gt.lFrame.contextLView}(),20+i)}function $d(i,o=ct.Default){const a=be();return null===a?Qe(i,o):Js(gn(),a,Z(i),o)}function sE(){throw new Error("invalid")}function Mf(i,o,a){const l=be();return vi(l,Ws(),o)&&function bs(i,o,a,l,h,p,_,E){const b=wr(o,a);let x,A=o.inputs;!E&&null!=A&&(x=A[l])?(bI(i,a,x,l,h),Vs(o)&&function Ew(i,o){const a=Er(o,i);16&a[2]||(a[2]|=64)}(a,o.index)):3&o.type&&(l=function ww(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),h=null!=_?_(h,o.value||"",l):h,dn(p)?p.setProperty(b,l,h):Or(l)||(b.setProperty?b.setProperty(l,h):b[l]=h))}(Lt(),bn(),l,i,o,l[11],a,!1),Mf}function Hd(i,o,a,l,h){const _=h?"class":"style";bI(i,a,o.inputs[_],_,l)}function Rf(i,o,a,l){const h=be(),p=Lt(),_=20+i,E=h[11],b=h[_]=Sd(E,o,function vy(){return gt.lFrame.currentNamespace}()),A=p.firstCreatePass?function ov(i,o,a,l,h,p,_){const E=o.consts,A=Pu(o,i,2,h,zr(E,p));return T_(o,a,A,zr(E,_)),null!==A.attrs&&R_(A,A.attrs,!1),null!==A.mergedAttrs&&R_(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(_,p,h,0,o,a,l):p.data[_];Wr(A,!0);const x=A.mergedAttrs;null!==x&&dt(E,b,x);const P=A.classes;null!==P&&s_(E,b,P);const V=A.styles;return null!==V&&Q0(E,b,V),64!=(64&A.flags)&&ag(p,h,b,A),0===function Aa(){return gt.lFrame.elementDepthCount}()&&Fr(b,h),function pu(){gt.lFrame.elementDepthCount++}(),ru(A)&&(E_(p,h,A),w_(p,A,h)),null!==l&&hf(h,A),Rf}function kf(){let i=gn();bl()?Cl():(i=i.parent,Wr(i,!1));const o=i;!function gu(){gt.lFrame.elementDepthCount--}();const a=Lt();return a.firstCreatePass&&(hs(a,i),Gc(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function xh(i){return 0!=(16&i.flags)}(o)&&Hd(a,o,be(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function jp(i){return 0!=(32&i.flags)}(o)&&Hd(a,o,be(),o.stylesWithoutHost,!1),kf}function Bg(i,o,a,l){return Rf(i,o,a,l),kf(),Bg}function Of(i,o,a){const l=be(),h=Lt(),p=i+20,_=h.firstCreatePass?function Nf(i,o,a,l,h){const p=o.consts,_=zr(p,l),E=Pu(o,i,8,"ng-container",_);return null!==_&&R_(E,_,!0),T_(o,a,E,zr(p,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(p,h,l,o,a):h.data[p];Wr(_,!0);const E=l[p]=l[11].createComment("");return ag(h,l,E,_),Fr(E,l),ru(_)&&(E_(h,l,_),w_(h,_,l)),null!=a&&hf(l,_),Of}function pc(){let i=gn();const o=Lt();return bl()?Cl():(i=i.parent,Wr(i,!1)),o.firstCreatePass&&(hs(o,i),Gc(i)&&o.queries.elementEnd(i)),pc}function qu(){return be()}function Pf(i){return!!i&&"function"==typeof i.then}function oE(i){return!!i&&"function"==typeof i.subscribe}const jg=oE;function Zu(i,o,a,l){const h=be(),p=Lt(),_=gn();return function av(i,o,a,l,h,p,_,E){const b=ru(l),x=i.firstCreatePass&&wI(i),P=o[8],V=vI(o);let K=!0;if(3&l.type||E){const $e=wr(l,o),et=E?E($e):$e,Ce=V.length,ht=E?qt=>E(rn(qt[l.index])):l.index;if(dn(a)){let qt=null;if(!E&&b&&(qt=function gc(i,o,a,l){const h=i.cleanup;if(null!=h)for(let p=0;p<h.length-1;p+=2){const _=h[p];if(_===a&&h[p+1]===l){const E=o[7],b=h[p+2];return E.length>b?E[b]:null}"string"==typeof _&&(p+=2)}return null}(i,o,h,l.index)),null!==qt)(qt.__ngLastListenerFn__||qt).__ngNextListenerFn__=p,qt.__ngLastListenerFn__=p,K=!1;else{p=Ha(l,o,P,p,!1);const sn=a.listen(et,h,p);V.push(p,sn),x&&x.push(h,ht,Ce,Ce+1)}}else p=Ha(l,o,P,p,!0),et.addEventListener(h,p,_),V.push(p),x&&x.push(h,ht,Ce,_)}else p=Ha(l,o,P,p,!1);const ge=l.outputs;let Le;if(K&&null!==ge&&(Le=ge[h])){const $e=Le.length;if($e)for(let et=0;et<$e;et+=2){const wi=o[Le[et]][Le[et+1]].subscribe(p),Qa=V.length;V.push(p,wi),x&&x.push(h,l.index,Qa,-(Qa+1))}}}(p,h,h[11],_,i,o,!!a,l),Zu}function aE(i,o,a,l){try{return!1!==a(l)}catch(h){return EI(i,h),!1}}function Ha(i,o,a,l,h){return function p(_){if(_===Function)return l;const E=2&i.flags?Er(i.index,o):o;0==(32&o[2])&&wg(E);let b=aE(o,0,l,_),A=p.__ngNextListenerFn__;for(;A;)b=aE(o,0,A,_)&&b,A=A.__ngNextListenerFn__;return h&&!1===b&&(_.preventDefault(),_.returnValue=!1),b}}function da(i=1){return function Ks(i){return(gt.lFrame.contextLView=function Ml(i,o){for(;i>0;)o=o[15],i--;return o}(i,gt.lFrame.contextLView))[8]}(i)}function Hg(i,o){let a=null;const l=function JC(i){const o=i.attrs;if(null!=o){const a=o.indexOf(5);if(0==(1&a))return o[a+1]}return null}(i);for(let h=0;h<o.length;h++){const p=o[h];if("*"!==p){if(null===l?tw(i,p,!0):eI(l,p))return h}else a=h}return a}function Ff(i){const o=be()[16][6];if(!o.projection){const l=o.projection=xi(i?i.length:1,null),h=l.slice();let p=o.child;for(;null!==p;){const _=i?Hg(p,i):0;null!==_&&(h[_]?h[_].projectionNext=p:l[_]=p,h[_]=p),p=p.next}}}function Lf(i,o=0,a){const l=be(),h=Lt(),p=Pu(h,20+i,16,null,a||null);null===p.projection&&(p.projection=o),Cl(),64!=(64&p.flags)&&function XA(i,o,a){WC(o[11],0,o,a,og(i,a,o),z0(a.parent||o[6],a,o))}(h,l,p)}function zd(i,o,a,l,h){const p=i[a+1],_=null===o;let E=l?oa(p):Nu(p),b=!1;for(;0!==E&&(!1===b||_);){const x=i[E+1];zu(i[E],o)&&(b=!0,i[E+1]=l?uw(x):ow(x)),E=l?oa(x):Nu(x)}b&&(i[a+1]=l?ow(p):uw(p))}function zu(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&no(i,o)>=0}function pv(i,o){return function Ts(i,o,a,l){const h=be(),p=Lt(),_=Ii(2);p.firstUpdatePass&&function Yd(i,o,a,l){const h=i.data;if(null===h[a+1]){const p=h[br()],_=function Kd(i,o){return o>=i.expandoStartIndex}(i,a);(function _v(i,o){return 0!=(i.flags&(o?16:32))})(p,l)&&null===o&&!_&&(o=!1),o=function GI(i,o,a,l){const h=function xa(i){const o=gt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let p=l?o.residualClasses:o.residualStyles;if(null===h)0===(l?o.classBindings:o.styleBindings)&&(a=Bf(a=gv(null,i,o,a,l),o.attrs,l),p=null);else{const _=o.directiveStylingLast;if(-1===_||i[_]!==h)if(a=gv(h,i,o,a,l),null===p){let b=function fr(i,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==Nu(l))return i[oa(l)]}(i,o,l);void 0!==b&&Array.isArray(b)&&(b=gv(null,i,o,b[1],l),b=Bf(b,o.attrs,l),function vE(i,o,a,l){i[oa(a?o.classBindings:o.styleBindings)]=l}(i,o,l,b))}else p=function qI(i,o,a){let l;const h=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<h;p++)l=Bf(l,i[p].hostAttrs,a);return Bf(l,o.attrs,a)}(i,o,l)}return void 0!==p&&(l?o.residualClasses=p:o.residualStyles=p),a}(h,p,o,l),function jI(i,o,a,l,h,p){let _=p?o.classBindings:o.styleBindings,E=oa(_),b=Nu(_);i[l]=a;let x,A=!1;if(Array.isArray(a)){const P=a;x=P[1],(null===x||no(P,x)>0)&&(A=!0)}else x=a;if(h)if(0!==b){const V=oa(i[E+1]);i[l+1]=cg(V,E),0!==V&&(i[V+1]=c_(i[V+1],l)),i[E+1]=function l_(i,o){return 131071&i|o<<17}(i[E+1],l)}else i[l+1]=cg(E,0),0!==E&&(i[E+1]=c_(i[E+1],l)),E=l;else i[l+1]=cg(b,0),0===E?E=l:i[b+1]=c_(i[b+1],l),b=l;A&&(i[l+1]=ow(i[l+1])),zd(i,x,l,!0),zd(i,x,l,!1),function $I(i,o,a,l,h){const p=h?i.residualClasses:i.residualStyles;null!=p&&"string"==typeof o&&no(p,o)>=0&&(a[l+1]=uw(a[l+1]))}(o,x,i,l,p),_=cg(E,b),p?o.classBindings=_:o.styleBindings=_}(h,p,o,a,_,l)}}(p,i,_,l),o!==tt&&vi(h,_,o)&&function yv(i,o,a,l,h,p,_,E){if(!(3&o.type))return;const b=i.data,A=b[E+1];$f(function aw(i){return 1==(1&i)}(A)?jf(b,o,a,h,Nu(A),_):void 0)||($f(p)||function sw(i){return 2==(2&i)}(A)&&(p=jf(b,null,a,h,E,_)),function tS(i,o,a,l,h){const p=dn(i);if(o)h?p?i.addClass(a,l):a.classList.add(l):p?i.removeClass(a,l):a.classList.remove(l);else{let _=-1===l.indexOf("-")?void 0:oe.DashCase;if(null==h)p?i.removeStyle(a,l,_):a.style.removeProperty(l);else{const E="string"==typeof h&&h.endsWith("!important");E&&(h=h.slice(0,-10),_|=oe.Important),p?i.setStyle(a,l,h,_):a.style.setProperty(l,h,E?"important":"")}}}(l,_,_o(br(),a),h,p))}(p,p.data[br()],h,h[11],i,h[_+1]=function Ga(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=de(ro(i)))),i}(o,a),l,_)}(i,o,null,!0),pv}function gv(i,o,a,l,h){let p=null;const _=a.directiveEnd;let E=a.directiveStylingLast;for(-1===E?E=a.directiveStart:E++;E<_&&(p=o[E],l=Bf(l,p.hostAttrs,h),p!==i);)E++;return null!==i&&(a.directiveStylingLast=E),l}function Bf(i,o,a){const l=a?1:2;let h=-1;if(null!==o)for(let p=0;p<o.length;p++){const _=o[p];"number"==typeof _?h=_:h===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),Zn(i,_,!!a||o[++p]))}return void 0===i?null:i}function jf(i,o,a,l,h,p){const _=null===o;let E;for(;h>0;){const b=i[h],A=Array.isArray(b),x=A?b[1]:b,P=null===x;let V=a[h+1];V===tt&&(V=P?ft:void 0);let K=P?Gl(V,l):x===l?V:void 0;if(A&&!$f(K)&&(K=Gl(b,l)),$f(K)&&(E=K,_))return E;const ge=i[h+1];h=_?oa(ge):Nu(ge)}if(null!==o){let b=p?o.residualClasses:o.residualStyles;null!=b&&(E=Gl(b,l))}return E}function $f(i){return void 0!==i}function EE(i,o=""){const a=be(),l=Lt(),h=i+20,p=l.firstCreatePass?Pu(l,h,1,o,null):l.data[h],_=a[h]=function Td(i,o){return dn(i)?i.createText(o):i.createTextNode(o)}(a[11],o);ag(l,a,_,p),Wr(p,!1)}function Hf(i){return Wu("",i,""),Hf}function Wu(i,o,a){const l=be(),h=function ju(i,o,a,l){return vi(i,Ws(),a)?o+ye(a)+l:tt}(l,i,o,a);return h!==tt&&Lu(l,br(),h),Wu}function Zg(i,o,a,l,h){const p=be(),_=$u(p,i,o,a,l,h);return _!==tt&&Lu(p,br(),_),Zg}const Bn=void 0;var Ku=["en",[["a","p"],["AM","PM"],Bn],[["AM","PM"],Bn,Bn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bn,"{1} 'at' {0}",Bn],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Qd(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Yu={};function Fe(i){const o=function zI(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Jg(o);if(a)return a;const l=o.split("-")[0];if(a=Jg(l),a)return a;if("en"===l)return Ku;throw new Error(`Missing locale data for the locale "${i}".`)}function Jd(i){return Fe(i)[Ne.PluralCase]}function Jg(i){return i in Yu||(Yu[i]=Bt.ng&&Bt.ng.common&&Bt.ng.common.locales&&Bt.ng.common.locales[i]),Yu[i]}var Ne=(()=>((Ne=Ne||{})[Ne.LocaleId=0]="LocaleId",Ne[Ne.DayPeriodsFormat=1]="DayPeriodsFormat",Ne[Ne.DayPeriodsStandalone=2]="DayPeriodsStandalone",Ne[Ne.DaysFormat=3]="DaysFormat",Ne[Ne.DaysStandalone=4]="DaysStandalone",Ne[Ne.MonthsFormat=5]="MonthsFormat",Ne[Ne.MonthsStandalone=6]="MonthsStandalone",Ne[Ne.Eras=7]="Eras",Ne[Ne.FirstDayOfWeek=8]="FirstDayOfWeek",Ne[Ne.WeekendRange=9]="WeekendRange",Ne[Ne.DateFormat=10]="DateFormat",Ne[Ne.TimeFormat=11]="TimeFormat",Ne[Ne.DateTimeFormat=12]="DateTimeFormat",Ne[Ne.NumberSymbols=13]="NumberSymbols",Ne[Ne.NumberFormats=14]="NumberFormats",Ne[Ne.CurrencyCode=15]="CurrencyCode",Ne[Ne.CurrencySymbol=16]="CurrencySymbol",Ne[Ne.CurrencyName=17]="CurrencyName",Ne[Ne.Currencies=18]="Currencies",Ne[Ne.Directionality=19]="Directionality",Ne[Ne.PluralCase=20]="PluralCase",Ne[Ne.ExtraData=21]="ExtraData",Ne))();const De="en-US";let BE=De;function ga(i,o,a,l,h){if(i=Z(i),Array.isArray(i))for(let p=0;p<i.length;p++)ga(i[p],o,a,l,h);else{const p=Lt(),_=be();let E=bt(i)?i:Z(i.provide),b=F_(i);const A=gn(),x=1048575&A.providerIndexes,P=A.directiveStart,V=A.providerIndexes>>20;if(bt(i)||!i.multi){const K=new Wo(b,h,$d),ge=um(E,o,h?x:x+V,P);-1===ge?(Qs(Cn(A,_),p,E),el(p,i,o.length),o.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(K),_.push(K)):(a[ge]=K,_[ge]=K)}else{const K=um(E,o,x+V,P),ge=um(E,o,x,x+V),Le=K>=0&&a[K],$e=ge>=0&&a[ge];if(h&&!$e||!h&&!Le){Qs(Cn(A,_),p,E);const et=function oh(i,o,a,l,h){const p=new Wo(i,a,$d);return p.multi=[],p.index=o,p.componentProviders=0,sb(p,h,l&&!a),p}(h?Wa:ob,a.length,h,l,b);!h&&$e&&(a[ge].providerFactory=et),el(p,i,o.length,0),o.push(E),A.directiveStart++,A.directiveEnd++,h&&(A.providerIndexes+=1048576),a.push(et),_.push(et)}else el(p,i,K>-1?K:ge,sb(a[h?ge:K],b,!h&&l));!h&&l&&$e&&a[ge].componentProviders++}}}function el(i,o,a,l){const h=bt(o),p=function Dg(i){return!!i.useClass}(o);if(h||p){const b=(p?Z(o.useClass):o).prototype.ngOnDestroy;if(b){const A=i.destroyHooks||(i.destroyHooks=[]);if(!h&&o.multi){const x=A.indexOf(a);-1===x?A.push(a,[l,b]):A[x+1].push(l,b)}else A.push(a,b)}}}function sb(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function um(i,o,a,l){for(let h=a;h<l;h++)if(o[h]===i)return h;return-1}function ob(i,o,a,l){return lm(this.multi,[])}function Wa(i,o,a,l){const h=this.multi;let p;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=Ti(a,a[1],this.providerFactory.index,l);p=E.slice(0,_),lm(h,p);for(let b=_;b<E.length;b++)p.push(E[b])}else p=[],lm(h,p);return p}function lm(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function ep(i,o=[]){return a=>{a.providersResolver=(l,h)=>function oD(i,o,a){const l=Lt();if(l.firstCreatePass){const h=qr(i);ga(a,l.data,l.blueprint,h,!0),ga(o,l.data,l.blueprint,h,!1)}}(l,h?h(i):i,o)}}class dm{}class ao{resolveComponentFactory(o){throw function Rv(i){const o=Error(`No component factory found for ${de(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let np=(()=>{class i{}return i.NULL=new ao,i})();function rp(){return Cc(gn(),be())}function Cc(i,o){return new Ic(wr(i,o))}let Ic=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=rp,i})();function kv(i){return i instanceof Ic?i.nativeElement:i}class Nv{}let uD=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function ub(){const i=be(),a=Er(gn().index,i);return function ab(i){return i[11]}(bi(a)?a:i)}(),i})(),lb=(()=>{class i{}return i.\u0275prov=en({token:i,providedIn:"root",factory:()=>null}),i})();class ip{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const cb=new ip("13.3.1"),Ov={};function sp(i,o,a,l,h=!1){for(;null!==a;){const p=o[a.index];if(null!==p&&l.push(rn(p)),ai(p))for(let E=10;E<p.length;E++){const b=p[E],A=b[1].firstChild;null!==A&&sp(b[1],b,A,l)}const _=a.type;if(8&_)sp(i,o,a.child,l);else if(32&_){const E=Xe(a,o);let b;for(;b=E();)l.push(b)}else if(16&_){const E=Y0(o,a);if(Array.isArray(E))l.push(...E);else{const b=Tn(o[16]);sp(b[1],b,E,l,!0)}}a=h?a.projectionNext:a.next}return l}class ma{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return sp(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(ai(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(Yy(o,l),ys(a,l))}this._attachedToViewContainer=!1}Qy(this._lView[1],this._lView)}onDestroy(o){pf(this._lView[1],this._lView,null,o)}markForCheck(){wg(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Nw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function fS(i,o,a){zs(!0);try{Nw(i,o,a)}finally{zs(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Se(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function sg(i,o){ug(i,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Se(902,"");this._appRef=o}}class Dc extends ma{constructor(o){super(o),this._view=o}detectChanges(){Eg(this._view)}checkNoChanges(){!function yI(i){zs(!0);try{Eg(i)}finally{zs(!1)}}(this._view)}get context(){return null}}class Pv extends np{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Ht(o);return new fm(a,this.ngModule)}}function tl(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class fm extends dm{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function iw(i){return i.map(rw).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return tl(this.componentDef.inputs)}get outputs(){return tl(this.componentDef.outputs)}create(o,a,l,h){const p=(h=h||this.ngModule)?function ah(i,o){return{get:(a,l,h)=>{const p=i.get(a,Ov,h);return p!==Ov||l===Ov?p:o.get(a,l,h)}}}(o,h.injector):o,_=p.get(Nv,qo),E=p.get(lb,null),b=_.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",x=l?function vw(i,o,a){if(dn(i))return i.selectRootElement(o,a===$t.ShadowDom);let l="string"==typeof o?i.querySelector(o):o;return l.textContent="",l}(b,l,this.componentDef.encapsulation):Sd(_.createRenderer(null,this.componentDef),A,function db(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),P=this.componentDef.onPush?576:528,V=function $w(i,o){return{components:[],scheduler:i||qy,clean:_I,playerHandler:o||null,flags:0}}(),K=ff(0,null,null,1,0,null,null,null,null,null),ge=kd(null,K,V,P,null,null,_,b,E,p);let Le,$e;vo(ge);try{const et=function q_(i,o,a,l,h,p){const _=a[1];a[20]=i;const b=Pu(_,20,2,"#host",null),A=b.mergedAttrs=o.hostAttrs;null!==A&&(R_(b,A,!0),null!==i&&(dt(h,i,A),null!==b.classes&&s_(h,i,b.classes),null!==b.styles&&Q0(h,i,b.styles)));const x=l.createRenderer(i,o),P=kd(a,b_(o),null,o.onPush?64:16,a[20],b,l,x,p||null,null);return _.firstCreatePass&&(Qs(Cn(b,a),_,o.type),A_(_,b),Dw(b,a.length,1)),vg(a,P),a[20]=P}(x,this.componentDef,ge,_,b);if(x)if(l)dt(b,x,["ng-version",cb.full]);else{const{attrs:Ce,classes:ht}=function a_(i){const o=[],a=[];let l=1,h=2;for(;l<i.length;){let p=i[l];if("string"==typeof p)2===h?""!==p&&o.push(p,i[++l]):8===h&&a.push(p);else{if(!No(h))break;h=p}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);Ce&&dt(b,x,Ce),ht&&ht.length>0&&s_(b,x,ht.join(" "))}if($e=Ta(K,20),void 0!==a){const Ce=$e.projection=[];for(let ht=0;ht<this.ngContentSelectors.length;ht++){const qt=a[ht];Ce.push(null!=qt?Array.from(qt):null)}}Le=function Tg(i,o,a,l,h){const p=a[1],_=function dI(i,o,a){const l=gn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),Tw(i,l,o,Fu(i,o,1,null),a));const h=Ti(o,i,l.directiveStart,l);Fr(h,o);const p=wr(l,o);return p&&Fr(p,o),h}(p,a,o);if(l.components.push(_),i[8]=_,h&&h.forEach(b=>b(_,o)),o.contentQueries){const b=gn();o.contentQueries(1,_,b.directiveStart)}const E=gn();return!p.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ys(E.index),Cw(a[1],E,0,E.directiveStart,E.directiveEnd,o),gf(o,_)),_}(et,this.componentDef,ge,V,[kI]),Nd(K,ge,null)}finally{Eo()}return new lD(this.componentType,Le,Cc($e,ge),ge,$e)}}class lD extends class cm{}{constructor(o,a,l,h,p){super(),this.location=l,this._rootLView=h,this._tNode=p,this.instance=a,this.hostView=this.changeDetectorRef=new Dc(h),this.componentType=o}get injector(){return new Ai(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}class An{}class op{}const Ka=new Map;class nl extends An{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Pv(this);const l=un(o);this._bootstrapComponents=g(l.bootstrap),this._r3Injector=Lw(o,a,[{provide:An,useValue:this},{provide:np,useValue:this.componentFactoryResolver}],de(o)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(o)}get(o,a=Cs.THROW_IF_NOT_FOUND,l=ct.Default){return o===Cs||o===An||o===bg?this:this._r3Injector.get(o,a,l)}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class ym extends op{constructor(o){super(),this.moduleType=o,null!==un(o)&&function dD(i){const o=new Set;!function a(l){const h=un(l,!0),p=h.id;null!==p&&(function gm(i,o,a){if(o&&o!==a)throw new Error(`Duplicate module registered for ${i} - ${de(o)} vs ${de(o.name)}`)}(p,Ka.get(p),l),Ka.set(p,l));const _=g(h.imports);for(const E of _)o.has(E)||(o.add(E),a(E))}(i)}(o)}create(o){return new nl(this.moduleType,o)}}function Lv(i,o,a){const l=ur()+i,h=be();return h[l]===tt?ca(h,l,a?o.call(a):o()):function $a(i,o){return i[o]}(h,l)}function Uv(i,o,a,l){return ap(be(),ur(),i,o,a,l)}function uh(i,o,a,l,h){return function Br(i,o,a,l,h,p,_){const E=o+a;return uc(i,E,h,p)?ca(i,E+2,_?l.call(_,h,p):l(h,p)):Sn(i,E+2)}(be(),ur(),i,o,a,l,h)}function Sn(i,o){const a=i[o];return a===tt?void 0:a}function ap(i,o,a,l,h,p){const _=o+a;return vi(i,_,h)?ca(i,_+1,p?l.call(p,h):l(h)):Sn(i,_+1)}function gb(i,o){const a=Lt();let l;const h=i+20;a.firstCreatePass?(l=function uo(i,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(i===l.name)return l}}(o,a.pipeRegistry),a.data[h]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(h,l.onDestroy)):l=a.data[h];const p=l.factory||(l.factory=Nr(l.type)),_=Hn($d);try{const E=ci(!1),b=p();return ci(E),function Ww(i,o,a,l){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=l}(a,be(),h,b),b}finally{Hn(_)}}function mb(i,o,a){const l=i+20,h=be(),p=Ci(h,l);return function Qt(i,o){return i[1].data[o].pure}(h,l)?ap(h,ur(),o,p.transform,a,p):p.transform(a)}function lh(i){return o=>{setTimeout(i,void 0,o)}}const Xi=class mD extends c.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){var h,p,_;let E=o,b=a||(()=>null),A=l;if(o&&"object"==typeof o){const P=o;E=null===(h=P.next)||void 0===h?void 0:h.bind(P),b=null===(p=P.error)||void 0===p?void 0:p.bind(P),A=null===(_=P.complete)||void 0===_?void 0:_.bind(P)}this.__isAsync&&(b=lh(b),E&&(E=lh(E)),A&&(A=lh(A)));const x=super.subscribe({next:E,error:b,complete:A});return o instanceof Y.w0&&o.add(x),x}};function lp(){return this._results[Vu()]()}class Ac{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Vu(),l=Ac.prototype;l[a]||(l[a]=lp)}get changes(){return this._changes||(this._changes=new Xi)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const h=dr(o);(this._changesDetected=!function Vl(i,o,a){if(i.length!==o.length)return!1;for(let l=0;l<i.length;l++){let h=i[l],p=o[l];if(a&&(h=a(h),p=a(p)),p!==h)return!1}return!0}(l._results,h,a))&&(l._results=h,l.length=h.length,l.last=h[this.length-1],l.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let ch=(()=>{class i{}return i.__NG_ELEMENT_ID__=yD,i})();const yb=ch,_b=class extends yb{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o){const a=this._declarationTContainer.tViews,l=kd(this._declarationLView,a,o,16,null,a.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(l[19]=p.createEmbeddedView(a)),Nd(a,l,o),new ma(l)}};function yD(){return cp(gn(),be())}function cp(i,o){return 4&i.type?new _b(o,i,Cc(i,o)):null}let dp=(()=>{class i{}return i.__NG_ELEMENT_ID__=_D,i})();function _D(){return wb(gn(),be())}const vD=dp,vb=class extends vD{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Cc(this._hostTNode,this._hostLView)}get injector(){return new Ai(this._hostTNode,this._hostLView)}get parentInjector(){const o=di(this._hostTNode,this._hostLView);if(ad(o)){const a=Di(o,this._hostLView),l=cn(o);return new Ai(a[1].data[l+8],a)}return new Ai(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=dh(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){const h=o.createEmbeddedView(a||{});return this.insert(h,l),h}createComponent(o,a,l,h,p){const _=o&&!function Xo(i){return"function"==typeof i}(o);let E;if(_)E=a;else{const P=a||{};E=P.index,l=P.injector,h=P.projectableNodes,p=P.ngModuleRef}const b=_?o:new fm(Ht(o)),A=l||this.parentInjector;if(!p&&null==b.ngModule){const V=(_?A:this.parentInjector).get(An,null);V&&(p=V)}const x=b.create(A,h,void 0,p);return this.insert(x.hostView,E),x}insert(o,a){const l=o._lView,h=l[1];if(function hu(i){return ai(i[3])}(l)){const x=this.indexOf(o);if(-1!==x)this.detach(x);else{const P=l[3],V=new vb(P,P[6],P[3]);V.detach(V.indexOf(o))}}const p=this._adjustIndex(a),_=this._lContainer;!function xd(i,o,a,l){const h=10+l,p=a.length;l>0&&(a[h-1][4]=o),l<p-10?(o[4]=a[h],Bl(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const _=o[17];null!==_&&a!==_&&function Md(i,o){const a=i[9];o[16]!==o[3][3][16]&&(i[2]=!0),null===a?i[9]=[o]:a.push(o)}(_,o);const E=o[19];null!==E&&E.insertView(i),o[2]|=128}(h,l,_,p);const E=n_(p,_),b=l[11],A=oc(b,_[7]);return null!==A&&function uf(i,o,a,l,h,p){l[0]=h,l[6]=o,ug(i,l,a,1,h,p)}(h,_[6],b,l,A,E),o.attachToViewContainerRef(),Bl(_m(_),p,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=dh(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=Yy(this._lContainer,a);l&&(ys(_m(this._lContainer),a),Qy(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=Yy(this._lContainer,a);return l&&null!=ys(_m(this._lContainer),a)?new ma(l):null}_adjustIndex(o,a=0){return null==o?this.length+a:o}};function dh(i){return i[8]}function _m(i){return i[8]||(i[8]=[])}function wb(i,o){let a;const l=o[i.index];if(ai(l))a=l;else{let h;if(8&i.type)h=rn(l);else{const p=o[11];h=p.createComment("");const _=wr(i,o);ws(p,oc(p,_),h,function zC(i,o){return dn(i)?i.nextSibling(o):o.nextSibling}(p,_),!1)}o[i.index]=a=Mw(l,o,h,i),vg(o,a)}return new vb(a,i,o)}class Sc{constructor(o){this.queryList=o,this.matches=null}clone(){return new Sc(this.queryList)}setDirty(){this.queryList.setDirty()}}class lo{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,h=[];for(let p=0;p<l;p++){const _=a.getByIndex(p);h.push(this.queries[_.indexInDeclarationView].clone())}return new lo(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==Ab(o,a).matches&&this.queries[a].setDirty()}}class vm{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class wm{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const h=null!==a?a.length:0,p=this.getByIndex(l).embeddedTView(o,h);p&&(p.indexInDeclarationView=l,null!==a?a.push(p):a=[p])}return null!==a?new wm(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class xc{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new xc(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let h=0;h<l.length;h++){const p=l[h];this.matchTNodeWithReadOption(o,a,Eb(a,p)),this.matchTNodeWithReadOption(o,a,Yo(a,o,p,!1,!1))}else l===ch?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,Yo(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const h=this.metadata.read;if(null!==h)if(h===Ic||h===dp||h===ch&&4&a.type)this.addMatch(a.index,-2);else{const p=Yo(a,o,h,!1,!1);null!==p&&this.addMatch(a.index,p)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function Eb(i,o){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function Cb(i,o,a,l){return-1===a?function bb(i,o){return 11&i.type?Cc(i,o):4&i.type?cp(i,o):null}(o,i):-2===a?function ED(i,o,a){return a===Ic?Cc(o,i):a===ch?cp(o,i):a===dp?wb(o,i):void 0}(i,o,l):Ti(i,i[1],a,o)}function Ib(i,o,a,l){const h=o[19].queries[l];if(null===h.matches){const p=i.data,_=a.matches,E=[];for(let b=0;b<_.length;b+=2){const A=_[b];E.push(A<0?null:Cb(o,p[A],_[b+1],a.metadata.read))}h.matches=E}return h.matches}function Mc(i,o,a,l){const h=i.queries.getByIndex(a),p=h.matches;if(null!==p){const _=Ib(i,o,h,a);for(let E=0;E<p.length;E+=2){const b=p[E];if(b>0)l.push(_[E/2]);else{const A=p[E+1],x=o[-b];for(let P=10;P<x.length;P++){const V=x[P];V[17]===V[3]&&Mc(V[1],V,A,l)}if(null!==x[9]){const P=x[9];for(let V=0;V<P.length;V++){const K=P[V];Mc(K[1],K,A,l)}}}}}return l}function Em(i){const o=be(),a=Lt(),l=Al();Sl(l+1);const h=Ab(a,l);if(i.dirty&&Gs(o)===(2==(2&h.metadata.flags))){if(null===h.matches)i.reset([]);else{const p=h.crossesNgTemplate?Mc(a,o,l,[]):Ib(a,o,h,l);i.reset(p,kv),i.notifyOnChanges()}return!0}return!1}function Hv(i,o,a,l){const h=Lt();if(h.firstCreatePass){const p=gn();(function qv(i,o,a){null===i.queries&&(i.queries=new wm),i.queries.track(new xc(o,a))})(h,new vm(o,a,l),p.index),function CD(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(h,i),2==(2&a)&&(h.staticContentQueries=!0)}!function Tb(i,o,a){const l=new Ac(4==(4&a));pf(i,o,l,l.destroy),null===o[19]&&(o[19]=new lo),o[19].queries.push(new Sc(l))}(h,be(),a)}function Gv(){return function Db(i,o){return i[19].queries[o].queryList}(be(),Al())}function Ab(i,o){return i.queries.getByIndex(o)}function Rc(i,o){return cp(i,o)}function ya(...i){}const ph=new In("Application Initializer");let Sm=(()=>{class i{constructor(a){this.appInits=a,this.resolve=ya,this.reject=ya,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,h)=>{this.resolve=l,this.reject=h})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const p=this.appInits[h]();if(Pf(p))a.push(p);else if(jg(p)){const _=new Promise((E,b)=>{p.subscribe({complete:E,error:b})});a.push(_)}}Promise.all(a).then(()=>{l()}).catch(h=>{this.reject(h)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Qe(ph,8))},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const xm=new In("AppId",{providedIn:"root",factory:function Mm(){return`${n0()}${n0()}${n0()}`}});function n0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const r0=new In("Platform Initializer"),s0=new In("Platform ID"),Rm=new In("appBootstrapListener");let Nc=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})();const Nm=new In("LocaleId",{providedIn:"root",factory:()=>Nt(Nm,ct.Optional|ct.SkipSelf)||function OD(){return"undefined"!=typeof $localize&&$localize.locale||De}()}),PD=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ol{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let Oc=(()=>{class i{compileModuleSync(a){return new ym(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),p=g(un(a).declarations).reduce((_,E)=>{const b=Ht(E);return b&&_.push(new fm(b)),_},[]);return new ol(l,p)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const FD=(()=>Promise.resolve(0))();function pp(i){"undefined"==typeof Zone?FD.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Bo{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Xi(!1),this.onMicrotaskEmpty=new Xi(!1),this.onStable=new Xi(!1),this.onError=new Xi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!l&&a,h.shouldCoalesceRunChangeDetection=l,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function Om(){let i=Bt.requestAnimationFrame,o=Bt.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Fm(i){const o=()=>{!function Pm(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(Bt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Lm(i),i.isCheckStableRunning=!0,Pc(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Lm(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,h,p,_,E)=>{try{return Pi(i),a.invokeTask(h,p,_,E)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||i.shouldCoalesceRunChangeDetection)&&o(),a0(i)}},onInvoke:(a,l,h,p,_,E,b)=>{try{return Pi(i),a.invoke(h,p,_,E,b)}finally{i.shouldCoalesceRunChangeDetection&&o(),a0(i)}},onHasTask:(a,l,h,p)=>{a.hasTask(h,p),l===h&&("microTask"==p.change?(i._hasPendingMicrotasks=p.microTask,Lm(i),Pc(i)):"macroTask"==p.change&&(i.hasPendingMacrotasks=p.macroTask))},onHandleError:(a,l,h,p)=>(a.handleError(h,p),i.runOutsideAngular(()=>i.onError.emit(p)),!1)})}(h)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Bo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Bo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,h){const p=this._inner,_=p.scheduleEventTask("NgZoneEvent: "+h,o,Hb,ya,ya);try{return p.runTask(_,a,l)}finally{p.cancelTask(_)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const Hb={};function Pc(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Lm(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Pi(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function a0(i){i._nesting--,Pc(i)}class Um{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Xi,this.onMicrotaskEmpty=new Xi,this.onStable=new Xi,this.onError=new Xi}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,h){return o.apply(a,l)}}let Vm=(()=>{class i{constructor(a){this._ngZone=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Bo.assertNotInAngularZone(),pp(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pp(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,h){let p=-1;l&&l>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==p),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:p,updateCb:h})}whenStable(a,l,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(a,l,h){return[]}}return i.\u0275fac=function(a){return new(a||i)(Qe(Bo))},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})(),u0=(()=>{class i{constructor(){this._applications=new Map,Bm.addToWindow(this)}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return Bm.findTestabilityInTree(this,a,l)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})();class al{addToWindow(o){}findTestabilityInTree(o,a,l){return null}}function gh(i){Bm=i}let ni,Bm=new al;const Ya=new In("AllowMultipleToken");class Fc{constructor(o,a){this.name=o,this.token=a}}function c0(i,o,a=[]){const l=`Platform: ${o}`,h=new In(l);return(p=[])=>{let _=qb();if(!_||_.injector.get(Ya,!1))if(i)i(a.concat(p).concat({provide:h,useValue:!0}));else{const E=a.concat(p).concat({provide:h,useValue:!0},{provide:Cg,useValue:"platform"});!function l0(i){if(ni&&!ni.destroyed&&!ni.injector.get(Ya,!1))throw new Se(400,"");ni=i.get(Zb);const o=i.get(r0,null);o&&o.forEach(a=>a())}(Cs.create({providers:E,name:l}))}return function UD(i){const o=qb();if(!o)throw new Se(401,"");return o}()}}function qb(){return ni&&!ni.destroyed?ni:null}let Zb=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const E=function jm(i,o){let a;return a="noop"===i?new Um:("zone.js"===i?void 0:i)||new Bo({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==o?void 0:o.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==o?void 0:o.ngZoneRunCoalescing)}),a}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),b=[{provide:Bo,useValue:E}];return E.run(()=>{const A=Cs.create({providers:b,parent:this.injector,name:a.moduleType.name}),x=a.create(A),P=x.injector.get(Tr,null);if(!P)throw new Se(402,"");return E.runOutsideAngular(()=>{const V=E.onError.subscribe({next:K=>{P.handleError(K)}});x.onDestroy(()=>{$m(this._modules,x),V.unsubscribe()})}),function zb(i,o,a){try{const l=a();return Pf(l)?l.catch(h=>{throw o.runOutsideAngular(()=>i.handleError(h)),h}):l}catch(l){throw o.runOutsideAngular(()=>i.handleError(l)),l}}(P,E,()=>{const V=x.injector.get(Sm);return V.runInitializers(),V.donePromise.then(()=>(function WI(i){lt(i,"Expected localeId to be defined"),"string"==typeof i&&(BE=i.toLowerCase().replace(/_/g,"-"))}(x.injector.get(Nm,De)||De),this._moduleDoBootstrap(x),x))})})}bootstrapModule(a,l=[]){const h=Wb({},l);return function LD(i,o,a){const l=new ym(a);return Promise.resolve(l)}(0,0,a).then(p=>this.bootstrapModuleFactory(p,h))}_moduleDoBootstrap(a){const l=a.injector.get(d0);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(h=>l.bootstrap(h));else{if(!a.instance.ngDoBootstrap)throw new Se(403,"");a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,"");this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Qe(Cs))},i.\u0275prov=en({token:i,factory:i.\u0275fac}),i})();function Wb(i,o){return Array.isArray(o)?o.reduce(Wb,i):Object.assign(Object.assign({},i),o)}let d0=(()=>{class i{constructor(a,l,h,p,_){this._zone=a,this._injector=l,this._exceptionHandler=h,this._componentFactoryResolver=p,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new O.y(A=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{A.next(this._stable),A.complete()})}),b=new O.y(A=>{let x;this._zone.runOutsideAngular(()=>{x=this._zone.onStable.subscribe(()=>{Bo.assertNotInAngularZone(),pp(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,A.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Bo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{A.next(!1)}))});return()=>{x.unsubscribe(),P.unsubscribe()}});this.isStable=(0,ne.T)(E,b.pipe((0,X.B)()))}bootstrap(a,l){if(!this._initStatus.done)throw new Se(405,"");let h;h=a instanceof dm?a:this._componentFactoryResolver.resolveComponentFactory(a),this.componentTypes.push(h.componentType);const p=function Gb(i){return i.isBoundToModule}(h)?void 0:this._injector.get(An),E=h.create(Cs.NULL,[],l||h.selector,p),b=E.location.nativeElement,A=E.injector.get(Vm,null),x=A&&E.injector.get(u0);return A&&x&&x.registerApplication(b,A),E.onDestroy(()=>{this.detachView(E.hostView),$m(this.components,E),x&&x.unregisterApplication(b)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Se(101,"");try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;$m(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(Rm,[]).concat(this._bootstrapListeners).forEach(h=>h(a))}ngOnDestroy(){this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(a){return new(a||i)(Qe(Bo),Qe(Cs),Qe(Tr),Qe(np),Qe(Sm))},i.\u0275prov=en({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function $m(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}let h0=!0,f0=!1;function VD(){return f0=!0,h0}function Kb(){if(f0)throw new Error("Cannot enable prod mode after platform setup.");h0=!1}let Hm=(()=>{class i{}return i.__NG_ELEMENT_ID__=p0,i})();function p0(i){return function BD(i,o,a){if(Vs(i)&&!a){const l=Er(i.index,o);return new ma(l,l)}return 47&i.type?new ma(o[16],o):null}(gn(),be(),16==(16&i))}class nC{constructor(){}supports(o){return wf(o)}create(o){return new y0(o)}}const qD=(i,o)=>o;class y0{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||qD}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,h=0,p=null;for(;a||l;){const _=!l||a&&a.currentIndex<iC(l,h,p)?a:l,E=iC(_,h,p),b=_.currentIndex;if(_===l)h--,l=l._nextRemoved;else if(a=a._next,null==_.previousIndex)h++;else{p||(p=[]);const A=E-h,x=b-h;if(A!=x){for(let V=0;V<A;V++){const K=V<p.length?p[V]:p[V]=0,ge=K+V;x<=ge&&ge<A&&(p[V]=K+1)}p[_.previousIndex]=x-A}}E!==b&&o(_,E,b)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!wf(o))throw new Se(900,"");return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,p,_,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)p=o[E],_=this._trackByFn(E,p),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,p,_,E)),Object.is(a.item,p)||this._addIdentityChange(a,p)):(a=this._mismatch(a,p,_,E),l=!0),a=a._next}else h=0,function _i(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Vu()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,E=>{_=this._trackByFn(h,E),null!==a&&Object.is(a.trackById,_)?(l&&(a=this._verifyReinsertion(a,E,_,h)),Object.is(a.item,E)||this._addIdentityChange(a,E)):(a=this._mismatch(a,E,_,h),l=!0),a=a._next,h++}),this.length=h;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,h){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,p,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,h))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,p,h)):o=this._addAfter(new $r(a,l),p,h),o}_verifyReinsertion(o,a,l,h){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==p?o=this._reinsertAfter(p,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,p=o._nextRemoved;return null===h?this._removalsHead=p:h._nextRemoved=p,null===p?this._removalsTail=h:p._prevRemoved=h,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const h=null===a?this._itHead:a._next;return o._next=h,o._prev=a,null===h?this._itTail=o:h._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new rC),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class $r{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ZD{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class rC{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new ZD,this.map.set(a,l)),l.add(o)}get(o,a){const h=this.map.get(o);return h?h.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function iC(i,o,a){const l=i.previousIndex;if(null===l)return l;let h=0;return a&&l<a.length&&(h=a[l]),l+o+h}class sC{constructor(){}supports(o){return o instanceof Map||ac(o)}create(){return new zD}}class zD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||ac(o)))throw new Se(900,"")}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,h)=>{if(a&&a.key===h)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const p=this._getOrCreateRecordForKey(h,l);a=this._insertBeforeOrAppend(a,p)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,a);const p=h._prev,_=h._next;return p&&(p._next=_),_&&(_._prev=p),h._next=null,h._prev=null,h}const l=new WD(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class WD{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Wm(){return new Km([new nC])}let Km=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Wm()),deps:[[i,new So,new pi]]}}find(a){const l=this.factories.find(h=>h.supports(a));if(null!=l)return l;throw new Se(901,"")}}return i.\u0275prov=en({token:i,providedIn:"root",factory:Wm}),i})();function Ym(){return new yh([new sC])}let yh=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const h=l.factories.slice();a=a.concat(h)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||Ym()),deps:[[i,new So,new pi]]}}find(a){const l=this.factories.find(p=>p.supports(a));if(l)return l;throw new Se(901,"")}}return i.\u0275prov=en({token:i,providedIn:"root",factory:Ym}),i})();const lC=c0(null,"core",[{provide:s0,useValue:"unknown"},{provide:Zb,deps:[Cs]},{provide:u0,deps:[]},{provide:Nc,deps:[]}]);let YD=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Qe(d0))},i.\u0275mod=Q({type:i}),i.\u0275inj=Kt({}),i})()},3942:(st,Ee,N)=>{N.d(Ee,{Z:()=>Se});var c=N(2090),Y=N(4859),O=N(9681),ne=N(1877);class X{constructor(ye,we){this._delegate=ye,this.firebase=we,(0,O._addComponent)(ye,new Y.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ye,we=O._DEFAULT_ENTRY_NAME){var at;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(ye);return!rt.isInitialized()&&"EXPLICIT"===(null===(at=rt.getComponent())||void 0===at?void 0:at.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:we})}_removeServiceInstance(ye,we=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(we)}_addComponent(ye){(0,O._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,O._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const se=new c.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ue(){const Ye=function de(Ye){const ye={},we={__esModule:!0,initializeApp:function Te(je,te={}){const z=O.initializeApp(je,te);if((0,c.r3)(ye,z.name))return ye[z.name];const re=new Ye(z,we);return ye[z.name]=re,re},app:rt,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function ve(je){const te=je.name,z=te.replace("-compat","");if(O._registerComponent(je)&&"PUBLIC"===je.type){const re=(me=rt())=>{if("function"!=typeof me[z])throw se.create("invalid-app-argument",{appName:te});return me[z]()};void 0!==je.serviceProps&&(0,c.ZB)(re,je.serviceProps),we[z]=re,Ye.prototype[z]=function(...me){return this._getService.bind(this,te).apply(this,je.multipleInstances?me:[])}}return"PUBLIC"===je.type?we[z]:null},removeApp:function at(je){delete ye[je]},useAsService:function Ge(je,te){return"serverAuth"===te?null:te},modularAPIs:O}};function rt(je){if(!(0,c.r3)(ye,je=je||O._DEFAULT_ENTRY_NAME))throw se.create("no-app",{appName:je});return ye[je]}return we.default=we,Object.defineProperty(we,"apps",{get:function _e(){return Object.keys(ye).map(je=>ye[je])}}),rt.App=Ye,we}(X);return Ye.INTERNAL=Object.assign(Object.assign({},Ye.INTERNAL),{createFirebaseNamespace:ue,extendNamespace:function ye(we){(0,c.ZB)(Ye,we)},createSubscribe:c.ne,ErrorFactory:c.LL,deepExtend:c.ZB}),Ye}(),H=new ne.Yd("@firebase/app-compat");if((0,c.jU)()&&void 0!==self.firebase){H.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Ye=self.firebase.SDK_VERSION;Ye&&Ye.indexOf("LITE")>=0&&H.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Se=$;!function ke(Ye){(0,O.registerVersion)("@firebase/app-compat","0.1.21",Ye)}()},9681:(st,Ee,N)=>{N.r(Ee),N.d(Ee,{FirebaseError:()=>ne.ZR,SDK_VERSION:()=>Rr,_DEFAULT_ENTRY_NAME:()=>Mn,_addComponent:()=>an,_addOrOverwriteComponent:()=>Ei,_apps:()=>mt,_clearComponents:()=>jt,_components:()=>on,_getProvider:()=>ns,_registerComponent:()=>en,_removeServiceInstance:()=>Kt,deleteApp:()=>is,getApp:()=>kr,getApps:()=>rs,initializeApp:()=>Vi,onLog:()=>Qn,registerVersion:()=>Gr,setLogLevel:()=>Hn});var c=N(5861),Y=N(4859),O=N(1877),ne=N(2090);class X{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(Je=>{if(function pe(ze){const Ie=ze.getComponent();return"VERSION"===(null==Ie?void 0:Ie.type)}(Je)){const pt=Je.getImmediate();return`${pt.library}/${pt.version}`}return null}).filter(Je=>Je).join(" ")}}const se="@firebase/app",ue=new O.Yd("@firebase/app"),Mn="[DEFAULT]",lt={[se]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mt=new Map,on=new Map;function an(ze,Ie){try{ze.container.addComponent(Ie)}catch(Je){ue.debug(`Component ${Ie.name} failed to register with FirebaseApp ${ze.name}`,Je)}}function Ei(ze,Ie){ze.container.addOrOverwriteComponent(Ie)}function en(ze){const Ie=ze.name;if(on.has(Ie))return ue.debug(`There were multiple attempts to register component ${Ie}.`),!1;on.set(Ie,ze);for(const Je of mt.values())an(Je,ze);return!0}function ns(ze,Ie){const Je=ze.container.getProvider("heartbeat").getImmediate({optional:!0});return Je&&Je.triggerHeartbeat(),ze.container.getProvider(Ie)}function Kt(ze,Ie,Je=Mn){ns(ze,Ie).clearInstance(Je)}function jt(){on.clear()}const ri=new ne.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Os{constructor(Ie,Je,pt){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},Je),this._name=Je.name,this._automaticDataCollectionEnabled=Je.automaticDataCollectionEnabled,this._container=pt,this.container.addComponent(new Y.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw ri.create("app-deleted",{appName:this._name})}}const Rr="9.6.10";function Vi(ze,Ie={}){"object"!=typeof Ie&&(Ie={name:Ie});const Je=Object.assign({name:Mn,automaticDataCollectionEnabled:!1},Ie),pt=Je.name;if("string"!=typeof pt||!pt)throw ri.create("bad-app-name",{appName:String(pt)});const Vt=mt.get(pt);if(Vt){if((0,ne.vZ)(ze,Vt.options)&&(0,ne.vZ)(Je,Vt.config))return Vt;throw ri.create("duplicate-app",{appName:pt})}const Ft=new Y.H0(pt);for(const L of on.values())Ft.addComponent(L);const B=new Os(ze,Je,Ft);return mt.set(pt,B),B}function kr(ze=Mn){const Ie=mt.get(ze);if(!Ie)throw ri.create("no-app",{appName:ze});return Ie}function rs(){return Array.from(mt.values())}function is(ze){return ct.apply(this,arguments)}function ct(){return(ct=(0,c.Z)(function*(ze){const Ie=ze.name;mt.has(Ie)&&(mt.delete(Ie),yield Promise.all(ze.container.getProviders().map(Je=>Je.delete())),ze.isDeleted=!0)})).apply(this,arguments)}function Gr(ze,Ie,Je){var pt;let Vt=null!==(pt=lt[ze])&&void 0!==pt?pt:ze;Je&&(Vt+=`-${Je}`);const Ft=Vt.match(/\s|\//),B=Ie.match(/\s|\//);if(Ft||B){const L=[`Unable to register library "${Vt}" with version "${Ie}":`];return Ft&&L.push(`library name "${Vt}" contains illegal characters (whitespace or "/")`),Ft&&B&&L.push("and"),B&&L.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void ue.warn(L.join(" "))}en(new Y.wA(`${Vt}-version`,()=>({library:Vt,version:Ie}),"VERSION"))}function Qn(ze,Ie){if(null!==ze&&"function"!=typeof ze)throw ri.create("invalid-log-argument");(0,O.Am)(ze,Ie)}function Hn(ze){(0,O.Ub)(ze)}const fn="firebase-heartbeat-store";let Jn=null;function Ps(){return Jn||(Jn=(0,ne.X3)("firebase-heartbeat-database",1,(ze,Ie)=>{0===Ie&&ze.createObjectStore(fn)}).catch(ze=>{throw ri.create("storage-open",{originalErrorMessage:ze.message})})),Jn}function $t(){return($t=(0,c.Z)(function*(ze){try{return(yield Ps()).transaction(fn).objectStore(fn).get(ir(ze))}catch(Ie){throw ri.create("storage-get",{originalErrorMessage:Ie.message})}})).apply(this,arguments)}function ot(ze,Ie){return wt.apply(this,arguments)}function wt(){return(wt=(0,c.Z)(function*(ze,Ie){try{const pt=(yield Ps()).transaction(fn,"readwrite");return yield pt.objectStore(fn).put(Ie,ir(ze)),pt.complete}catch(Je){throw ri.create("storage-set",{originalErrorMessage:Je.message})}})).apply(this,arguments)}function ir(ze){return`${ze.name}!${ze.options.appId}`}class fo{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const Je=this.container.getProvider("app").getImmediate();this._storage=new ft(Je),this._heartbeatsCachePromise=this._storage.read().then(pt=>(this._heartbeatsCache=pt,pt))}triggerHeartbeat(){var Ie=this;return(0,c.Z)(function*(){const pt=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Vt=yr();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==Vt&&!Ie._heartbeatsCache.heartbeats.some(Ft=>Ft.date===Vt))return Ie._heartbeatsCache.heartbeats.push({date:Vt,agent:pt}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(Ft=>{const B=new Date(Ft.date).valueOf();return Date.now()-B<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,c.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const Je=yr(),{heartbeatsToSend:pt,unsentEntries:Vt}=function sr(ze,Ie=1024){const Je=[];let pt=ze.slice();for(const Vt of ze){const Ft=Je.find(B=>B.agent===Vt.agent);if(Ft){if(Ft.dates.push(Vt.date),_r(Je)>Ie){Ft.dates.pop();break}}else if(Je.push({agent:Vt.agent,dates:[Vt.date]}),_r(Je)>Ie){Je.pop();break}pt=pt.slice(1)}return{heartbeatsToSend:Je,unsentEntries:pt}}(Ie._heartbeatsCache.heartbeats),Ft=(0,ne.L)(JSON.stringify({version:2,heartbeats:pt}));return Ie._heartbeatsCache.lastSentHeartbeatDate=Je,Vt.length>0?(Ie._heartbeatsCache.heartbeats=Vt,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),Ft})()}}function yr(){return(new Date).toISOString().substring(0,10)}class ft{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,c.Z)(function*(){return!!(0,ne.hl)()&&(0,ne.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,c.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function wa(ze){return $t.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var Je=this;return(0,c.Z)(function*(){var pt;if(yield Je._canUseIndexedDBPromise){const Ft=yield Je.read();return ot(Je.app,{lastSentHeartbeatDate:null!==(pt=Ie.lastSentHeartbeatDate)&&void 0!==pt?pt:Ft.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var Je=this;return(0,c.Z)(function*(){var pt;if(yield Je._canUseIndexedDBPromise){const Ft=yield Je.read();return ot(Je.app,{lastSentHeartbeatDate:null!==(pt=Ie.lastSentHeartbeatDate)&&void 0!==pt?pt:Ft.lastSentHeartbeatDate,heartbeats:[...Ft.heartbeats,...Ie.heartbeats]})}})()}}function _r(ze){return(0,ne.L)(JSON.stringify({version:2,heartbeats:ze})).length}!function Ut(ze){en(new Y.wA("platform-logger",Ie=>new X(Ie),"PRIVATE")),en(new Y.wA("heartbeat",Ie=>new fo(Ie),"PRIVATE")),Gr(se,"0.7.20",ze),Gr(se,"0.7.20","esm2017"),Gr("fire-js","")}("")},4859:(st,Ee,N)=>{N.d(Ee,{H0:()=>de,wA:()=>O});var c=N(5861),Y=N(2090);class O{constructor($,H,Z){this.name=$,this.instanceFactory=H,this.type=Z,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const ne="[DEFAULT]";class X{constructor($,H){this.name=$,this.container=H,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const H=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(H)){const Z=new Y.BH;if(this.instancesDeferred.set(H,Z),this.isInitialized(H)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:H});He&&Z.resolve(He)}catch(He){}}return this.instancesDeferred.get(H).promise}getImmediate($){var H;const Z=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),He=null!==(H=null==$?void 0:$.optional)&&void 0!==H&&H;if(!this.isInitialized(Z)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Z})}catch(ke){if(He)return null;throw ke}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function se(ue){return"EAGER"===ue.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:ne})}catch(H){}for(const[H,Z]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(H);try{const ke=this.getOrInitializeService({instanceIdentifier:He});Z.resolve(ke)}catch(ke){}}}}clearInstance($=ne){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,c.Z)(function*(){const H=Array.from($.instances.values());yield Promise.all([...H.filter(Z=>"INTERNAL"in Z).map(Z=>Z.INTERNAL.delete()),...H.filter(Z=>"_delete"in Z).map(Z=>Z._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=ne){return this.instances.has($)}getOptions($=ne){return this.instancesOptions.get($)||{}}initialize($={}){const{options:H={}}=$,Z=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(Z))throw Error(`${this.name}(${Z}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:Z,options:H});for(const[ke,Se]of this.instancesDeferred.entries())Z===this.normalizeInstanceIdentifier(ke)&&Se.resolve(He);return He}onInit($,H){var Z;const He=this.normalizeInstanceIdentifier(H),ke=null!==(Z=this.onInitCallbacks.get(He))&&void 0!==Z?Z:new Set;ke.add($),this.onInitCallbacks.set(He,ke);const Se=this.instances.get(He);return Se&&$(Se,He),()=>{ke.delete($)}}invokeOnInitCallbacks($,H){const Z=this.onInitCallbacks.get(H);if(Z)for(const He of Z)try{He($,H)}catch(ke){}}getOrInitializeService({instanceIdentifier:$,options:H={}}){let Z=this.instances.get($);if(!Z&&this.component&&(Z=this.component.instanceFactory(this.container,{instanceIdentifier:(ue=$,ue===ne?void 0:ue),options:H}),this.instances.set($,Z),this.instancesOptions.set($,H),this.invokeOnInitCallbacks(Z,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,Z)}catch(He){}var ue;return Z||null}normalizeInstanceIdentifier($=ne){return this.component?this.component.multipleInstances?$:ne:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class de{constructor($){this.name=$,this.providers=new Map}addComponent($){const H=this.getProvider($.name);if(H.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);H.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const H=new X($,this);return this.providers.set($,H),H}getProviders(){return Array.from(this.providers.values())}}},1877:(st,Ee,N)=>{N.d(Ee,{Am:()=>ue,Ub:()=>de,Yd:()=>se,in:()=>Y});const c=[];var Y=(()=>{return($=Y||(Y={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",Y;var $})();const O={debug:Y.DEBUG,verbose:Y.VERBOSE,info:Y.INFO,warn:Y.WARN,error:Y.ERROR,silent:Y.SILENT},ne=Y.INFO,X={[Y.DEBUG]:"log",[Y.VERBOSE]:"log",[Y.INFO]:"info",[Y.WARN]:"warn",[Y.ERROR]:"error"},pe=($,H,...Z)=>{if(H<$.logLevel)return;const He=(new Date).toISOString(),ke=X[H];if(!ke)throw new Error(`Attempted to log a message with an invalid logType (value: ${H})`);console[ke](`[${He}]  ${$.name}:`,...Z)};class se{constructor(H){this.name=H,this._logLevel=ne,this._logHandler=pe,this._userLogHandler=null,c.push(this)}get logLevel(){return this._logLevel}set logLevel(H){if(!(H in Y))throw new TypeError(`Invalid value "${H}" assigned to \`logLevel\``);this._logLevel=H}setLogLevel(H){this._logLevel="string"==typeof H?O[H]:H}get logHandler(){return this._logHandler}set logHandler(H){if("function"!=typeof H)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=H}get userLogHandler(){return this._userLogHandler}set userLogHandler(H){this._userLogHandler=H}debug(...H){this._userLogHandler&&this._userLogHandler(this,Y.DEBUG,...H),this._logHandler(this,Y.DEBUG,...H)}log(...H){this._userLogHandler&&this._userLogHandler(this,Y.VERBOSE,...H),this._logHandler(this,Y.VERBOSE,...H)}info(...H){this._userLogHandler&&this._userLogHandler(this,Y.INFO,...H),this._logHandler(this,Y.INFO,...H)}warn(...H){this._userLogHandler&&this._userLogHandler(this,Y.WARN,...H),this._logHandler(this,Y.WARN,...H)}error(...H){this._userLogHandler&&this._userLogHandler(this,Y.ERROR,...H),this._logHandler(this,Y.ERROR,...H)}}function de($){c.forEach(H=>{H.setLogLevel($)})}function ue($,H){for(const Z of c){let He=null;H&&H.level&&(He=O[H.level]),Z.userLogHandler=null===$?null:(ke,Se,...Ye)=>{const ye=Ye.map(we=>{if(null==we)return null;if("string"==typeof we)return we;if("number"==typeof we||"boolean"==typeof we)return we.toString();if(we instanceof Error)return we.message;try{return JSON.stringify(we)}catch(at){return null}}).filter(we=>we).join(" ");Se>=(null!=He?He:ke.logLevel)&&$({level:Y[Se].toLowerCase(),message:ye,args:Ye,type:ke.name})}}}},5861:(st,Ee,N)=>{function c(O,ne,X,pe,se,de,ue){try{var $=O[de](ue),H=$.value}catch(Z){return void X(Z)}$.done?ne(H):Promise.resolve(H).then(pe,se)}function Y(O){return function(){var ne=this,X=arguments;return new Promise(function(pe,se){var de=O.apply(ne,X);function ue(H){c(de,pe,se,ue,$,"next",H)}function $(H){c(de,pe,se,ue,$,"throw",H)}ue(void 0)})}}N.d(Ee,{Z:()=>Y})}},st=>{st(st.s=1024)}]);